function B2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function DS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ry={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function z2(){if(zE)return _u;zE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,a){var c=null;if(a!==void 0&&(c=""+a),o.key!==void 0&&(c=""+o.key),"key"in o){a={};for(var d in o)d!=="key"&&(a[d]=o[d])}else a=o;return o=a.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:a}}return _u.Fragment=e,_u.jsx=n,_u.jsxs=n,_u}var FE;function F2(){return FE||(FE=1,ry.exports=z2()),ry.exports}var _=F2(),iy={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function H2(){if(HE)return $e;HE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function R(U,J,ae){this.props=U,this.context=J,this.refs=T,this.updater=ae||S}R.prototype.isReactComponent={},R.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=R.prototype;function M(U,J,ae){this.props=U,this.context=J,this.refs=T,this.updater=ae||S}var L=M.prototype=new D;L.constructor=M,C(L,R.prototype),L.isPureReactComponent=!0;var H=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function O(U,J,ae,re,me,Ae){return ae=Ae.ref,{$$typeof:t,type:U,key:J,ref:ae!==void 0?ae:null,props:Ae}}function I(U,J){return O(U.type,J,void 0,void 0,void 0,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function j(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ae){return J[ae]})}var B=/\/+/g;function F(U,J){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):J.toString(36)}function V(){}function Se(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function _e(U,J,ae,re,me){var Ae=typeof U;(Ae==="undefined"||Ae==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(Ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case t:case e:pe=!0;break;case y:return pe=U._init,_e(pe(U._payload),J,ae,re,me)}}if(pe)return me=me(U),pe=re===""?"."+F(U,0):re,H(me)?(ae="",pe!=null&&(ae=pe.replace(B,"$&/")+"/"),_e(me,J,ae,"",function(ke){return ke})):me!=null&&(P(me)&&(me=I(me,ae+(me.key==null||U&&U.key===me.key?"":(""+me.key).replace(B,"$&/")+"/")+pe)),J.push(me)),1;pe=0;var he=re===""?".":re+":";if(H(U))for(var Ee=0;Ee<U.length;Ee++)re=U[Ee],Ae=he+F(re,Ee),pe+=_e(re,J,ae,Ae,me);else if(Ee=w(U),typeof Ee=="function")for(U=Ee.call(U),Ee=0;!(re=U.next()).done;)re=re.value,Ae=he+F(re,Ee++),pe+=_e(re,J,ae,Ae,me);else if(Ae==="object"){if(typeof U.then=="function")return _e(Se(U),J,ae,re,me);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return pe}function q(U,J,ae){if(U==null)return U;var re=[],me=0;return _e(U,re,"","",function(Ae){return J.call(ae,Ae,me++)}),re}function se(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ae){(U._status===0||U._status===-1)&&(U._status=1,U._result=ae)},function(ae){(U._status===0||U._status===-1)&&(U._status=2,U._result=ae)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var Q=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function le(){}return $e.Children={map:q,forEach:function(U,J,ae){q(U,function(){J.apply(this,arguments)},ae)},count:function(U){var J=0;return q(U,function(){J++}),J},toArray:function(U){return q(U,function(J){return J})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},$e.Component=R,$e.Fragment=n,$e.Profiler=o,$e.PureComponent=M,$e.StrictMode=r,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,$e.__COMPILER_RUNTIME={__proto__:null,c:function(U){return $.H.useMemoCache(U)}},$e.cache=function(U){return function(){return U.apply(null,arguments)}},$e.cloneElement=function(U,J,ae){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var re=C({},U.props),me=U.key,Ae=void 0;if(J!=null)for(pe in J.ref!==void 0&&(Ae=void 0),J.key!==void 0&&(me=""+J.key),J)!Y.call(J,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&J.ref===void 0||(re[pe]=J[pe]);var pe=arguments.length-2;if(pe===1)re.children=ae;else if(1<pe){for(var he=Array(pe),Ee=0;Ee<pe;Ee++)he[Ee]=arguments[Ee+2];re.children=he}return O(U.type,me,void 0,void 0,Ae,re)},$e.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},$e.createElement=function(U,J,ae){var re,me={},Ae=null;if(J!=null)for(re in J.key!==void 0&&(Ae=""+J.key),J)Y.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=J[re]);var pe=arguments.length-2;if(pe===1)me.children=ae;else if(1<pe){for(var he=Array(pe),Ee=0;Ee<pe;Ee++)he[Ee]=arguments[Ee+2];me.children=he}if(U&&U.defaultProps)for(re in pe=U.defaultProps,pe)me[re]===void 0&&(me[re]=pe[re]);return O(U,Ae,void 0,void 0,null,me)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(U){return{$$typeof:d,render:U}},$e.isValidElement=P,$e.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:se}},$e.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},$e.startTransition=function(U){var J=$.T,ae={};$.T=ae;try{var re=U(),me=$.S;me!==null&&me(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(le,Q)}catch(Ae){Q(Ae)}finally{$.T=J}},$e.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},$e.use=function(U){return $.H.use(U)},$e.useActionState=function(U,J,ae){return $.H.useActionState(U,J,ae)},$e.useCallback=function(U,J){return $.H.useCallback(U,J)},$e.useContext=function(U){return $.H.useContext(U)},$e.useDebugValue=function(){},$e.useDeferredValue=function(U,J){return $.H.useDeferredValue(U,J)},$e.useEffect=function(U,J,ae){var re=$.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(U,J)},$e.useId=function(){return $.H.useId()},$e.useImperativeHandle=function(U,J,ae){return $.H.useImperativeHandle(U,J,ae)},$e.useInsertionEffect=function(U,J){return $.H.useInsertionEffect(U,J)},$e.useLayoutEffect=function(U,J){return $.H.useLayoutEffect(U,J)},$e.useMemo=function(U,J){return $.H.useMemo(U,J)},$e.useOptimistic=function(U,J){return $.H.useOptimistic(U,J)},$e.useReducer=function(U,J,ae){return $.H.useReducer(U,J,ae)},$e.useRef=function(U){return $.H.useRef(U)},$e.useState=function(U){return $.H.useState(U)},$e.useSyncExternalStore=function(U,J,ae){return $.H.useSyncExternalStore(U,J,ae)},$e.useTransition=function(){return $.H.useTransition()},$e.version="19.1.0",$e}var qE;function um(){return qE||(qE=1,iy.exports=H2()),iy.exports}var E=um();const ge=DS(E),OS=B2({__proto__:null,default:ge},[E]);var sy={exports:{}},bu={},oy={exports:{}},ay={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function q2(){return $E||($E=1,function(t){function e(q,se){var Q=q.length;q.push(se);e:for(;0<Q;){var le=Q-1>>>1,U=q[le];if(0<o(U,se))q[le]=se,q[Q]=U,Q=le;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var se=q[0],Q=q.pop();if(Q!==se){q[0]=Q;e:for(var le=0,U=q.length,J=U>>>1;le<J;){var ae=2*(le+1)-1,re=q[ae],me=ae+1,Ae=q[me];if(0>o(re,Q))me<U&&0>o(Ae,re)?(q[le]=Ae,q[me]=Q,le=me):(q[le]=re,q[ae]=Q,le=ae);else if(me<U&&0>o(Ae,Q))q[le]=Ae,q[me]=Q,le=me;else break e}}return se}function o(q,se){var Q=q.sortIndex-se.sortIndex;return Q!==0?Q:q.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],y=1,v=null,w=3,S=!1,C=!1,T=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H(q){for(var se=n(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=q)r(p),se.sortIndex=se.expirationTime,e(h,se);else break;se=n(p)}}function $(q){if(T=!1,H(q),!C)if(n(h)!==null)C=!0,Y||(Y=!0,F());else{var se=n(p);se!==null&&_e($,se.startTime-q)}}var Y=!1,O=-1,I=5,P=-1;function j(){return R?!0:!(t.unstable_now()-P<I)}function B(){if(R=!1,Y){var q=t.unstable_now();P=q;var se=!0;try{e:{C=!1,T&&(T=!1,M(O),O=-1),S=!0;var Q=w;try{t:{for(H(q),v=n(h);v!==null&&!(v.expirationTime>q&&j());){var le=v.callback;if(typeof le=="function"){v.callback=null,w=v.priorityLevel;var U=le(v.expirationTime<=q);if(q=t.unstable_now(),typeof U=="function"){v.callback=U,H(q),se=!0;break t}v===n(h)&&r(h),H(q)}else r(h);v=n(h)}if(v!==null)se=!0;else{var J=n(p);J!==null&&_e($,J.startTime-q),se=!1}}break e}finally{v=null,w=Q,S=!1}se=void 0}}finally{se?F():Y=!1}}}var F;if(typeof L=="function")F=function(){L(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Se=V.port2;V.port1.onmessage=B,F=function(){Se.postMessage(null)}}else F=function(){D(B,0)};function _e(q,se){O=D(function(){q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(q){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var Q=w;w=se;try{return q()}finally{w=Q}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=w;w=q;try{return se()}finally{w=Q}},t.unstable_scheduleCallback=function(q,se,Q){var le=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,q={id:y++,callback:se,priorityLevel:q,startTime:Q,expirationTime:U,sortIndex:-1},Q>le?(q.sortIndex=Q,e(p,q),n(h)===null&&q===n(p)&&(T?(M(O),O=-1):T=!0,_e($,Q-le))):(q.sortIndex=U,e(h,q),C||S||(C=!0,Y||(Y=!0,F()))),q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(q){var se=w;return function(){var Q=w;w=se;try{return q.apply(this,arguments)}finally{w=Q}}}}(ay)),ay}var GE;function $2(){return GE||(GE=1,oy.exports=q2()),oy.exports}var ly={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function G2(){if(KE)return Dn;KE=1;var t=um();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(h,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dn.createPortal=function(h,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(h,p,null,y)},Dn.flushSync=function(h){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=y,r.d.f()}},Dn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Dn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Dn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:S}):y==="script"&&r.d.X(h,{crossOrigin:v,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Dn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);r.d.L(h,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dn.preloadModule=function(h,p){if(typeof h=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Dn.requestFormReset=function(h){r.d.r(h)},Dn.unstable_batchedUpdates=function(h,p){return h(p)},Dn.useFormState=function(h,p,y){return c.H.useFormState(h,p,y)},Dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Dn.version="19.1.0",Dn}var YE;function MS(){if(YE)return ly.exports;YE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ly.exports=G2(),ly.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function K2(){if(QE)return bu;QE=1;var t=$2(),e=um(),n=MS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(a(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return d(m),i;if(g===u)return d(m),s;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=g;else{for(var A=!1,N=m.child;N;){if(N===l){A=!0,l=m,u=g;break}if(N===u){A=!0,u=m,l=g;break}N=N.sibling}if(!A){for(N=g.child;N;){if(N===l){A=!0,l=g,u=m;break}if(N===u){A=!0,u=g,l=m;break}N=N.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case $:return"Suspense";case Y:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case L:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case H:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}var _e=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},le=[],U=-1;function J(i){return{current:i}}function ae(i){0>U||(i.current=le[U],le[U]=null,U--)}function re(i,s){U++,le[U]=i.current,i.current=s}var me=J(null),Ae=J(null),pe=J(null),he=J(null);function Ee(i,s){switch(re(pe,s),re(Ae,i),re(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?pE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=pE(s),i=gE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(me),re(me,i)}function ke(){ae(me),ae(Ae),ae(pe)}function Oe(i){i.memoizedState!==null&&re(he,i);var s=me.current,l=gE(s,i.type);s!==l&&(re(Ae,i),re(me,l))}function Ve(i){Ae.current===i&&(ae(me),ae(Ae)),he.current===i&&(ae(he),mu._currentValue=Q)}var ze=Object.prototype.hasOwnProperty,Rt=t.unstable_scheduleCallback,ne=t.unstable_cancelCallback,ve=t.unstable_shouldYield,Te=t.unstable_requestPaint,xe=t.unstable_now,Xe=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,rn=t.unstable_UserBlockingPriority,mn=t.unstable_NormalPriority,It=t.unstable_LowPriority,Vn=t.unstable_IdlePriority,kr=t.log,Oi=t.unstable_setDisableYieldValue,rt=null,it=null;function In(i){if(typeof kr=="function"&&Oi(i),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(rt,i)}catch{}}var Xt=Math.clz32?Math.clz32:qn,Pr=Math.log,Ua=Math.LN2;function qn(i){return i>>>=0,i===0?32:31-(Pr(i)/Ua|0)|0}var Mi=256,ki=4194304;function $n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pi(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var N=u&134217727;return N!==0?(u=N&~g,u!==0?m=$n(u):(A&=N,A!==0?m=$n(A):l||(l=N&~i,l!==0&&(m=$n(l))))):(N=u&~g,N!==0?m=$n(N):A!==0?m=$n(A):l||(l=u&~i,l!==0&&(m=$n(l)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:m}function Li(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Vi(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(){var i=Mi;return Mi<<=1,(Mi&4194048)===0&&(Mi=256),i}function Uo(){var i=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),i}function Lr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function yr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ps(i,s,l,u,m,g){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var N=i.entanglements,z=i.expirationTimes,Z=i.hiddenUpdates;for(l=A&~l;0<l;){var oe=31-Xt(l),de=1<<oe;N[oe]=0,z[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var te=ee[oe];te!==null&&(te.lane&=-536870913)}l&=~de}u!==0&&Pe(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(A&~s))}function Pe(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Xt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function kt(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-Xt(l),m=1<<u;m&s|i[u]&s&&(i[u]|=s),l&=~m}}function Nt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nr(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:PE(i.type))}function Ht(i,s){var l=se.p;try{return se.p=i,s()}finally{se.p=l}}var Ze=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Ze,ft="__reactProps$"+Ze,Lt="__reactContainer$"+Ze,Ls="__reactEvents$"+Ze,Vr="__reactListeners$"+Ze,ji="__reactHandles$"+Ze,Ad="__reactResources$"+Ze,Bo="__reactMarker$"+Ze;function Vs(i){delete i[Pt],delete i[ft],delete i[Ls],delete i[Vr],delete i[ji]}function Ui(i){var s=i[Pt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Lt]||l[Pt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=bE(i);i!==null;){if(l=i[Pt])return l;i=bE(i)}return s}i=l,l=i.parentNode}return null}function Wr(i){if(i=i[Pt]||i[Lt]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Zr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function jn(i){var s=i[Ad];return s||(s=i[Ad]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(i){i[Bo]=!0}var bc=new Set,Ba={};function jr(i,s){Bi(i,s),Bi(i+"Capture",s)}function Bi(i,s){for(Ba[i]=s,i=0;i<s.length;i++)bc.add(s[i])}var Rd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},zo={};function Id(i){return ze.call(zo,i)?!0:ze.call(Cd,i)?!1:Rd.test(i)?zo[i]=!0:(Cd[i]=!0,!1)}function js(i,s,l){if(Id(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Jr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function wn(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}var Fo,Nd;function zi(i){if(Fo===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Fo=s&&s[1]||"",Nd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fo+i+Nd}var za=!1;function Fa(i,s){if(!i||za)return"";za=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var ee=te}Reflect.construct(i,[],de)}else{try{de.call()}catch(te){ee=te}i.call(de.prototype)}}else{try{throw Error()}catch(te){ee=te}(de=i())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),A=g[0],N=g[1];if(A&&N){var z=A.split(`
`),Z=N.split(`
`);for(m=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(u===z.length||m===Z.length)for(u=z.length-1,m=Z.length-1;1<=u&&0<=m&&z[u]!==Z[m];)m--;for(;1<=u&&0<=m;u--,m--)if(z[u]!==Z[m]){if(u!==1||m!==1)do if(u--,m--,0>m||z[u]!==Z[m]){var oe=`
`+z[u].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=u&&0<=m);break}}}finally{za=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?zi(l):""}function wc(i){switch(i.tag){case 26:case 27:case 5:return zi(i.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Fa(i.type,!1);case 11:return Fa(i.type.render,!1);case 1:return Fa(i.type,!0);case 31:return zi("Activity");default:return""}}function Ha(i){try{var s="";do s+=wc(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ec(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ap(i){var s=Ec(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(A){u=""+A,g.call(this,A)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function qa(i){i._valueTracker||(i._valueTracker=ap(i))}function Tc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=Ec(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Ho(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var lp=/[\n"\\]/g;function Zt(i){return i.replace(lp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rr(i,s,l,u,m,g,A,N){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Un(s)):i.value!==""+Un(s)&&(i.value=""+Un(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Us(i,A,Un(s)):l!=null?Us(i,A,Un(l)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+Un(N):i.removeAttribute("name")}function qo(i,s,l,u,m,g,A,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+Un(l):"",s=s!=null?""+Un(s):l,N||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=N?i.checked:!!u,i.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Us(i,s,l){s==="number"&&Ho(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Fi(i,s,l,u){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Un(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Et(i,s,l){if(s!=null&&(s=""+Un(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Un(l):""}function $o(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(_e(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Un(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function vr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dd(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||Go.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function xc(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&l[m]!==u&&Dd(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&Dd(i,g,s[g])}function Sc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(i){return up.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Hi=null;function _r(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qi=null,$i=null;function Ac(i){var s=Wr(i);if(s&&(i=s.stateNode)){var l=i[ft]||null;e:switch(i=s.stateNode,s.type){case"input":if(rr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var m=u[ft]||null;if(!m)throw Error(r(90));rr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&Tc(u)}break e;case"textarea":Et(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Fi(i,!!l.multiple,s,!1)}}}var ei=!1;function Od(i,s,l){if(ei)return i(s,l);ei=!0;try{var u=i(s);return u}finally{if(ei=!1,(qi!==null||$i!==null)&&(Af(),qi&&(s=qi,i=$i,$i=qi=null,Ac(s),i)))for(s=0;s<i.length;s++)Ac(i[s])}}function Ko(i,s){var l=i.stateNode;if(l===null)return null;var u=l[ft]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Ur)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){br=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{br=!1}var ti=null,Bs=null,Gi=null;function Rc(){if(Gi)return Gi;var i,s=Bs,l=s.length,u,m="value"in ti?ti.value:ti.textContent,g=m.length;for(i=0;i<l&&s[i]===m[i];i++);var A=l-i;for(u=1;u<=A&&s[l-u]===m[g-u];u++);return Gi=m.slice(i,1<u?1-u:void 0)}function ni(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function Cc(){return!1}function pn(i){function s(l,u,m,g,A){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(l=i[N],this[N]=l?l(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ri:Cc,this.isPropagationStopped=Cc,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),s}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=pn(yt),Qo=y({},yt,{view:0,detail:0}),Md=pn(Qo),Ka,Ya,ii,Xo=y({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ii&&(ii&&i.type==="mousemove"?(Ka=i.screenX-ii.screenX,Ya=i.screenY-ii.screenY):Ya=Ka=0,ii=i),Ka)},movementY:function(i){return"movementY"in i?i.movementY:Ya}}),wr=pn(Xo),kd=y({},Xo,{dataTransfer:0}),dp=pn(kd),Wo=y({},Qo,{relatedTarget:0}),Qa=pn(Wo),Ic=y({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=pn(Ic),Pd=y({},yt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wa=pn(Pd),fp=y({},yt,{data:0}),Nc=pn(fp),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Vd[i])?!!s[i]:!1}function Jo(){return Dc}var jd=y({},Qo,{key:function(i){if(i.key){var s=Zo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ni(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ld[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(i){return i.type==="keypress"?ni(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ni(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Za=pn(jd),Ud=y({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=pn(Ud),Ki=y({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),Bd=pn(Ki),zd=y({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fd=pn(zd),Hd=y({},Xo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=pn(Hd),Bn=y({},yt,{newState:0,oldState:0}),qd=pn(Bn),$d=[9,13,27,32],si=Ur&&"CompositionEvent"in window,f=null;Ur&&"documentMode"in document&&(f=document.documentMode);var b=Ur&&"TextEvent"in window&&!f,x=Ur&&(!si||f&&8<f&&11>=f),k=" ",X=!1;function ie(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lt=!1;function sn(i,s){switch(i){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(X=!0,k);case"textInput":return i=s.data,i===k&&X?null:i;default:return null}}function ct(i,s){if(lt)return i==="compositionend"||!si&&ie(i,s)?(i=Rc(),Gi=Bs=ti=null,lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return x&&s.locale!=="ko"?null:s.data;default:return null}}var gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!gn[i.type]:s==="textarea"}function Yi(i,s,l,u){qi?$i?$i.push(u):$i=[u]:qi=u,s=Of(s,"onChange"),0<s.length&&(l=new Ga("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var En=null,oi=null;function Mc(i){uE(i,0)}function Gd(i){var s=Zr(i);if(Tc(s))return i}function D0(i,s){if(i==="change")return s}var O0=!1;if(Ur){var hp;if(Ur){var mp="oninput"in document;if(!mp){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),mp=typeof M0.oninput=="function"}hp=mp}else hp=!1;O0=hp&&(!document.documentMode||9<document.documentMode)}function k0(){En&&(En.detachEvent("onpropertychange",P0),oi=En=null)}function P0(i){if(i.propertyName==="value"&&Gd(oi)){var s=[];Yi(s,oi,i,_r(i)),Od(Mc,s)}}function gD(i,s,l){i==="focusin"?(k0(),En=s,oi=l,En.attachEvent("onpropertychange",P0)):i==="focusout"&&k0()}function yD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gd(oi)}function vD(i,s){if(i==="click")return Gd(s)}function _D(i,s){if(i==="input"||i==="change")return Gd(s)}function bD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ir=typeof Object.is=="function"?Object.is:bD;function kc(i,s){if(ir(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!ze.call(s,m)||!ir(i[m],s[m]))return!1}return!0}function L0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V0(i,s){var l=L0(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=L0(l)}}function j0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?j0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function U0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ho(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ho(i.document)}return s}function pp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wD=Ur&&"documentMode"in document&&11>=document.documentMode,el=null,gp=null,Pc=null,yp=!1;function B0(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yp||el==null||el!==Ho(u)||(u=el,"selectionStart"in u&&pp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pc&&kc(Pc,u)||(Pc=u,u=Of(gp,"onSelect"),0<u.length&&(s=new Ga("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=el)))}function ea(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var tl={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},vp={},z0={};Ur&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function ta(i){if(vp[i])return vp[i];if(!tl[i])return i;var s=tl[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in z0)return vp[i]=s[l];return i}var F0=ta("animationend"),H0=ta("animationiteration"),q0=ta("animationstart"),ED=ta("transitionrun"),TD=ta("transitionstart"),xD=ta("transitioncancel"),$0=ta("transitionend"),G0=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function Br(i,s){G0.set(i,s),jr(s,[i])}var K0=new WeakMap;function Er(i,s){if(typeof i=="object"&&i!==null){var l=K0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Ha(s)},K0.set(i,s),s)}return{value:i,source:s,stack:Ha(s)}}var Tr=[],nl=0,bp=0;function Kd(){for(var i=nl,s=bp=nl=0;s<i;){var l=Tr[s];Tr[s++]=null;var u=Tr[s];Tr[s++]=null;var m=Tr[s];Tr[s++]=null;var g=Tr[s];if(Tr[s++]=null,u!==null&&m!==null){var A=u.pending;A===null?m.next=m:(m.next=A.next,A.next=m),u.pending=m}g!==0&&Y0(l,m,g)}}function Yd(i,s,l,u){Tr[nl++]=i,Tr[nl++]=s,Tr[nl++]=l,Tr[nl++]=u,bp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function wp(i,s,l,u){return Yd(i,s,l,u),Qd(i)}function rl(i,s){return Yd(i,null,null,s),Qd(i)}function Y0(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-Xt(l),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=l|536870912),g):null}function Qd(i){if(50<ou)throw ou=0,Rg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var il={};function SD(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(i,s,l,u){return new SD(i,s,l,u)}function Ep(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qi(i,s){var l=i.alternate;return l===null?(l=sr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Q0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Xd(i,s,l,u,m,g){var A=0;if(u=i,typeof i=="function")Ep(i)&&(A=1);else if(typeof i=="string")A=R2(i,l,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=sr(31,l,s,m),i.elementType=P,i.lanes=g,i;case C:return na(l.children,m,g,s);case T:A=8,m|=24;break;case R:return i=sr(12,l,s,m|2),i.elementType=R,i.lanes=g,i;case $:return i=sr(13,l,s,m),i.elementType=$,i.lanes=g,i;case Y:return i=sr(19,l,s,m),i.elementType=Y,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case L:A=10;break e;case M:A=9;break e;case H:A=11;break e;case O:A=14;break e;case I:A=16,u=null;break e}A=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=sr(A,l,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function na(i,s,l,u){return i=sr(7,i,u,s),i.lanes=l,i}function Tp(i,s,l){return i=sr(6,i,null,s),i.lanes=l,i}function xp(i,s,l){return s=sr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var sl=[],ol=0,Wd=null,Zd=0,xr=[],Sr=0,ra=null,Xi=1,Wi="";function ia(i,s){sl[ol++]=Zd,sl[ol++]=Wd,Wd=i,Zd=s}function X0(i,s,l){xr[Sr++]=Xi,xr[Sr++]=Wi,xr[Sr++]=ra,ra=i;var u=Xi;i=Wi;var m=32-Xt(u)-1;u&=~(1<<m),l+=1;var g=32-Xt(s)+m;if(30<g){var A=m-m%5;g=(u&(1<<A)-1).toString(32),u>>=A,m-=A,Xi=1<<32-Xt(s)+m|l<<m|u,Wi=g+i}else Xi=1<<g|l<<m|u,Wi=i}function Sp(i){i.return!==null&&(ia(i,1),X0(i,1,0))}function Ap(i){for(;i===Wd;)Wd=sl[--ol],sl[ol]=null,Zd=sl[--ol],sl[ol]=null;for(;i===ra;)ra=xr[--Sr],xr[Sr]=null,Wi=xr[--Sr],xr[Sr]=null,Xi=xr[--Sr],xr[Sr]=null}var zn=null,qt=null,mt=!1,sa=null,ai=!1,Rp=Error(r(519));function oa(i){var s=Error(r(418,""));throw jc(Er(s,i)),Rp}function W0(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Pt]=i,s[ft]=u,l){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(l=0;l<lu.length;l++)et(lu[l],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),qo(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qa(s);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),$o(s,u.value,u.defaultValue,u.children),qa(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||mE(s.textContent,l)?(u.popover!=null&&(et("beforetoggle",s),et("toggle",s)),u.onScroll!=null&&et("scroll",s),u.onScrollEnd!=null&&et("scrollend",s),u.onClick!=null&&(s.onclick=Mf),s=!0):s=!1,s||oa(i)}function Z0(i){for(zn=i.return;zn;)switch(zn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:zn=zn.return}}function Lc(i){if(i!==zn)return!1;if(!mt)return Z0(i),mt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Hg(i.type,i.memoizedProps)),l=!l),l&&qt&&oa(i),Z0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){qt=Fr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}qt=null}}else s===27?(s=qt,no(i.type)?(i=Kg,Kg=null,qt=i):qt=s):qt=zn?Fr(i.stateNode.nextSibling):null;return!0}function Vc(){qt=zn=null,mt=!1}function J0(){var i=sa;return i!==null&&(Qn===null?Qn=i:Qn.push.apply(Qn,i),sa=null),i}function jc(i){sa===null?sa=[i]:sa.push(i)}var Cp=J(null),aa=null,Zi=null;function zs(i,s,l){re(Cp,s._currentValue),s._currentValue=l}function Ji(i){i._currentValue=Cp.current,ae(Cp)}function Ip(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Np(i,s,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var A=m.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=m;for(var z=0;z<s.length;z++)if(N.context===s[z]){g.lanes|=l,N=g.alternate,N!==null&&(N.lanes|=l),Ip(g.return,l,i),u||(A=null);break e}g=N.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,g=A.alternate,g!==null&&(g.lanes|=l),Ip(A,l,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Uc(i,s,l,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var N=m.type;ir(m.pendingProps.value,A.value)||(i!==null?i.push(N):i=[N])}}else if(m===he.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(mu):i=[mu])}m=m.return}i!==null&&Np(s,i,l,u),s.flags|=262144}function Jd(i){for(i=i.firstContext;i!==null;){if(!ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function la(i){aa=i,Zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Nn(i){return eb(aa,i)}function ef(i,s){return aa===null&&la(i),eb(i,s)}function eb(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Zi===null){if(i===null)throw Error(r(308));Zi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Zi=Zi.next=s;return l}var AD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},RD=t.unstable_scheduleCallback,CD=t.unstable_NormalPriority,an={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dp(){return{controller:new AD,data:new Map,refCount:0}}function Bc(i){i.refCount--,i.refCount===0&&RD(CD,function(){i.controller.abort()})}var zc=null,Op=0,al=0,ll=null;function ID(i,s){if(zc===null){var l=zc=[];Op=0,al=kg(),ll={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Op++,s.then(tb,tb),s}function tb(){if(--Op===0&&zc!==null){ll!==null&&(ll.status="fulfilled");var i=zc;zc=null,al=0,ll=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function ND(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var nb=q.S;q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ID(i,s),nb!==null&&nb(i,s)};var ca=J(null);function Mp(){var i=ca.current;return i!==null?i:Ct.pooledCache}function tf(i,s){s===null?re(ca,ca.current):re(ca,s.pool)}function rb(){var i=Mp();return i===null?null:{parent:an._currentValue,pool:i}}var Fc=Error(r(460)),ib=Error(r(474)),nf=Error(r(542)),kp={then:function(){}};function sb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function rf(){}function ob(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(rf,rf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,lb(i),i;default:if(typeof s.status=="string")s.then(rf,rf);else{if(i=Ct,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,lb(i),i}throw Hc=s,Fc}}var Hc=null;function ab(){if(Hc===null)throw Error(r(459));var i=Hc;return Hc=null,i}function lb(i){if(i===Fc||i===nf)throw Error(r(483))}var Fs=!1;function Pp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qs(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Qd(i),Y0(i,null,l),s}return Yd(i,u,s,l),Qd(i)}function qc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,kt(i,l)}}function Vp(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=A:g=g.next=A,l=l.next}while(l!==null);g===null?m=g=s:g=g.next=s}else m=g=s;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var jp=!1;function $c(){if(jp){var i=ll;if(i!==null)throw i}}function Gc(i,s,l,u){jp=!1;var m=i.updateQueue;Fs=!1;var g=m.firstBaseUpdate,A=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,Z=z.next;z.next=null,A===null?g=Z:A.next=Z,A=z;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,N=oe.lastBaseUpdate,N!==A&&(N===null?oe.firstBaseUpdate=Z:N.next=Z,oe.lastBaseUpdate=z))}if(g!==null){var de=m.baseState;A=0,oe=Z=z=null,N=g;do{var ee=N.lane&-536870913,te=ee!==N.lane;if(te?(ut&ee)===ee:(u&ee)===ee){ee!==0&&ee===al&&(jp=!0),oe!==null&&(oe=oe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Be=i,Le=N;ee=s;var St=l;switch(Le.tag){case 1:if(Be=Le.payload,typeof Be=="function"){de=Be.call(St,de,ee);break e}de=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Le.payload,ee=typeof Be=="function"?Be.call(St,de,ee):Be,ee==null)break e;de=y({},de,ee);break e;case 2:Fs=!0}}ee=N.callback,ee!==null&&(i.flags|=64,te&&(i.flags|=8192),te=m.callbacks,te===null?m.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},oe===null?(Z=oe=te,z=de):oe=oe.next=te,A|=ee;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;te=N,N=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);oe===null&&(z=de),m.baseState=z,m.firstBaseUpdate=Z,m.lastBaseUpdate=oe,g===null&&(m.shared.lanes=0),Zs|=A,i.lanes=A,i.memoizedState=de}}function cb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function ub(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)cb(l[i],s)}var cl=J(null),sf=J(0);function db(i,s){i=os,re(sf,i),re(cl,s),os=i|s.baseLanes}function Up(){re(sf,os),re(cl,cl.current)}function Bp(){os=sf.current,ae(cl),ae(sf)}var $s=0,Ke=null,Tt=null,Jt=null,of=!1,ul=!1,ua=!1,af=0,Kc=0,dl=null,DD=0;function Kt(){throw Error(r(321))}function zp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!ir(i[l],s[l]))return!1;return!0}function Fp(i,s,l,u,m,g){return $s=g,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?Yb:Qb,ua=!1,g=l(u,m),ua=!1,ul&&(g=hb(s,l,u,m)),fb(i),g}function fb(i){q.H=hf;var s=Tt!==null&&Tt.next!==null;if($s=0,Jt=Tt=Ke=null,of=!1,Kc=0,dl=null,s)throw Error(r(300));i===null||yn||(i=i.dependencies,i!==null&&Jd(i)&&(yn=!0))}function hb(i,s,l,u){Ke=i;var m=0;do{if(ul&&(dl=null),Kc=0,ul=!1,25<=m)throw Error(r(301));if(m+=1,Jt=Tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=jD,g=s(l,u)}while(ul);return g}function OD(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Yc(s):s,i=i.useState()[0],(Tt!==null?Tt.memoizedState:null)!==i&&(Ke.flags|=1024),s}function Hp(){var i=af!==0;return af=0,i}function qp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function $p(i){if(of){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}of=!1}$s=0,Jt=Tt=Ke=null,ul=!1,Kc=af=0,dl=null}function Kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ke.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function en(){if(Tt===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var s=Jt===null?Ke.memoizedState:Jt.next;if(s!==null)Jt=s,Tt=i;else{if(i===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Jt===null?Ke.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(i){var s=Kc;return Kc+=1,dl===null&&(dl=[]),i=ob(dl,i,s),s=Ke,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?Yb:Qb),i}function lf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yc(i);if(i.$$typeof===L)return Nn(i)}throw Error(r(438,String(i)))}function Kp(i){var s=null,l=Ke.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Gp(),Ke.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=j;return s.index++,l}function es(i,s){return typeof s=="function"?s(i):s}function cf(i){var s=en();return Yp(s,Tt,i)}function Yp(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var A=m.next;m.next=g.next,g.next=A}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var N=A=null,z=null,Z=s,oe=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(ut&de)===de:($s&de)===de){var ee=Z.revertLane;if(ee===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===al&&(oe=!0);else if(($s&ee)===ee){Z=Z.next,ee===al&&(oe=!0);continue}else de={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(N=z=de,A=g):z=z.next=de,Ke.lanes|=ee,Zs|=ee;de=Z.action,ua&&l(g,de),g=Z.hasEagerState?Z.eagerState:l(g,de)}else ee={lane:de,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(N=z=ee,A=g):z=z.next=ee,Ke.lanes|=de,Zs|=de;Z=Z.next}while(Z!==null&&Z!==s);if(z===null?A=g:z.next=N,!ir(g,i.memoizedState)&&(yn=!0,oe&&(l=ll,l!==null)))throw l;i.memoizedState=g,i.baseState=A,i.baseQueue=z,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Qp(i){var s=en(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,g=s.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do g=i(g,A.action),A=A.next;while(A!==m);ir(g,s.memoizedState)||(yn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function mb(i,s,l){var u=Ke,m=en(),g=mt;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var A=!ir((Tt||m).memoizedState,l);A&&(m.memoizedState=l,yn=!0),m=m.queue;var N=yb.bind(null,u,m,i);if(Qc(2048,8,N,[i]),m.getSnapshot!==s||A||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,fl(9,uf(),gb.bind(null,u,m,l,s),null),Ct===null)throw Error(r(349));g||($s&124)!==0||pb(u,s,l)}return l}function pb(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ke.updateQueue,s===null?(s=Gp(),Ke.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function gb(i,s,l,u){s.value=l,s.getSnapshot=u,vb(s)&&_b(i)}function yb(i,s,l){return l(function(){vb(s)&&_b(i)})}function vb(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!ir(i,l)}catch{return!0}}function _b(i){var s=rl(i,2);s!==null&&ur(s,i,2)}function Xp(i){var s=Kn();if(typeof i=="function"){var l=i;if(i=l(),ua){In(!0);try{l()}finally{In(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:i},s}function bb(i,s,l,u){return i.baseState=l,Yp(i,Tt,typeof u=="function"?u:es)}function MD(i,s,l,u,m){if(ff(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};q.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,wb(s,g)):(g.next=l.next,s.pending=l.next=g)}}function wb(i,s){var l=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=q.T,A={};q.T=A;try{var N=l(m,u),z=q.S;z!==null&&z(A,N),Eb(i,s,N)}catch(Z){Wp(i,s,Z)}finally{q.T=g}}else try{g=l(m,u),Eb(i,s,g)}catch(Z){Wp(i,s,Z)}}function Eb(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Tb(i,s,u)},function(u){return Wp(i,s,u)}):Tb(i,s,l)}function Tb(i,s,l){s.status="fulfilled",s.value=l,xb(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,wb(i,l)))}function Wp(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,xb(s),s=s.next;while(s!==u)}i.action=null}function xb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Sb(i,s){return s}function Ab(i,s){if(mt){var l=Ct.formState;if(l!==null){e:{var u=Ke;if(mt){if(qt){t:{for(var m=qt,g=ai;m.nodeType!==8;){if(!g){m=null;break t}if(m=Fr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){qt=Fr(m.nextSibling),u=m.data==="F!";break e}}oa(u)}u=!1}u&&(s=l[0])}}return l=Kn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sb,lastRenderedState:s},l.queue=u,l=$b.bind(null,Ke,u),u.dispatch=l,u=Xp(!1),g=ng.bind(null,Ke,!1,u.queue),u=Kn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,l=MD.bind(null,Ke,m,g,l),m.dispatch=l,u.memoizedState=i,[s,l,!1]}function Rb(i){var s=en();return Cb(s,Tt,i)}function Cb(i,s,l){if(s=Yp(i,s,Sb)[0],i=cf(es)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Yc(s)}catch(A){throw A===Fc?nf:A}else u=s;s=en();var m=s.queue,g=m.dispatch;return l!==s.memoizedState&&(Ke.flags|=2048,fl(9,uf(),kD.bind(null,m,l),null)),[u,g,i]}function kD(i,s){i.action=s}function Ib(i){var s=en(),l=Tt;if(l!==null)return Cb(s,l,i);en(),s=s.memoizedState,l=en();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function fl(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Ke.updateQueue,s===null&&(s=Gp(),Ke.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function uf(){return{destroy:void 0,resource:void 0}}function Nb(){return en().memoizedState}function df(i,s,l,u){var m=Kn();u=u===void 0?null:u,Ke.flags|=i,m.memoizedState=fl(1|s,uf(),l,u)}function Qc(i,s,l,u){var m=en();u=u===void 0?null:u;var g=m.memoizedState.inst;Tt!==null&&u!==null&&zp(u,Tt.memoizedState.deps)?m.memoizedState=fl(s,g,l,u):(Ke.flags|=i,m.memoizedState=fl(1|s,g,l,u))}function Db(i,s){df(8390656,8,i,s)}function Ob(i,s){Qc(2048,8,i,s)}function Mb(i,s){return Qc(4,2,i,s)}function kb(i,s){return Qc(4,4,i,s)}function Pb(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Lb(i,s,l){l=l!=null?l.concat([i]):null,Qc(4,4,Pb.bind(null,s,i),l)}function Zp(){}function Vb(i,s){var l=en();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&zp(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function jb(i,s){var l=en();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&zp(s,u[1]))return u[0];if(u=i(),ua){In(!0);try{i()}finally{In(!1)}}return l.memoizedState=[u,s],u}function Jp(i,s,l){return l===void 0||($s&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=zw(),Ke.lanes|=i,Zs|=i,l)}function Ub(i,s,l,u){return ir(l,s)?l:cl.current!==null?(i=Jp(i,l,u),ir(i,s)||(yn=!0),i):($s&42)===0?(yn=!0,i.memoizedState=l):(i=zw(),Ke.lanes|=i,Zs|=i,s)}function Bb(i,s,l,u,m){var g=se.p;se.p=g!==0&&8>g?g:8;var A=q.T,N={};q.T=N,ng(i,!1,s,l);try{var z=m(),Z=q.S;if(Z!==null&&Z(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=ND(z,u);Xc(i,s,oe,cr(i))}else Xc(i,s,u,cr(i))}catch(de){Xc(i,s,{then:function(){},status:"rejected",reason:de},cr())}finally{se.p=g,q.T=A}}function PD(){}function eg(i,s,l,u){if(i.tag!==5)throw Error(r(476));var m=zb(i).queue;Bb(i,m,s,Q,l===null?PD:function(){return Fb(i),l(u)})}function zb(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:Q},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Fb(i){var s=zb(i).next.queue;Xc(i,s,{},cr())}function tg(){return Nn(mu)}function Hb(){return en().memoizedState}function qb(){return en().memoizedState}function LD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=cr();i=Hs(l);var u=qs(s,i,l);u!==null&&(ur(u,s,l),qc(u,s,l)),s={cache:Dp()},i.payload=s;return}s=s.return}}function VD(i,s,l){var u=cr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ff(i)?Gb(s,l):(l=wp(i,s,l,u),l!==null&&(ur(l,i,u),Kb(l,s,u)))}function $b(i,s,l){var u=cr();Xc(i,s,l,u)}function Xc(i,s,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ff(i))Gb(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var A=s.lastRenderedState,N=g(A,l);if(m.hasEagerState=!0,m.eagerState=N,ir(N,A))return Yd(i,s,m,0),Ct===null&&Kd(),!1}catch{}finally{}if(l=wp(i,s,m,u),l!==null)return ur(l,i,u),Kb(l,s,u),!0}return!1}function ng(i,s,l,u){if(u={lane:2,revertLane:kg(),action:u,hasEagerState:!1,eagerState:null,next:null},ff(i)){if(s)throw Error(r(479))}else s=wp(i,l,u,2),s!==null&&ur(s,i,2)}function ff(i){var s=i.alternate;return i===Ke||s!==null&&s===Ke}function Gb(i,s){ul=of=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Kb(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,kt(i,l)}}var hf={readContext:Nn,use:lf,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},Yb={readContext:Nn,use:lf,useCallback:function(i,s){return Kn().memoizedState=[i,s===void 0?null:s],i},useContext:Nn,useEffect:Db,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,df(4194308,4,Pb.bind(null,s,i),l)},useLayoutEffect:function(i,s){return df(4194308,4,i,s)},useInsertionEffect:function(i,s){df(4,2,i,s)},useMemo:function(i,s){var l=Kn();s=s===void 0?null:s;var u=i();if(ua){In(!0);try{i()}finally{In(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=Kn();if(l!==void 0){var m=l(s);if(ua){In(!0);try{l(s)}finally{In(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=VD.bind(null,Ke,i),[u.memoizedState,i]},useRef:function(i){var s=Kn();return i={current:i},s.memoizedState=i},useState:function(i){i=Xp(i);var s=i.queue,l=$b.bind(null,Ke,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Zp,useDeferredValue:function(i,s){var l=Kn();return Jp(l,i,s)},useTransition:function(){var i=Xp(!1);return i=Bb.bind(null,Ke,i.queue,!0,!1),Kn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Ke,m=Kn();if(mt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Ct===null)throw Error(r(349));(ut&124)!==0||pb(u,s,l)}m.memoizedState=l;var g={value:l,getSnapshot:s};return m.queue=g,Db(yb.bind(null,u,g,i),[i]),u.flags|=2048,fl(9,uf(),gb.bind(null,u,g,l,s),null),l},useId:function(){var i=Kn(),s=Ct.identifierPrefix;if(mt){var l=Wi,u=Xi;l=(u&~(1<<32-Xt(u)-1)).toString(32)+l,s="«"+s+"R"+l,l=af++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=DD++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:tg,useFormState:Ab,useActionState:Ab,useOptimistic:function(i){var s=Kn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=ng.bind(null,Ke,!0,l),l.dispatch=s,[i,s]},useMemoCache:Kp,useCacheRefresh:function(){return Kn().memoizedState=LD.bind(null,Ke)}},Qb={readContext:Nn,use:lf,useCallback:Vb,useContext:Nn,useEffect:Ob,useImperativeHandle:Lb,useInsertionEffect:Mb,useLayoutEffect:kb,useMemo:jb,useReducer:cf,useRef:Nb,useState:function(){return cf(es)},useDebugValue:Zp,useDeferredValue:function(i,s){var l=en();return Ub(l,Tt.memoizedState,i,s)},useTransition:function(){var i=cf(es)[0],s=en().memoizedState;return[typeof i=="boolean"?i:Yc(i),s]},useSyncExternalStore:mb,useId:Hb,useHostTransitionStatus:tg,useFormState:Rb,useActionState:Rb,useOptimistic:function(i,s){var l=en();return bb(l,Tt,i,s)},useMemoCache:Kp,useCacheRefresh:qb},jD={readContext:Nn,use:lf,useCallback:Vb,useContext:Nn,useEffect:Ob,useImperativeHandle:Lb,useInsertionEffect:Mb,useLayoutEffect:kb,useMemo:jb,useReducer:Qp,useRef:Nb,useState:function(){return Qp(es)},useDebugValue:Zp,useDeferredValue:function(i,s){var l=en();return Tt===null?Jp(l,i,s):Ub(l,Tt.memoizedState,i,s)},useTransition:function(){var i=Qp(es)[0],s=en().memoizedState;return[typeof i=="boolean"?i:Yc(i),s]},useSyncExternalStore:mb,useId:Hb,useHostTransitionStatus:tg,useFormState:Ib,useActionState:Ib,useOptimistic:function(i,s){var l=en();return Tt!==null?bb(l,Tt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:qb},hl=null,Wc=0;function mf(i){var s=Wc;return Wc+=1,hl===null&&(hl=[]),ob(hl,i,s)}function Zc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function pf(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Xb(i){var s=i._init;return s(i._payload)}function Wb(i){function s(K,G){if(i){var W=K.deletions;W===null?(K.deletions=[G],K.flags|=16):W.push(G)}}function l(K,G){if(!i)return null;for(;G!==null;)s(K,G),G=G.sibling;return null}function u(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function m(K,G){return K=Qi(K,G),K.index=0,K.sibling=null,K}function g(K,G,W){return K.index=W,i?(W=K.alternate,W!==null?(W=W.index,W<G?(K.flags|=67108866,G):W):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function A(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function N(K,G,W,ce){return G===null||G.tag!==6?(G=Tp(W,K.mode,ce),G.return=K,G):(G=m(G,W),G.return=K,G)}function z(K,G,W,ce){var Re=W.type;return Re===C?oe(K,G,W.props.children,ce,W.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Xb(Re)===G.type)?(G=m(G,W.props),Zc(G,W),G.return=K,G):(G=Xd(W.type,W.key,W.props,null,K.mode,ce),Zc(G,W),G.return=K,G)}function Z(K,G,W,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=xp(W,K.mode,ce),G.return=K,G):(G=m(G,W.children||[]),G.return=K,G)}function oe(K,G,W,ce,Re){return G===null||G.tag!==7?(G=na(W,K.mode,ce,Re),G.return=K,G):(G=m(G,W),G.return=K,G)}function de(K,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Tp(""+G,K.mode,W),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return W=Xd(G.type,G.key,G.props,null,K.mode,W),Zc(W,G),W.return=K,W;case S:return G=xp(G,K.mode,W),G.return=K,G;case I:var ce=G._init;return G=ce(G._payload),de(K,G,W)}if(_e(G)||F(G))return G=na(G,K.mode,W,null),G.return=K,G;if(typeof G.then=="function")return de(K,mf(G),W);if(G.$$typeof===L)return de(K,ef(K,G),W);pf(K,G)}return null}function ee(K,G,W,ce){var Re=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:N(K,G,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===Re?z(K,G,W,ce):null;case S:return W.key===Re?Z(K,G,W,ce):null;case I:return Re=W._init,W=Re(W._payload),ee(K,G,W,ce)}if(_e(W)||F(W))return Re!==null?null:oe(K,G,W,ce,null);if(typeof W.then=="function")return ee(K,G,mf(W),ce);if(W.$$typeof===L)return ee(K,G,ef(K,W),ce);pf(K,W)}return null}function te(K,G,W,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(W)||null,N(G,K,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return K=K.get(ce.key===null?W:ce.key)||null,z(G,K,ce,Re);case S:return K=K.get(ce.key===null?W:ce.key)||null,Z(G,K,ce,Re);case I:var We=ce._init;return ce=We(ce._payload),te(K,G,W,ce,Re)}if(_e(ce)||F(ce))return K=K.get(W)||null,oe(G,K,ce,Re,null);if(typeof ce.then=="function")return te(K,G,W,mf(ce),Re);if(ce.$$typeof===L)return te(K,G,W,ef(G,ce),Re);pf(G,ce)}return null}function Be(K,G,W,ce){for(var Re=null,We=null,De=G,je=G=0,_n=null;De!==null&&je<W.length;je++){De.index>je?(_n=De,De=null):_n=De.sibling;var ht=ee(K,De,W[je],ce);if(ht===null){De===null&&(De=_n);break}i&&De&&ht.alternate===null&&s(K,De),G=g(ht,G,je),We===null?Re=ht:We.sibling=ht,We=ht,De=_n}if(je===W.length)return l(K,De),mt&&ia(K,je),Re;if(De===null){for(;je<W.length;je++)De=de(K,W[je],ce),De!==null&&(G=g(De,G,je),We===null?Re=De:We.sibling=De,We=De);return mt&&ia(K,je),Re}for(De=u(De);je<W.length;je++)_n=te(De,K,je,W[je],ce),_n!==null&&(i&&_n.alternate!==null&&De.delete(_n.key===null?je:_n.key),G=g(_n,G,je),We===null?Re=_n:We.sibling=_n,We=_n);return i&&De.forEach(function(ao){return s(K,ao)}),mt&&ia(K,je),Re}function Le(K,G,W,ce){if(W==null)throw Error(r(151));for(var Re=null,We=null,De=G,je=G=0,_n=null,ht=W.next();De!==null&&!ht.done;je++,ht=W.next()){De.index>je?(_n=De,De=null):_n=De.sibling;var ao=ee(K,De,ht.value,ce);if(ao===null){De===null&&(De=_n);break}i&&De&&ao.alternate===null&&s(K,De),G=g(ao,G,je),We===null?Re=ao:We.sibling=ao,We=ao,De=_n}if(ht.done)return l(K,De),mt&&ia(K,je),Re;if(De===null){for(;!ht.done;je++,ht=W.next())ht=de(K,ht.value,ce),ht!==null&&(G=g(ht,G,je),We===null?Re=ht:We.sibling=ht,We=ht);return mt&&ia(K,je),Re}for(De=u(De);!ht.done;je++,ht=W.next())ht=te(De,K,je,ht.value,ce),ht!==null&&(i&&ht.alternate!==null&&De.delete(ht.key===null?je:ht.key),G=g(ht,G,je),We===null?Re=ht:We.sibling=ht,We=ht);return i&&De.forEach(function(U2){return s(K,U2)}),mt&&ia(K,je),Re}function St(K,G,W,ce){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var Re=W.key;G!==null;){if(G.key===Re){if(Re=W.type,Re===C){if(G.tag===7){l(K,G.sibling),ce=m(G,W.props.children),ce.return=K,K=ce;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Xb(Re)===G.type){l(K,G.sibling),ce=m(G,W.props),Zc(ce,W),ce.return=K,K=ce;break e}l(K,G);break}else s(K,G);G=G.sibling}W.type===C?(ce=na(W.props.children,K.mode,ce,W.key),ce.return=K,K=ce):(ce=Xd(W.type,W.key,W.props,null,K.mode,ce),Zc(ce,W),ce.return=K,K=ce)}return A(K);case S:e:{for(Re=W.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){l(K,G.sibling),ce=m(G,W.children||[]),ce.return=K,K=ce;break e}else{l(K,G);break}else s(K,G);G=G.sibling}ce=xp(W,K.mode,ce),ce.return=K,K=ce}return A(K);case I:return Re=W._init,W=Re(W._payload),St(K,G,W,ce)}if(_e(W))return Be(K,G,W,ce);if(F(W)){if(Re=F(W),typeof Re!="function")throw Error(r(150));return W=Re.call(W),Le(K,G,W,ce)}if(typeof W.then=="function")return St(K,G,mf(W),ce);if(W.$$typeof===L)return St(K,G,ef(K,W),ce);pf(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(l(K,G.sibling),ce=m(G,W),ce.return=K,K=ce):(l(K,G),ce=Tp(W,K.mode,ce),ce.return=K,K=ce),A(K)):l(K,G)}return function(K,G,W,ce){try{Wc=0;var Re=St(K,G,W,ce);return hl=null,Re}catch(De){if(De===Fc||De===nf)throw De;var We=sr(29,De,null,K.mode);return We.lanes=ce,We.return=K,We}finally{}}}var ml=Wb(!0),Zb=Wb(!1),Ar=J(null),li=null;function Gs(i){var s=i.alternate;re(ln,ln.current&1),re(Ar,i),li===null&&(s===null||cl.current!==null||s.memoizedState!==null)&&(li=i)}function Jb(i){if(i.tag===22){if(re(ln,ln.current),re(Ar,i),li===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(li=i)}}else Ks()}function Ks(){re(ln,ln.current),re(Ar,Ar.current)}function ts(i){ae(Ar),li===i&&(li=null),ae(ln)}var ln=J(0);function gf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function rg(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ig={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=cr(),m=Hs(u);m.payload=s,l!=null&&(m.callback=l),s=qs(i,m,u),s!==null&&(ur(s,i,u),qc(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=cr(),m=Hs(u);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=qs(i,m,u),s!==null&&(ur(s,i,u),qc(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=cr(),u=Hs(l);u.tag=2,s!=null&&(u.callback=s),s=qs(i,u,l),s!==null&&(ur(s,i,l),qc(s,i,l))}};function ew(i,s,l,u,m,g,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,A):s.prototype&&s.prototype.isPureReactComponent?!kc(l,u)||!kc(m,g):!0}function tw(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&ig.enqueueReplaceState(s,s.state,null)}function da(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var yf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function nw(i){yf(i)}function rw(i){console.error(i)}function iw(i){yf(i)}function vf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function sw(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function sg(i,s,l){return l=Hs(l),l.tag=3,l.payload={element:null},l.callback=function(){vf(i,s)},l}function ow(i){return i=Hs(i),i.tag=3,i}function aw(i,s,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){sw(s,l,u)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){sw(s,l,u),typeof m!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function UD(i,s,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Uc(s,l,m,!0),l=Ar.current,l!==null){switch(l.tag){case 13:return li===null?Ig():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===kp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Dg(i,u,m)),!1;case 22:return l.flags|=65536,u===kp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Dg(i,u,m)),!1}throw Error(r(435,l.tag))}return Dg(i,u,m),Ig(),!1}if(mt)return s=Ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Rp&&(i=Error(r(422),{cause:u}),jc(Er(i,l)))):(u!==Rp&&(s=Error(r(423),{cause:u}),jc(Er(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Er(u,l),m=sg(i.stateNode,u,m),Vp(i,m),$t!==4&&($t=2)),!1;var g=Error(r(520),{cause:u});if(g=Er(g,l),su===null?su=[g]:su.push(g),$t!==4&&($t=2),s===null)return!0;u=Er(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=sg(l.stateNode,u,i),Vp(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Js===null||!Js.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=ow(m),aw(m,i,l,u),Vp(l,m),!1}l=l.return}while(l!==null);return!1}var lw=Error(r(461)),yn=!1;function Tn(i,s,l,u){s.child=i===null?Zb(s,null,l,u):ml(s,i.child,l,u)}function cw(i,s,l,u,m){l=l.render;var g=s.ref;if("ref"in u){var A={};for(var N in u)N!=="ref"&&(A[N]=u[N])}else A=u;return la(s),u=Fp(i,s,l,A,g,m),N=Hp(),i!==null&&!yn?(qp(i,s,m),ns(i,s,m)):(mt&&N&&Sp(s),s.flags|=1,Tn(i,s,u,m),s.child)}function uw(i,s,l,u,m){if(i===null){var g=l.type;return typeof g=="function"&&!Ep(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,dw(i,s,g,u,m)):(i=Xd(l.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!hg(i,m)){var A=g.memoizedProps;if(l=l.compare,l=l!==null?l:kc,l(A,u)&&i.ref===s.ref)return ns(i,s,m)}return s.flags|=1,i=Qi(g,u),i.ref=s.ref,i.return=s,s.child=i}function dw(i,s,l,u,m){if(i!==null){var g=i.memoizedProps;if(kc(g,u)&&i.ref===s.ref)if(yn=!1,s.pendingProps=u=g,hg(i,m))(i.flags&131072)!==0&&(yn=!0);else return s.lanes=i.lanes,ns(i,s,m)}return og(i,s,l,u,m)}function fw(i,s,l){var u=s.pendingProps,m=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,i!==null){for(m=s.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return hw(i,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&tf(s,g!==null?g.cachePool:null),g!==null?db(s,g):Up(),Jb(s);else return s.lanes=s.childLanes=536870912,hw(i,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(tf(s,g.cachePool),db(s,g),Ks(),s.memoizedState=null):(i!==null&&tf(s,null),Up(),Ks());return Tn(i,s,m,l),s.child}function hw(i,s,l,u){var m=Mp();return m=m===null?null:{parent:an._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&tf(s,null),Up(),Jb(s),i!==null&&Uc(i,s,u,!0),null}function _f(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function og(i,s,l,u,m){return la(s),l=Fp(i,s,l,u,void 0,m),u=Hp(),i!==null&&!yn?(qp(i,s,m),ns(i,s,m)):(mt&&u&&Sp(s),s.flags|=1,Tn(i,s,l,m),s.child)}function mw(i,s,l,u,m,g){return la(s),s.updateQueue=null,l=hb(s,u,l,m),fb(i),u=Hp(),i!==null&&!yn?(qp(i,s,g),ns(i,s,g)):(mt&&u&&Sp(s),s.flags|=1,Tn(i,s,l,g),s.child)}function pw(i,s,l,u,m){if(la(s),s.stateNode===null){var g=il,A=l.contextType;typeof A=="object"&&A!==null&&(g=Nn(A)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ig,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Pp(s),A=l.contextType,g.context=typeof A=="object"&&A!==null?Nn(A):il,g.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(rg(s,l,A,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&ig.enqueueReplaceState(g,g.state,null),Gc(s,u,g,m),$c(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var N=s.memoizedProps,z=da(l,N);g.props=z;var Z=g.context,oe=l.contextType;A=il,typeof oe=="object"&&oe!==null&&(A=Nn(oe));var de=l.getDerivedStateFromProps;oe=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||Z!==A)&&tw(s,g,u,A),Fs=!1;var ee=s.memoizedState;g.state=ee,Gc(s,u,g,m),$c(),Z=s.memoizedState,N||ee!==Z||Fs?(typeof de=="function"&&(rg(s,l,de,u),Z=s.memoizedState),(z=Fs||ew(s,l,z,u,ee,Z,A))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=A,u=z):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Lp(i,s),A=s.memoizedProps,oe=da(l,A),g.props=oe,de=s.pendingProps,ee=g.context,Z=l.contextType,z=il,typeof Z=="object"&&Z!==null&&(z=Nn(Z)),N=l.getDerivedStateFromProps,(Z=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==de||ee!==z)&&tw(s,g,u,z),Fs=!1,ee=s.memoizedState,g.state=ee,Gc(s,u,g,m),$c();var te=s.memoizedState;A!==de||ee!==te||Fs||i!==null&&i.dependencies!==null&&Jd(i.dependencies)?(typeof N=="function"&&(rg(s,l,N,u),te=s.memoizedState),(oe=Fs||ew(s,l,oe,u,ee,te,z)||i!==null&&i.dependencies!==null&&Jd(i.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,z)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=z,u=oe):(typeof g.componentDidUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ee===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,_f(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=ml(s,i.child,null,m),s.child=ml(s,null,l,m)):Tn(i,s,l,m),s.memoizedState=g.state,i=s.child):i=ns(i,s,m),i}function gw(i,s,l,u){return Vc(),s.flags|=256,Tn(i,s,l,u),s.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(i){return{baseLanes:i,cachePool:rb()}}function cg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Rr),i}function yw(i,s,l){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,A;if((A=g)||(A=i!==null&&i.memoizedState===null?!1:(ln.current&2)!==0),A&&(m=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(mt){if(m?Gs(s):Ks(),mt){var N=qt,z;if(z=N){e:{for(z=N,N=ai;z.nodeType!==8;){if(!N){N=null;break e}if(z=Fr(z.nextSibling),z===null){N=null;break e}}N=z}N!==null?(s.memoizedState={dehydrated:N,treeContext:ra!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},z=sr(18,null,null,0),z.stateNode=N,z.return=s,s.child=z,zn=s,qt=null,z=!0):z=!1}z||oa(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Gg(N)?s.lanes=32:s.lanes=536870912,null;ts(s)}return N=u.children,u=u.fallback,m?(Ks(),m=s.mode,N=bf({mode:"hidden",children:N},m),u=na(u,m,l,null),N.return=s,u.return=s,N.sibling=u,s.child=N,m=s.child,m.memoizedState=lg(l),m.childLanes=cg(i,A,l),s.memoizedState=ag,u):(Gs(s),ug(s,N))}if(z=i.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(g)s.flags&256?(Gs(s),s.flags&=-257,s=dg(i,s,l)):s.memoizedState!==null?(Ks(),s.child=i.child,s.flags|=128,s=null):(Ks(),m=u.fallback,N=s.mode,u=bf({mode:"visible",children:u.children},N),m=na(m,N,l,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,ml(s,i.child,null,l),u=s.child,u.memoizedState=lg(l),u.childLanes=cg(i,A,l),s.memoizedState=ag,s=m);else if(Gs(s),Gg(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var Z=A.dgst;A=Z,u=Error(r(419)),u.stack="",u.digest=A,jc({value:u,source:null,stack:null}),s=dg(i,s,l)}else if(yn||Uc(i,s,l,!1),A=(l&i.childLanes)!==0,yn||A){if(A=Ct,A!==null&&(u=l&-l,u=(u&42)!==0?1:Nt(u),u=(u&(A.suspendedLanes|l))!==0?0:u,u!==0&&u!==z.retryLane))throw z.retryLane=u,rl(i,u),ur(A,i,u),lw;N.data==="$?"||Ig(),s=dg(i,s,l)}else N.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,qt=Fr(N.nextSibling),zn=s,mt=!0,sa=null,ai=!1,i!==null&&(xr[Sr++]=Xi,xr[Sr++]=Wi,xr[Sr++]=ra,Xi=i.id,Wi=i.overflow,ra=s),s=ug(s,u.children),s.flags|=4096);return s}return m?(Ks(),m=u.fallback,N=s.mode,z=i.child,Z=z.sibling,u=Qi(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,Z!==null?m=Qi(Z,m):(m=na(m,N,l,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,N=i.child.memoizedState,N===null?N=lg(l):(z=N.cachePool,z!==null?(Z=an._currentValue,z=z.parent!==Z?{parent:Z,pool:Z}:z):z=rb(),N={baseLanes:N.baseLanes|l,cachePool:z}),m.memoizedState=N,m.childLanes=cg(i,A,l),s.memoizedState=ag,u):(Gs(s),l=i.child,i=l.sibling,l=Qi(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=l,s.memoizedState=null,l)}function ug(i,s){return s=bf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function bf(i,s){return i=sr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function dg(i,s,l){return ml(s,i.child,null,l),i=ug(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function vw(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Ip(i.return,s,l)}function fg(i,s,l,u,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=m)}function _w(i,s,l){var u=s.pendingProps,m=u.revealOrder,g=u.tail;if(Tn(i,s,u.children,l),u=ln.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vw(i,l,s);else if(i.tag===19)vw(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(re(ln,u),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&gf(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),fg(s,!1,m,l,g);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&gf(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}fg(s,!0,l,null,g);break;case"together":fg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ns(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Zs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Uc(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Qi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Qi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function hg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Jd(i)))}function BD(i,s,l){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),zs(s,an,i.memoizedState.cache),Vc();break;case 27:case 5:Oe(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Gs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?yw(i,s,l):(Gs(s),i=ns(i,s,l),i!==null?i.sibling:null);Gs(s);break;case 19:var m=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Uc(i,s,l,!1),u=(l&s.childLanes)!==0),m){if(u)return _w(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),re(ln,ln.current),u)break;return null;case 22:case 23:return s.lanes=0,fw(i,s,l);case 24:zs(s,an,i.memoizedState.cache)}return ns(i,s,l)}function bw(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)yn=!0;else{if(!hg(i,l)&&(s.flags&128)===0)return yn=!1,BD(i,s,l);yn=(i.flags&131072)!==0}else yn=!1,mt&&(s.flags&1048576)!==0&&X0(s,Zd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Ep(u)?(i=da(u,i),s.tag=1,s=pw(null,s,u,i,l)):(s.tag=0,s=og(null,s,u,i,l));else{if(u!=null){if(m=u.$$typeof,m===H){s.tag=11,s=cw(null,s,u,i,l);break e}else if(m===O){s.tag=14,s=uw(null,s,u,i,l);break e}}throw s=Se(u)||u,Error(r(306,s,""))}}return s;case 0:return og(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,m=da(u,s.pendingProps),pw(i,s,u,m,l);case 3:e:{if(Ee(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;m=g.element,Lp(i,s),Gc(s,u,null,l);var A=s.memoizedState;if(u=A.cache,zs(s,an,u),u!==g.cache&&Np(s,[an],l,!0),$c(),u=A.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=gw(i,s,u,l);break e}else if(u!==m){m=Er(Error(r(424)),s),jc(m),s=gw(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(qt=Fr(i.firstChild),zn=s,mt=!0,sa=null,ai=!0,l=Zb(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Vc(),u===m){s=ns(i,s,l);break e}Tn(i,s,u,l)}s=s.child}return s;case 26:return _f(i,s),i===null?(l=xE(s.type,null,s.pendingProps,null))?s.memoizedState=l:mt||(l=s.type,i=s.pendingProps,u=kf(pe.current).createElement(l),u[Pt]=s,u[ft]=i,Sn(u,l,i),Gt(u),s.stateNode=u):s.memoizedState=xE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Oe(s),i===null&&mt&&(u=s.stateNode=wE(s.type,s.pendingProps,pe.current),zn=s,ai=!0,m=qt,no(s.type)?(Kg=m,qt=Fr(u.firstChild)):qt=m),Tn(i,s,s.pendingProps.children,l),_f(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&mt&&((m=u=qt)&&(u=m2(u,s.type,s.pendingProps,ai),u!==null?(s.stateNode=u,zn=s,qt=Fr(u.firstChild),ai=!1,m=!0):m=!1),m||oa(s)),Oe(s),m=s.type,g=s.pendingProps,A=i!==null?i.memoizedProps:null,u=g.children,Hg(m,g)?u=null:A!==null&&Hg(m,A)&&(s.flags|=32),s.memoizedState!==null&&(m=Fp(i,s,OD,null,null,l),mu._currentValue=m),_f(i,s),Tn(i,s,u,l),s.child;case 6:return i===null&&mt&&((i=l=qt)&&(l=p2(l,s.pendingProps,ai),l!==null?(s.stateNode=l,zn=s,qt=null,i=!0):i=!1),i||oa(s)),null;case 13:return yw(i,s,l);case 4:return Ee(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ml(s,null,u,l):Tn(i,s,u,l),s.child;case 11:return cw(i,s,s.type,s.pendingProps,l);case 7:return Tn(i,s,s.pendingProps,l),s.child;case 8:return Tn(i,s,s.pendingProps.children,l),s.child;case 12:return Tn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,zs(s,s.type,u.value),Tn(i,s,u.children,l),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,la(s),m=Nn(m),u=u(m),s.flags|=1,Tn(i,s,u,l),s.child;case 14:return uw(i,s,s.type,s.pendingProps,l);case 15:return dw(i,s,s.type,s.pendingProps,l);case 19:return _w(i,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},i===null?(l=bf(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Qi(i.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return fw(i,s,l);case 24:return la(s),u=Nn(an),i===null?(m=Mp(),m===null&&(m=Ct,g=Dp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),s.memoizedState={parent:u,cache:m},Pp(s),zs(s,an,m)):((i.lanes&l)!==0&&(Lp(i,s),Gc(s,null,null,l),$c()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),zs(s,an,u)):(u=g.cache,zs(s,an,u),u!==m.cache&&Np(s,[an],l,!0))),Tn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(i){i.flags|=4}function ww(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!IE(s)){if(s=Ar.current,s!==null&&((ut&4194048)===ut?li!==null:(ut&62914560)!==ut&&(ut&536870912)===0||s!==li))throw Hc=kp,ib;i.flags|=8192}}function wf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Uo():536870912,i.lanes|=s,vl|=s)}function Jc(i,s){if(!mt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Ut(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function zD(i,s,l){var u=s.pendingProps;switch(Ap(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Ut(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ji(an),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Lc(s)?rs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,J0())),Ut(s),null;case 26:return l=s.memoizedState,i===null?(rs(s),l!==null?(Ut(s),ww(s,l)):(Ut(s),s.flags&=-16777217)):l?l!==i.memoizedState?(rs(s),Ut(s),ww(s,l)):(Ut(s),s.flags&=-16777217):(i.memoizedProps!==u&&rs(s),Ut(s),s.flags&=-16777217),null;case 27:Ve(s),l=pe.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&rs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ut(s),null}i=me.current,Lc(s)?W0(s):(i=wE(m,u,l),s.stateNode=i,rs(s))}return Ut(s),null;case 5:if(Ve(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&rs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ut(s),null}if(i=me.current,Lc(s))W0(s);else{switch(m=kf(pe.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}i[Pt]=s,i[ft]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Sn(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rs(s)}}return Ut(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&rs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=pe.current,Lc(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,m=zn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Pt]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||mE(i.nodeValue,l)),i||oa(s)}else i=kf(i).createTextNode(u),i[Pt]=s,s.stateNode=i}return Ut(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Lc(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Pt]=s}else Vc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),m=!1}else m=J0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(ts(s),s):(ts(s),null)}if(ts(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),wf(s,s.updateQueue),Ut(s),null;case 4:return ke(),i===null&&jg(s.stateNode.containerInfo),Ut(s),null;case 10:return Ji(s.type),Ut(s),null;case 19:if(ae(ln),m=s.memoizedState,m===null)return Ut(s),null;if(u=(s.flags&128)!==0,g=m.rendering,g===null)if(u)Jc(m,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=gf(i),g!==null){for(s.flags|=128,Jc(m,!1),i=g.updateQueue,s.updateQueue=i,wf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Q0(l,i),l=l.sibling;return re(ln,ln.current&1|2),s.child}i=i.sibling}m.tail!==null&&xe()>xf&&(s.flags|=128,u=!0,Jc(m,!1),s.lanes=4194304)}else{if(!u)if(i=gf(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,wf(s,i),Jc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!mt)return Ut(s),null}else 2*xe()-m.renderingStartTime>xf&&l!==536870912&&(s.flags|=128,u=!0,Jc(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(i=m.last,i!==null?i.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=xe(),s.sibling=null,i=ln.current,re(ln,u?i&1|2:i&1),s):(Ut(s),null);case 22:case 23:return ts(s),Bp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),l=s.updateQueue,l!==null&&wf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&ae(ca),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ji(an),Ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function FD(i,s){switch(Ap(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ji(an),ke(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ve(s),null;case 13:if(ts(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Vc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(ln),null;case 4:return ke(),null;case 10:return Ji(s.type),null;case 22:case 23:return ts(s),Bp(),i!==null&&ae(ca),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ji(an),null;case 25:return null;default:return null}}function Ew(i,s){switch(Ap(s),s.tag){case 3:Ji(an),ke();break;case 26:case 27:case 5:Ve(s);break;case 4:ke();break;case 13:ts(s);break;case 19:ae(ln);break;case 10:Ji(s.type);break;case 22:case 23:ts(s),Bp(),i!==null&&ae(ca);break;case 24:Ji(an)}}function eu(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var g=l.create,A=l.inst;u=g(),A.destroy=u}l=l.next}while(l!==m)}}catch(N){At(s,s.return,N)}}function Ys(i,s,l){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var A=u.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,m=s;var z=l,Z=N;try{Z()}catch(oe){At(m,z,oe)}}}u=u.next}while(u!==g)}}catch(oe){At(s,s.return,oe)}}function Tw(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{ub(s,l)}catch(u){At(i,i.return,u)}}}function xw(i,s,l){l.props=da(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){At(i,s,u)}}function tu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){At(i,s,m)}}function ci(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){At(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){At(i,s,m)}else l.current=null}function Sw(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){At(i,i.return,m)}}function mg(i,s,l){try{var u=i.stateNode;c2(u,i.type,l,s),u[ft]=s}catch(m){At(i,i.return,m)}}function Aw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&no(i.type)||i.tag===4}function pg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Aw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&no(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gg(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Mf));else if(u!==4&&(u===27&&no(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(gg(i,s,l),i=i.sibling;i!==null;)gg(i,s,l),i=i.sibling}function Ef(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&no(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ef(i,s,l),i=i.sibling;i!==null;)Ef(i,s,l),i=i.sibling}function Rw(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Sn(s,u,l),s[Pt]=i,s[ft]=l}catch(g){At(i,i.return,g)}}var is=!1,Yt=!1,yg=!1,Cw=typeof WeakSet=="function"?WeakSet:Set,vn=null;function HD(i,s){if(i=i.containerInfo,zg=Bf,i=U0(i),pp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var A=0,N=-1,z=-1,Z=0,oe=0,de=i,ee=null;t:for(;;){for(var te;de!==l||m!==0&&de.nodeType!==3||(N=A+m),de!==g||u!==0&&de.nodeType!==3||(z=A+u),de.nodeType===3&&(A+=de.nodeValue.length),(te=de.firstChild)!==null;)ee=de,de=te;for(;;){if(de===i)break t;if(ee===l&&++Z===m&&(N=A),ee===g&&++oe===u&&(z=A),(te=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=te}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:i,selectionRange:l},Bf=!1,vn=s;vn!==null;)if(s=vn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,vn=i;else for(;vn!==null;){switch(s=vn,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,m=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Be=da(l.type,m,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Be,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Le){At(l,l.return,Le)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)$g(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$g(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,vn=i;break}vn=s.return}}function Iw(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Qs(i,l),u&4&&eu(5,l);break;case 1:if(Qs(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){At(l,l.return,A)}else{var m=da(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){At(l,l.return,A)}}u&64&&Tw(l),u&512&&tu(l,l.return);break;case 3:if(Qs(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ub(i,s)}catch(A){At(l,l.return,A)}}break;case 27:s===null&&u&4&&Rw(l);case 26:case 5:Qs(i,l),s===null&&u&4&&Sw(l),u&512&&tu(l,l.return);break;case 12:Qs(i,l);break;case 13:Qs(i,l),u&4&&Ow(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=ZD.bind(null,l),g2(i,l))));break;case 22:if(u=l.memoizedState!==null||is,!u){s=s!==null&&s.memoizedState!==null||Yt,m=is;var g=Yt;is=u,(Yt=s)&&!g?Xs(i,l,(l.subtreeFlags&8772)!==0):Qs(i,l),is=m,Yt=g}break;case 30:break;default:Qs(i,l)}}function Nw(i){var s=i.alternate;s!==null&&(i.alternate=null,Nw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Vs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Vt=null,Yn=!1;function ss(i,s,l){for(l=l.child;l!==null;)Dw(i,s,l),l=l.sibling}function Dw(i,s,l){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(rt,l)}catch{}switch(l.tag){case 26:Yt||ci(l,s),ss(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||ci(l,s);var u=Vt,m=Yn;no(l.type)&&(Vt=l.stateNode,Yn=!1),ss(i,s,l),uu(l.stateNode),Vt=u,Yn=m;break;case 5:Yt||ci(l,s);case 6:if(u=Vt,m=Yn,Vt=null,ss(i,s,l),Vt=u,Yn=m,Vt!==null)if(Yn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(l.stateNode)}catch(g){At(l,s,g)}else try{Vt.removeChild(l.stateNode)}catch(g){At(l,s,g)}break;case 18:Vt!==null&&(Yn?(i=Vt,_E(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),vu(i)):_E(Vt,l.stateNode));break;case 4:u=Vt,m=Yn,Vt=l.stateNode.containerInfo,Yn=!0,ss(i,s,l),Vt=u,Yn=m;break;case 0:case 11:case 14:case 15:Yt||Ys(2,l,s),Yt||Ys(4,l,s),ss(i,s,l);break;case 1:Yt||(ci(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&xw(l,s,u)),ss(i,s,l);break;case 21:ss(i,s,l);break;case 22:Yt=(u=Yt)||l.memoizedState!==null,ss(i,s,l),Yt=u;break;default:ss(i,s,l)}}function Ow(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vu(i)}catch(l){At(s,s.return,l)}}function qD(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Cw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Cw),s;default:throw Error(r(435,i.tag))}}function vg(i,s){var l=qD(i);s.forEach(function(u){var m=JD.bind(null,i,u);l.has(u)||(l.add(u),u.then(m,m))})}function or(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],g=i,A=s,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(no(N.type)){Vt=N.stateNode,Yn=!1;break e}break;case 5:Vt=N.stateNode,Yn=!1;break e;case 3:case 4:Vt=N.stateNode.containerInfo,Yn=!0;break e}N=N.return}if(Vt===null)throw Error(r(160));Dw(g,A,m),Vt=null,Yn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Mw(s,i),s=s.sibling}var zr=null;function Mw(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:or(s,i),ar(i),u&4&&(Ys(3,i,i.return),eu(3,i),Ys(5,i,i.return));break;case 1:or(s,i),ar(i),u&512&&(Yt||l===null||ci(l,l.return)),u&64&&is&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=zr;if(or(s,i),ar(i),u&512&&(Yt||l===null||ci(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Bo]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Sn(g,u,l),g[Pt]=i,Gt(g),u=g;break e;case"link":var A=RE("link","href",m).get(u+(l.href||""));if(A){for(var N=0;N<A.length;N++)if(g=A[N],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(N,1);break t}}g=m.createElement(u),Sn(g,u,l),m.head.appendChild(g);break;case"meta":if(A=RE("meta","content",m).get(u+(l.content||""))){for(N=0;N<A.length;N++)if(g=A[N],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(N,1);break t}}g=m.createElement(u),Sn(g,u,l),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[Pt]=i,Gt(g),u=g}i.stateNode=u}else CE(m,i.type,i.stateNode);else i.stateNode=AE(m,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?CE(m,i.type,i.stateNode):AE(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&mg(i,i.memoizedProps,l.memoizedProps)}break;case 27:or(s,i),ar(i),u&512&&(Yt||l===null||ci(l,l.return)),l!==null&&u&4&&mg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(or(s,i),ar(i),u&512&&(Yt||l===null||ci(l,l.return)),i.flags&32){m=i.stateNode;try{vr(m,"")}catch(te){At(i,i.return,te)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,mg(i,m,l!==null?l.memoizedProps:m)),u&1024&&(yg=!0);break;case 6:if(or(s,i),ar(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(te){At(i,i.return,te)}}break;case 3:if(Vf=null,m=zr,zr=Pf(s.containerInfo),or(s,i),zr=m,ar(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{vu(s.containerInfo)}catch(te){At(i,i.return,te)}yg&&(yg=!1,kw(i));break;case 4:u=zr,zr=Pf(i.stateNode.containerInfo),or(s,i),ar(i),zr=u;break;case 12:or(s,i),ar(i);break;case 13:or(s,i),ar(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xg=xe()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vg(i,u)));break;case 22:m=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,Z=is,oe=Yt;if(is=Z||m,Yt=oe||z,or(s,i),Yt=oe,is=Z,ar(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||z||is||Yt||fa(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(g=z.stateNode,m)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=z.stateNode;var de=z.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){At(z,z.return,te)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(te){At(z,z.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,vg(i,l))));break;case 19:or(s,i),ar(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,vg(i,u)));break;case 30:break;case 21:break;default:or(s,i),ar(i)}}function ar(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(Aw(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=pg(i);Ef(i,g,m);break;case 5:var A=l.stateNode;l.flags&32&&(vr(A,""),l.flags&=-33);var N=pg(i);Ef(i,N,A);break;case 3:case 4:var z=l.stateNode.containerInfo,Z=pg(i);gg(i,Z,z);break;default:throw Error(r(161))}}catch(oe){At(i,i.return,oe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function kw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;kw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Qs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Iw(i,s.alternate,s),s=s.sibling}function fa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ys(4,s,s.return),fa(s);break;case 1:ci(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&xw(s,s.return,l),fa(s);break;case 27:uu(s.stateNode);case 26:case 5:ci(s,s.return),fa(s);break;case 22:s.memoizedState===null&&fa(s);break;case 30:fa(s);break;default:fa(s)}i=i.sibling}}function Xs(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,A=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(m,g,l),eu(4,g);break;case 1:if(Xs(m,g,l),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){At(u,u.return,Z)}if(u=g,m=u.updateQueue,m!==null){var N=u.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)cb(z[m],N)}catch(Z){At(u,u.return,Z)}}l&&A&64&&Tw(g),tu(g,g.return);break;case 27:Rw(g);case 26:case 5:Xs(m,g,l),l&&u===null&&A&4&&Sw(g),tu(g,g.return);break;case 12:Xs(m,g,l);break;case 13:Xs(m,g,l),l&&A&4&&Ow(m,g);break;case 22:g.memoizedState===null&&Xs(m,g,l),tu(g,g.return);break;case 30:break;default:Xs(m,g,l)}s=s.sibling}}function _g(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Bc(l))}function bg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bc(i))}function ui(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Pw(i,s,l,u),s=s.sibling}function Pw(i,s,l,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ui(i,s,l,u),m&2048&&eu(9,s);break;case 1:ui(i,s,l,u);break;case 3:ui(i,s,l,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bc(i)));break;case 12:if(m&2048){ui(i,s,l,u),i=s.stateNode;try{var g=s.memoizedProps,A=g.id,N=g.onPostCommit;typeof N=="function"&&N(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){At(s,s.return,z)}}else ui(i,s,l,u);break;case 13:ui(i,s,l,u);break;case 23:break;case 22:g=s.stateNode,A=s.alternate,s.memoizedState!==null?g._visibility&2?ui(i,s,l,u):nu(i,s):g._visibility&2?ui(i,s,l,u):(g._visibility|=2,pl(i,s,l,u,(s.subtreeFlags&10256)!==0)),m&2048&&_g(A,s);break;case 24:ui(i,s,l,u),m&2048&&bg(s.alternate,s);break;default:ui(i,s,l,u)}}function pl(i,s,l,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,A=s,N=l,z=u,Z=A.flags;switch(A.tag){case 0:case 11:case 15:pl(g,A,N,z,m),eu(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&2?pl(g,A,N,z,m):nu(g,A):(oe._visibility|=2,pl(g,A,N,z,m)),m&&Z&2048&&_g(A.alternate,A);break;case 24:pl(g,A,N,z,m),m&&Z&2048&&bg(A.alternate,A);break;default:pl(g,A,N,z,m)}s=s.sibling}}function nu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,m=u.flags;switch(u.tag){case 22:nu(l,u),m&2048&&_g(u.alternate,u);break;case 24:nu(l,u),m&2048&&bg(u.alternate,u);break;default:nu(l,u)}s=s.sibling}}var ru=8192;function gl(i){if(i.subtreeFlags&ru)for(i=i.child;i!==null;)Lw(i),i=i.sibling}function Lw(i){switch(i.tag){case 26:gl(i),i.flags&ru&&i.memoizedState!==null&&I2(zr,i.memoizedState,i.memoizedProps);break;case 5:gl(i);break;case 3:case 4:var s=zr;zr=Pf(i.stateNode.containerInfo),gl(i),zr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ru,ru=16777216,gl(i),ru=s):gl(i));break;default:gl(i)}}function Vw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function iu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vn=u,Uw(u,i)}Vw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jw(i),i=i.sibling}function jw(i){switch(i.tag){case 0:case 11:case 15:iu(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:iu(i);break;case 12:iu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Tf(i)):iu(i);break;default:iu(i)}}function Tf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vn=u,Uw(u,i)}Vw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ys(8,s,s.return),Tf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Tf(s));break;default:Tf(s)}i=i.sibling}}function Uw(i,s){for(;vn!==null;){var l=vn;switch(l.tag){case 0:case 11:case 15:Ys(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,vn=u;else e:for(l=i;vn!==null;){u=vn;var m=u.sibling,g=u.return;if(Nw(u),u===l){vn=null;break e}if(m!==null){m.return=g,vn=m;break e}vn=g}}}var $D={getCacheForType:function(i){var s=Nn(an),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},GD=typeof WeakMap=="function"?WeakMap:Map,bt=0,Ct=null,Je=null,ut=0,wt=0,lr=null,Ws=!1,yl=!1,wg=!1,os=0,$t=0,Zs=0,ha=0,Eg=0,Rr=0,vl=0,su=null,Qn=null,Tg=!1,xg=0,xf=1/0,Sf=null,Js=null,xn=0,eo=null,_l=null,bl=0,Sg=0,Ag=null,Bw=null,ou=0,Rg=null;function cr(){if((bt&2)!==0&&ut!==0)return ut&-ut;if(q.T!==null){var i=al;return i!==0?i:kg()}return nr()}function zw(){Rr===0&&(Rr=(ut&536870912)===0||mt?Gn():536870912);var i=Ar.current;return i!==null&&(i.flags|=32),Rr}function ur(i,s,l){(i===Ct&&(wt===2||wt===9)||i.cancelPendingCommit!==null)&&(wl(i,0),to(i,ut,Rr,!1)),yr(i,l),((bt&2)===0||i!==Ct)&&(i===Ct&&((bt&2)===0&&(ha|=l),$t===4&&to(i,ut,Rr,!1)),di(i))}function Fw(i,s,l){if((bt&6)!==0)throw Error(r(327));var u=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Li(i,s),m=u?QD(i,s):Ng(i,s,!0),g=u;do{if(m===0){yl&&!u&&to(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!KD(l)){m=Ng(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var N=i;m=su;var z=N.current.memoizedState.isDehydrated;if(z&&(wl(N,A).flags|=256),A=Ng(N,A,!1),A!==2){if(wg&&!z){N.errorRecoveryDisabledLanes|=g,ha|=g,m=4;break e}g=Qn,Qn=m,g!==null&&(Qn===null?Qn=g:Qn.push.apply(Qn,g))}m=A}if(g=!1,m!==2)continue}}if(m===1){wl(i,0),to(i,s,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:to(u,s,Rr,!Ws);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=xg+300-xe(),10<m)){if(to(u,s,Rr,!Ws),Pi(u,0,!0)!==0)break e;u.timeoutHandle=yE(Hw.bind(null,u,l,Qn,Sf,Tg,s,Rr,ha,vl,Ws,g,2,-0,0),m);break e}Hw(u,l,Qn,Sf,Tg,s,Rr,ha,vl,Ws,g,0,-0,0)}}break}while(!0);di(i)}function Hw(i,s,l,u,m,g,A,N,z,Z,oe,de,ee,te){if(i.timeoutHandle=-1,de=s.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:C2},Lw(s),de=N2(),de!==null)){i.cancelPendingCommit=de(Xw.bind(null,i,s,g,l,u,m,A,N,z,oe,1,ee,te)),to(i,g,A,!Z);return}Xw(i,s,g,l,u,m,A,N,z)}function KD(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],g=m.getSnapshot;m=m.value;try{if(!ir(g(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function to(i,s,l,u){s&=~Eg,s&=~ha,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-Xt(m),A=1<<g;u[g]=-1,m&=~A}l!==0&&Pe(i,l,s)}function Af(){return(bt&6)===0?(au(0),!1):!0}function Cg(){if(Je!==null){if(wt===0)var i=Je.return;else i=Je,Zi=aa=null,$p(i),hl=null,Wc=0,i=Je;for(;i!==null;)Ew(i.alternate,i),i=i.return;Je=null}}function wl(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,d2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Cg(),Ct=i,Je=l=Qi(i.current,null),ut=s,wt=0,lr=null,Ws=!1,yl=Li(i,s),wg=!1,vl=Rr=Eg=ha=Zs=$t=0,Qn=su=null,Tg=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-Xt(u),g=1<<m;s|=i[m],u&=~g}return os=s,Kd(),l}function qw(i,s){Ke=null,q.H=hf,s===Fc||s===nf?(s=ab(),wt=3):s===ib?(s=ab(),wt=4):wt=s===lw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,lr=s,Je===null&&($t=1,vf(i,Er(s,i.current)))}function $w(){var i=q.H;return q.H=hf,i===null?hf:i}function Gw(){var i=q.A;return q.A=$D,i}function Ig(){$t=4,Ws||(ut&4194048)!==ut&&Ar.current!==null||(yl=!0),(Zs&134217727)===0&&(ha&134217727)===0||Ct===null||to(Ct,ut,Rr,!1)}function Ng(i,s,l){var u=bt;bt|=2;var m=$w(),g=Gw();(Ct!==i||ut!==s)&&(Sf=null,wl(i,s)),s=!1;var A=$t;e:do try{if(wt!==0&&Je!==null){var N=Je,z=lr;switch(wt){case 8:Cg(),A=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(s=!0);var Z=wt;if(wt=0,lr=null,El(i,N,z,Z),l&&yl){A=0;break e}break;default:Z=wt,wt=0,lr=null,El(i,N,z,Z)}}YD(),A=$t;break}catch(oe){qw(i,oe)}while(!0);return s&&i.shellSuspendCounter++,Zi=aa=null,bt=u,q.H=m,q.A=g,Je===null&&(Ct=null,ut=0,Kd()),A}function YD(){for(;Je!==null;)Kw(Je)}function QD(i,s){var l=bt;bt|=2;var u=$w(),m=Gw();Ct!==i||ut!==s?(Sf=null,xf=xe()+500,wl(i,s)):yl=Li(i,s);e:do try{if(wt!==0&&Je!==null){s=Je;var g=lr;t:switch(wt){case 1:wt=0,lr=null,El(i,s,g,1);break;case 2:case 9:if(sb(g)){wt=0,lr=null,Yw(s);break}s=function(){wt!==2&&wt!==9||Ct!==i||(wt=7),di(i)},g.then(s,s);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:sb(g)?(wt=0,lr=null,Yw(s)):(wt=0,lr=null,El(i,s,g,7));break;case 5:var A=null;switch(Je.tag){case 26:A=Je.memoizedState;case 5:case 27:var N=Je;if(!A||IE(A)){wt=0,lr=null;var z=N.sibling;if(z!==null)Je=z;else{var Z=N.return;Z!==null?(Je=Z,Rf(Z)):Je=null}break t}}wt=0,lr=null,El(i,s,g,5);break;case 6:wt=0,lr=null,El(i,s,g,6);break;case 8:Cg(),$t=6;break e;default:throw Error(r(462))}}XD();break}catch(oe){qw(i,oe)}while(!0);return Zi=aa=null,q.H=u,q.A=m,bt=l,Je!==null?0:(Ct=null,ut=0,Kd(),$t)}function XD(){for(;Je!==null&&!ve();)Kw(Je)}function Kw(i){var s=bw(i.alternate,i,os);i.memoizedProps=i.pendingProps,s===null?Rf(i):Je=s}function Yw(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=mw(l,s,s.pendingProps,s.type,void 0,ut);break;case 11:s=mw(l,s,s.pendingProps,s.type.render,s.ref,ut);break;case 5:$p(s);default:Ew(l,s),s=Je=Q0(s,os),s=bw(l,s,os)}i.memoizedProps=i.pendingProps,s===null?Rf(i):Je=s}function El(i,s,l,u){Zi=aa=null,$p(s),hl=null,Wc=0;var m=s.return;try{if(UD(i,m,s,l,ut)){$t=1,vf(i,Er(l,i.current)),Je=null;return}}catch(g){if(m!==null)throw Je=m,g;$t=1,vf(i,Er(l,i.current)),Je=null;return}s.flags&32768?(mt||u===1?i=!0:yl||(ut&536870912)!==0?i=!1:(Ws=i=!0,(u===2||u===9||u===3||u===6)&&(u=Ar.current,u!==null&&u.tag===13&&(u.flags|=16384))),Qw(s,i)):Rf(s)}function Rf(i){var s=i;do{if((s.flags&32768)!==0){Qw(s,Ws);return}i=s.return;var l=zD(s.alternate,s,os);if(l!==null){Je=l;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=i}while(s!==null);$t===0&&($t=5)}function Qw(i,s){do{var l=FD(i.alternate,i);if(l!==null){l.flags&=32767,Je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Je=i;return}Je=i=l}while(i!==null);$t=6,Je=null}function Xw(i,s,l,u,m,g,A,N,z){i.cancelPendingCommit=null;do Cf();while(xn!==0);if((bt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=bp,Ps(i,l,g,A,N,z),i===Ct&&(Je=Ct=null,ut=0),_l=s,eo=i,bl=l,Sg=g,Ag=m,Bw=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,e2(mn,function(){return tE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,m=se.p,se.p=2,A=bt,bt|=4;try{HD(i,s,l)}finally{bt=A,se.p=m,q.T=u}}xn=1,Ww(),Zw(),Jw()}}function Ww(){if(xn===1){xn=0;var i=eo,s=_l,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var u=se.p;se.p=2;var m=bt;bt|=4;try{Mw(s,i);var g=Fg,A=U0(i.containerInfo),N=g.focusedElem,z=g.selectionRange;if(A!==N&&N&&N.ownerDocument&&j0(N.ownerDocument.documentElement,N)){if(z!==null&&pp(N)){var Z=z.start,oe=z.end;if(oe===void 0&&(oe=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(oe,N.value.length);else{var de=N.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Be=N.textContent.length,Le=Math.min(z.start,Be),St=z.end===void 0?Le:Math.min(z.end,Be);!te.extend&&Le>St&&(A=St,St=Le,Le=A);var K=V0(N,Le),G=V0(N,St);if(K&&G&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var W=de.createRange();W.setStart(K.node,K.offset),te.removeAllRanges(),Le>St?(te.addRange(W),te.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),te.addRange(W))}}}}for(de=[],te=N;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var ce=de[N];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Bf=!!zg,Fg=zg=null}finally{bt=m,se.p=u,q.T=l}}i.current=s,xn=2}}function Zw(){if(xn===2){xn=0;var i=eo,s=_l,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var u=se.p;se.p=2;var m=bt;bt|=4;try{Iw(i,s.alternate,s)}finally{bt=m,se.p=u,q.T=l}}xn=3}}function Jw(){if(xn===4||xn===3){xn=0,Te();var i=eo,s=_l,l=bl,u=Bw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xn=5:(xn=0,_l=eo=null,eE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Js=null),Wt(l),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(rt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,m=se.p,se.p=2,q.T=null;try{for(var g=i.onRecoverableError,A=0;A<u.length;A++){var N=u[A];g(N.value,{componentStack:N.stack})}}finally{q.T=s,se.p=m}}(bl&3)!==0&&Cf(),di(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Rg?ou++:(ou=0,Rg=i):ou=0,au(0)}}function eE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Bc(s)))}function Cf(i){return Ww(),Zw(),Jw(),tE()}function tE(){if(xn!==5)return!1;var i=eo,s=Sg;Sg=0;var l=Wt(bl),u=q.T,m=se.p;try{se.p=32>l?32:l,q.T=null,l=Ag,Ag=null;var g=eo,A=bl;if(xn=0,_l=eo=null,bl=0,(bt&6)!==0)throw Error(r(331));var N=bt;if(bt|=4,jw(g.current),Pw(g,g.current,A,l),bt=N,au(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(rt,g)}catch{}return!0}finally{se.p=m,q.T=u,eE(i,s)}}function nE(i,s,l){s=Er(l,s),s=sg(i.stateNode,s,2),i=qs(i,s,2),i!==null&&(yr(i,2),di(i))}function At(i,s,l){if(i.tag===3)nE(i,i,l);else for(;s!==null;){if(s.tag===3){nE(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){i=Er(l,i),l=ow(2),u=qs(s,l,2),u!==null&&(aw(l,u,s,i),yr(u,2),di(u));break}}s=s.return}}function Dg(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new GD;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(l)||(wg=!0,m.add(l),i=WD.bind(null,i,s,l),s.then(i,i))}function WD(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ct===i&&(ut&l)===l&&($t===4||$t===3&&(ut&62914560)===ut&&300>xe()-xg?(bt&2)===0&&wl(i,0):Eg|=l,vl===ut&&(vl=0)),di(i)}function rE(i,s){s===0&&(s=Uo()),i=rl(i,s),i!==null&&(yr(i,s),di(i))}function ZD(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),rE(i,l)}function JD(i,s){var l=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),rE(i,l)}function e2(i,s){return Rt(i,s)}var If=null,Tl=null,Og=!1,Nf=!1,Mg=!1,ma=0;function di(i){i!==Tl&&i.next===null&&(Tl===null?If=Tl=i:Tl=Tl.next=i),Nf=!0,Og||(Og=!0,n2())}function au(i,s){if(!Mg&&Nf){Mg=!0;do for(var l=!1,u=If;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var A=u.suspendedLanes,N=u.pingedLanes;g=(1<<31-Xt(42|i)+1)-1,g&=m&~(A&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,aE(u,g))}else g=ut,g=Pi(u,u===Ct?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Li(u,g)||(l=!0,aE(u,g));u=u.next}while(l);Mg=!1}}function t2(){iE()}function iE(){Nf=Og=!1;var i=0;ma!==0&&(u2()&&(i=ma),ma=0);for(var s=xe(),l=null,u=If;u!==null;){var m=u.next,g=sE(u,s);g===0?(u.next=null,l===null?If=m:l.next=m,m===null&&(Tl=l)):(l=u,(i!==0||(g&3)!==0)&&(Nf=!0)),u=m}au(i)}function sE(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var A=31-Xt(g),N=1<<A,z=m[A];z===-1?((N&l)===0||(N&u)!==0)&&(m[A]=Vi(N,s)):z<=s&&(i.expiredLanes|=N),g&=~N}if(s=Ct,l=ut,l=Pi(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(wt===2||wt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ne(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Li(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&ne(u),Wt(l)){case 2:case 8:l=rn;break;case 32:l=mn;break;case 268435456:l=Vn;break;default:l=mn}return u=oE.bind(null,i),l=Rt(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&ne(u),i.callbackPriority=2,i.callbackNode=null,2}function oE(i,s){if(xn!==0&&xn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Cf()&&i.callbackNode!==l)return null;var u=ut;return u=Pi(i,i===Ct?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Fw(i,u,s),sE(i,xe()),i.callbackNode!=null&&i.callbackNode===l?oE.bind(null,i):null)}function aE(i,s){if(Cf())return null;Fw(i,s,!0)}function n2(){f2(function(){(bt&6)!==0?Rt(nt,t2):iE()})}function kg(){return ma===0&&(ma=Gn()),ma}function lE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$a(""+i)}function cE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function r2(i,s,l,u,m){if(s==="submit"&&l&&l.stateNode===m){var g=lE((m[ft]||null).action),A=u.submitter;A&&(s=(s=A[ft]||null)?lE(s.formAction):A.getAttribute("formAction"),s!==null&&(g=s,A=null));var N=new Ga("action","action",null,u,m);i.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var z=A?cE(m,A):new FormData(m);eg(l,{pending:!0,data:z,method:m.method,action:g},null,z)}}else typeof g=="function"&&(N.preventDefault(),z=A?cE(m,A):new FormData(m),eg(l,{pending:!0,data:z,method:m.method,action:g},g,z))},currentTarget:m}]})}}for(var Pg=0;Pg<_p.length;Pg++){var Lg=_p[Pg],i2=Lg.toLowerCase(),s2=Lg[0].toUpperCase()+Lg.slice(1);Br(i2,"on"+s2)}Br(F0,"onAnimationEnd"),Br(H0,"onAnimationIteration"),Br(q0,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(ED,"onTransitionRun"),Br(TD,"onTransitionStart"),Br(xD,"onTransitionCancel"),Br($0,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function uE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var A=u.length-1;0<=A;A--){var N=u[A],z=N.instance,Z=N.currentTarget;if(N=N.listener,z!==g&&m.isPropagationStopped())break e;g=N,m.currentTarget=Z;try{g(m)}catch(oe){yf(oe)}m.currentTarget=null,g=z}else for(A=0;A<u.length;A++){if(N=u[A],z=N.instance,Z=N.currentTarget,N=N.listener,z!==g&&m.isPropagationStopped())break e;g=N,m.currentTarget=Z;try{g(m)}catch(oe){yf(oe)}m.currentTarget=null,g=z}}}}function et(i,s){var l=s[Ls];l===void 0&&(l=s[Ls]=new Set);var u=i+"__bubble";l.has(u)||(dE(s,i,2,!1),l.add(u))}function Vg(i,s,l){var u=0;s&&(u|=4),dE(l,i,u,s)}var Df="_reactListening"+Math.random().toString(36).slice(2);function jg(i){if(!i[Df]){i[Df]=!0,bc.forEach(function(l){l!=="selectionchange"&&(o2.has(l)||Vg(l,!1,i),Vg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Df]||(s[Df]=!0,Vg("selectionchange",!1,s))}}function dE(i,s,l,u){switch(PE(s)){case 2:var m=M2;break;case 8:m=k2;break;default:m=Zg}l=m.bind(null,s,l,i),m=void 0,!br||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Ug(i,s,l,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var N=u.stateNode.containerInfo;if(N===m)break;if(A===4)for(A=u.return;A!==null;){var z=A.tag;if((z===3||z===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;N!==null;){if(A=Ui(N),A===null)return;if(z=A.tag,z===5||z===6||z===26||z===27){u=g=A;continue e}N=N.parentNode}}u=u.return}Od(function(){var Z=g,oe=_r(l),de=[];e:{var ee=G0.get(i);if(ee!==void 0){var te=Ga,Be=i;switch(i){case"keypress":if(ni(l)===0)break e;case"keydown":case"keyup":te=Za;break;case"focusin":Be="focus",te=Qa;break;case"focusout":Be="blur",te=Qa;break;case"beforeblur":case"afterblur":te=Qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Bd;break;case F0:case H0:case q0:te=Xa;break;case $0:te=Fd;break;case"scroll":case"scrollend":te=Md;break;case"wheel":te=Ja;break;case"copy":case"cut":case"paste":te=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Oc;break;case"toggle":case"beforetoggle":te=qd}var Le=(s&4)!==0,St=!Le&&(i==="scroll"||i==="scrollend"),K=Le?ee!==null?ee+"Capture":null:ee;Le=[];for(var G=Z,W;G!==null;){var ce=G;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||K===null||(ce=Ko(G,K),ce!=null&&Le.push(cu(G,ce,W))),St)break;G=G.return}0<Le.length&&(ee=new te(ee,Be,null,l,oe),de.push({event:ee,listeners:Le}))}}if((s&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",ee&&l!==Hi&&(Be=l.relatedTarget||l.fromElement)&&(Ui(Be)||Be[Lt]))break e;if((te||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Be=l.relatedTarget||l.toElement,te=Z,Be=Be?Ui(Be):null,Be!==null&&(St=a(Be),Le=Be.tag,Be!==St||Le!==5&&Le!==27&&Le!==6)&&(Be=null)):(te=null,Be=Z),te!==Be)){if(Le=wr,ce="onMouseLeave",K="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Le=Oc,ce="onPointerLeave",K="onPointerEnter",G="pointer"),St=te==null?ee:Zr(te),W=Be==null?ee:Zr(Be),ee=new Le(ce,G+"leave",te,l,oe),ee.target=St,ee.relatedTarget=W,ce=null,Ui(oe)===Z&&(Le=new Le(K,G+"enter",Be,l,oe),Le.target=W,Le.relatedTarget=St,ce=Le),St=ce,te&&Be)t:{for(Le=te,K=Be,G=0,W=Le;W;W=xl(W))G++;for(W=0,ce=K;ce;ce=xl(ce))W++;for(;0<G-W;)Le=xl(Le),G--;for(;0<W-G;)K=xl(K),W--;for(;G--;){if(Le===K||K!==null&&Le===K.alternate)break t;Le=xl(Le),K=xl(K)}Le=null}else Le=null;te!==null&&fE(de,ee,te,Le,!1),Be!==null&&St!==null&&fE(de,St,Be,Le,!0)}}e:{if(ee=Z?Zr(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Re=D0;else if(on(ee))if(O0)Re=_D;else{Re=yD;var We=gD}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Sc(Z.elementType)&&(Re=D0):Re=vD;if(Re&&(Re=Re(i,Z))){Yi(de,Re,l,oe);break e}We&&We(i,ee,Z),i==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Us(ee,"number",ee.value)}switch(We=Z?Zr(Z):window,i){case"focusin":(on(We)||We.contentEditable==="true")&&(el=We,gp=Z,Pc=null);break;case"focusout":Pc=gp=el=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,B0(de,l,oe);break;case"selectionchange":if(wD)break;case"keydown":case"keyup":B0(de,l,oe)}var De;if(si)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else lt?ie(i,l)&&(je="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(x&&l.locale!=="ko"&&(lt||je!=="onCompositionStart"?je==="onCompositionEnd"&&lt&&(De=Rc()):(ti=oe,Bs="value"in ti?ti.value:ti.textContent,lt=!0)),We=Of(Z,je),0<We.length&&(je=new Nc(je,i,null,l,oe),de.push({event:je,listeners:We}),De?je.data=De:(De=ye(l),De!==null&&(je.data=De)))),(De=b?sn(i,l):ct(i,l))&&(je=Of(Z,"onBeforeInput"),0<je.length&&(We=new Nc("onBeforeInput","beforeinput",null,l,oe),de.push({event:We,listeners:je}),We.data=De)),r2(de,i,Z,l,oe)}uE(de,s)})}function cu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Of(i,s){for(var l=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ko(i,l),m!=null&&u.unshift(cu(i,m,g)),m=Ko(i,s),m!=null&&u.push(cu(i,m,g))),i.tag===3)return u;i=i.return}return[]}function xl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fE(i,s,l,u,m){for(var g=s._reactName,A=[];l!==null&&l!==u;){var N=l,z=N.alternate,Z=N.stateNode;if(N=N.tag,z!==null&&z===u)break;N!==5&&N!==26&&N!==27||Z===null||(z=Z,m?(Z=Ko(l,g),Z!=null&&A.unshift(cu(l,Z,z))):m||(Z=Ko(l,g),Z!=null&&A.push(cu(l,Z,z)))),l=l.return}A.length!==0&&i.push({event:s,listeners:A})}var a2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function hE(i){return(typeof i=="string"?i:""+i).replace(a2,`
`).replace(l2,"")}function mE(i,s){return s=hE(s),hE(i)===s}function Mf(){}function xt(i,s,l,u,m,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||vr(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&vr(i,""+u);break;case"className":Jr(i,"class",u);break;case"tabIndex":Jr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(i,l,u);break;case"style":xc(i,u,g);break;case"data":if(s!=="object"){Jr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=$a(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&xt(i,s,"name",m.name,m,null),xt(i,s,"formEncType",m.formEncType,m,null),xt(i,s,"formMethod",m.formMethod,m,null),xt(i,s,"formTarget",m.formTarget,m,null)):(xt(i,s,"encType",m.encType,m,null),xt(i,s,"method",m.method,m,null),xt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=$a(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Mf);break;case"onScroll":u!=null&&et("scroll",i);break;case"onScrollEnd":u!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=$a(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":et("beforetoggle",i),et("toggle",i),js(i,"popover",u);break;case"xlinkActuate":wn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":js(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cp.get(l)||l,js(i,l,u))}}function Bg(i,s,l,u,m,g){switch(l){case"style":xc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?vr(i,u):(typeof u=="number"||typeof u=="bigint")&&vr(i,""+u);break;case"onScroll":u!=null&&et("scroll",i);break;case"onScrollEnd":u!=null&&et("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),g=i[ft]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):js(i,l,u)}}}function Sn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var u=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var A=l[g];if(A!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(i,s,g,A,l,null)}}m&&xt(i,s,"srcSet",l.srcSet,l,null),u&&xt(i,s,"src",l.src,l,null);return;case"input":et("invalid",i);var N=g=A=m=null,z=null,Z=null;for(u in l)if(l.hasOwnProperty(u)){var oe=l[u];if(oe!=null)switch(u){case"name":m=oe;break;case"type":A=oe;break;case"checked":z=oe;break;case"defaultChecked":Z=oe;break;case"value":g=oe;break;case"defaultValue":N=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:xt(i,s,u,oe,l,null)}}qo(i,g,N,z,Z,A,m,!1),qa(i);return;case"select":et("invalid",i),u=A=g=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":g=N;break;case"defaultValue":A=N;break;case"multiple":u=N;default:xt(i,s,m,N,l,null)}s=g,l=A,i.multiple=!!u,s!=null?Fi(i,!!u,s,!1):l!=null&&Fi(i,!!u,l,!0);return;case"textarea":et("invalid",i),g=m=u=null;for(A in l)if(l.hasOwnProperty(A)&&(N=l[A],N!=null))switch(A){case"value":u=N;break;case"defaultValue":m=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:xt(i,s,A,N,l,null)}$o(i,u,m,g),qa(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(u=l[z],u!=null))switch(z){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:xt(i,s,z,u,l,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)et(lu[u],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(u=l[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(i,s,Z,u,l,null)}return;default:if(Sc(s)){for(oe in l)l.hasOwnProperty(oe)&&(u=l[oe],u!==void 0&&Bg(i,s,oe,u,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(u=l[N],u!=null&&xt(i,s,N,u,l,null))}function c2(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,A=null,N=null,z=null,Z=null,oe=null;for(te in l){var de=l[te];if(l.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=de;default:u.hasOwnProperty(te)||xt(i,s,te,null,u,de)}}for(var ee in u){var te=u[ee];if(de=l[ee],u.hasOwnProperty(ee)&&(te!=null||de!=null))switch(ee){case"type":g=te;break;case"name":m=te;break;case"checked":Z=te;break;case"defaultChecked":oe=te;break;case"value":A=te;break;case"defaultValue":N=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==de&&xt(i,s,ee,te,u,de)}}rr(i,A,N,z,Z,oe,g,m);return;case"select":te=A=N=ee=null;for(g in l)if(z=l[g],l.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":te=z;default:u.hasOwnProperty(g)||xt(i,s,g,null,u,z)}for(m in u)if(g=u[m],z=l[m],u.hasOwnProperty(m)&&(g!=null||z!=null))switch(m){case"value":ee=g;break;case"defaultValue":N=g;break;case"multiple":A=g;default:g!==z&&xt(i,s,m,g,u,z)}s=N,l=A,u=te,ee!=null?Fi(i,!!l,ee,!1):!!u!=!!l&&(s!=null?Fi(i,!!l,s,!0):Fi(i,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:xt(i,s,N,null,u,m)}for(A in u)if(m=u[A],g=l[A],u.hasOwnProperty(A)&&(m!=null||g!=null))switch(A){case"value":ee=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&xt(i,s,A,m,u,g)}Et(i,ee,te);return;case"option":for(var Be in l)if(ee=l[Be],l.hasOwnProperty(Be)&&ee!=null&&!u.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:xt(i,s,Be,null,u,ee)}for(z in u)if(ee=u[z],te=l[z],u.hasOwnProperty(z)&&ee!==te&&(ee!=null||te!=null))switch(z){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:xt(i,s,z,ee,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in l)ee=l[Le],l.hasOwnProperty(Le)&&ee!=null&&!u.hasOwnProperty(Le)&&xt(i,s,Le,null,u,ee);for(Z in u)if(ee=u[Z],te=l[Z],u.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:xt(i,s,Z,ee,u,te)}return;default:if(Sc(s)){for(var St in l)ee=l[St],l.hasOwnProperty(St)&&ee!==void 0&&!u.hasOwnProperty(St)&&Bg(i,s,St,void 0,u,ee);for(oe in u)ee=u[oe],te=l[oe],!u.hasOwnProperty(oe)||ee===te||ee===void 0&&te===void 0||Bg(i,s,oe,ee,u,te);return}}for(var K in l)ee=l[K],l.hasOwnProperty(K)&&ee!=null&&!u.hasOwnProperty(K)&&xt(i,s,K,null,u,ee);for(de in u)ee=u[de],te=l[de],!u.hasOwnProperty(de)||ee===te||ee==null&&te==null||xt(i,s,de,ee,u,te)}var zg=null,Fg=null;function kf(i){return i.nodeType===9?i:i.ownerDocument}function pE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Hg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qg=null;function u2(){var i=window.event;return i&&i.type==="popstate"?i===qg?!1:(qg=i,!0):(qg=null,!1)}var yE=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,vE=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof vE<"u"?function(i){return vE.resolve(null).then(i).catch(h2)}:yE;function h2(i){setTimeout(function(){throw i})}function no(i){return i==="head"}function _E(i,s){var l=s,u=0,m=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var A=i.ownerDocument;if(l&1&&uu(A.documentElement),l&2&&uu(A.body),l&4)for(l=A.head,uu(l),A=l.firstChild;A;){var N=A.nextSibling,z=A.nodeName;A[Bo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=N}}if(m===0){i.removeChild(g),vu(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);vu(s)}function $g(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$g(l),Vs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function m2(i,s,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Bo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Fr(i.nextSibling),i===null)break}return null}function p2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Fr(i.nextSibling),i===null))return null;return i}function Gg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function g2(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Fr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Kg=null;function bE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function wE(i,s,l){switch(s=kf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Vs(i)}var Cr=new Map,EE=new Set;function Pf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var as=se.d;se.d={f:y2,r:v2,D:_2,C:b2,L:w2,m:E2,X:x2,S:T2,M:S2};function y2(){var i=as.f(),s=Af();return i||s}function v2(i){var s=Wr(i);s!==null&&s.tag===5&&s.type==="form"?Fb(s):as.r(i)}var Sl=typeof document>"u"?null:document;function TE(i,s,l){var u=Sl;if(u&&typeof s=="string"&&s){var m=Zt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),EE.has(m)||(EE.add(m),i={rel:i,crossOrigin:l,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Sn(s,"link",i),Gt(s),u.head.appendChild(s)))}}function _2(i){as.D(i),TE("dns-prefetch",i,null)}function b2(i,s){as.C(i,s),TE("preconnect",i,s)}function w2(i,s,l){as.L(i,s,l);var u=Sl;if(u&&i&&s){var m='link[rel="preload"][as="'+Zt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Zt(l.imageSizes)+'"]')):m+='[href="'+Zt(i)+'"]';var g=m;switch(s){case"style":g=Al(i);break;case"script":g=Rl(i)}Cr.has(g)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Cr.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(du(g))||s==="script"&&u.querySelector(fu(g))||(s=u.createElement("link"),Sn(s,"link",i),Gt(s),u.head.appendChild(s)))}}function E2(i,s){as.m(i,s);var l=Sl;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Zt(u)+'"][href="'+Zt(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Rl(i)}if(!Cr.has(g)&&(i=y({rel:"modulepreload",href:i},s),Cr.set(g,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fu(g)))return}u=l.createElement("link"),Sn(u,"link",i),Gt(u),l.head.appendChild(u)}}}function T2(i,s,l){as.S(i,s,l);var u=Sl;if(u&&i){var m=jn(u).hoistableStyles,g=Al(i);s=s||"default";var A=m.get(g);if(!A){var N={loading:0,preload:null};if(A=u.querySelector(du(g)))N.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Cr.get(g))&&Yg(i,l);var z=A=u.createElement("link");Gt(z),Sn(z,"link",i),z._p=new Promise(function(Z,oe){z.onload=Z,z.onerror=oe}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Lf(A,s,u)}A={type:"stylesheet",instance:A,count:1,state:N},m.set(g,A)}}}function x2(i,s){as.X(i,s);var l=Sl;if(l&&i){var u=jn(l).hoistableScripts,m=Rl(i),g=u.get(m);g||(g=l.querySelector(fu(m)),g||(i=y({src:i,async:!0},s),(s=Cr.get(m))&&Qg(i,s),g=l.createElement("script"),Gt(g),Sn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function S2(i,s){as.M(i,s);var l=Sl;if(l&&i){var u=jn(l).hoistableScripts,m=Rl(i),g=u.get(m);g||(g=l.querySelector(fu(m)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Cr.get(m))&&Qg(i,s),g=l.createElement("script"),Gt(g),Sn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function xE(i,s,l,u){var m=(m=pe.current)?Pf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Al(l.href),l=jn(m).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Al(l.href);var g=jn(m).hoistableStyles,A=g.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,A),(g=m.querySelector(du(i)))&&!g._p&&(A.instance=g,A.state.loading=5),Cr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Cr.set(i,l),g||A2(m,i,l,A.state))),s&&u===null)throw Error(r(528,""));return A}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Rl(l),l=jn(m).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Al(i){return'href="'+Zt(i)+'"'}function du(i){return'link[rel="stylesheet"]['+i+"]"}function SE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function A2(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Sn(s,"link",l),Gt(s),i.head.appendChild(s))}function Rl(i){return'[src="'+Zt(i)+'"]'}function fu(i){return"script[async]"+i}function AE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(u)return s.instance=u,Gt(u),u;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Gt(u),Sn(u,"style",m),Lf(u,l.precedence,i),s.instance=u;case"stylesheet":m=Al(l.href);var g=i.querySelector(du(m));if(g)return s.state.loading|=4,s.instance=g,Gt(g),g;u=SE(l),(m=Cr.get(m))&&Yg(u,m),g=(i.ownerDocument||i).createElement("link"),Gt(g);var A=g;return A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Sn(g,"link",u),s.state.loading|=4,Lf(g,l.precedence,i),s.instance=g;case"script":return g=Rl(l.src),(m=i.querySelector(fu(g)))?(s.instance=m,Gt(m),m):(u=l,(m=Cr.get(g))&&(u=y({},l),Qg(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Gt(m),Sn(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Lf(u,l.precedence,i));return s.instance}function Lf(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,A=0;A<u.length;A++){var N=u[A];if(N.dataset.precedence===s)g=N;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Vf=null;function RE(i,s,l){if(Vf===null){var u=new Map,m=Vf=new Map;m.set(l,u)}else m=Vf,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[Bo]||g[Pt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(s)||"";A=i+A;var N=u.get(A);N?N.push(g):u.set(A,[g])}}return u}function CE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function R2(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function IE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var hu=null;function C2(){}function I2(i,s,l){if(hu===null)throw Error(r(475));var u=hu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Al(l.href),g=i.querySelector(du(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=jf.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,Gt(g);return}g=i.ownerDocument||i,l=SE(l),(m=Cr.get(m))&&Yg(l,m),g=g.createElement("link"),Gt(g);var A=g;A._p=new Promise(function(N,z){A.onload=N,A.onerror=z}),Sn(g,"link",l),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=jf.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function N2(){if(hu===null)throw Error(r(475));var i=hu;return i.stylesheets&&i.count===0&&Xg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Xg(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function jf(){if(this.count--,this.count===0){if(this.stylesheets)Xg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Uf=null;function Xg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Uf=new Map,s.forEach(D2,i),Uf=null,jf.call(i))}function D2(i,s){if(!(s.state.loading&4)){var l=Uf.get(i);if(l)var u=l.get(null);else{l=new Map,Uf.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var A=m[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),u=A)}u&&l.set(null,u)}m=s.instance,A=m.getAttribute("data-precedence"),g=l.get(A)||u,g===u&&l.set(null,m),l.set(A,m),this.count++,u=jf.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var mu={$$typeof:L,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function O2(i,s,l,u,m,g,A,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function NE(i,s,l,u,m,g,A,N,z,Z,oe,de){return i=new O2(i,s,l,A,N,z,Z,de),s=1,g===!0&&(s|=24),g=sr(3,null,null,s),i.current=g,g.stateNode=i,s=Dp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},Pp(g),i}function DE(i){return i?(i=il,i):il}function OE(i,s,l,u,m,g){m=DE(m),u.context===null?u.context=m:u.pendingContext=m,u=Hs(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=qs(i,u,s),l!==null&&(ur(l,i,s),qc(l,i,s))}function ME(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Wg(i,s){ME(i,s),(i=i.alternate)&&ME(i,s)}function kE(i){if(i.tag===13){var s=rl(i,67108864);s!==null&&ur(s,i,67108864),Wg(i,67108864)}}var Bf=!0;function M2(i,s,l,u){var m=q.T;q.T=null;var g=se.p;try{se.p=2,Zg(i,s,l,u)}finally{se.p=g,q.T=m}}function k2(i,s,l,u){var m=q.T;q.T=null;var g=se.p;try{se.p=8,Zg(i,s,l,u)}finally{se.p=g,q.T=m}}function Zg(i,s,l,u){if(Bf){var m=Jg(u);if(m===null)Ug(i,s,u,zf,l),LE(i,u);else if(L2(m,i,s,l,u))u.stopPropagation();else if(LE(i,u),s&4&&-1<P2.indexOf(i)){for(;m!==null;){var g=Wr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=$n(g.pendingLanes);if(A!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var z=1<<31-Xt(A);N.entanglements[1]|=z,A&=~z}di(g),(bt&6)===0&&(xf=xe()+500,au(0))}}break;case 13:N=rl(g,2),N!==null&&ur(N,g,2),Af(),Wg(g,2)}if(g=Jg(u),g===null&&Ug(i,s,u,zf,l),g===m)break;m=g}m!==null&&u.stopPropagation()}else Ug(i,s,u,null,l)}}function Jg(i){return i=_r(i),ey(i)}var zf=null;function ey(i){if(zf=null,i=Ui(i),i!==null){var s=a(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return zf=i,null}function PE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case nt:return 2;case rn:return 8;case mn:case It:return 32;case Vn:return 268435456;default:return 32}default:return 32}}var ty=!1,ro=null,io=null,so=null,pu=new Map,gu=new Map,oo=[],P2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LE(i,s){switch(i){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(s.pointerId)}}function yu(i,s,l,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Wr(s),s!==null&&kE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function L2(i,s,l,u,m){switch(s){case"focusin":return ro=yu(ro,i,s,l,u,m),!0;case"dragenter":return io=yu(io,i,s,l,u,m),!0;case"mouseover":return so=yu(so,i,s,l,u,m),!0;case"pointerover":var g=m.pointerId;return pu.set(g,yu(pu.get(g)||null,i,s,l,u,m)),!0;case"gotpointercapture":return g=m.pointerId,gu.set(g,yu(gu.get(g)||null,i,s,l,u,m)),!0}return!1}function VE(i){var s=Ui(i.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,Ht(i.priority,function(){if(l.tag===13){var u=cr();u=Nt(u);var m=rl(l,u);m!==null&&ur(m,l,u),Wg(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ff(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Jg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Hi=u,l.target.dispatchEvent(u),Hi=null}else return s=Wr(l),s!==null&&kE(s),i.blockedOn=l,!1;s.shift()}return!0}function jE(i,s,l){Ff(i)&&l.delete(s)}function V2(){ty=!1,ro!==null&&Ff(ro)&&(ro=null),io!==null&&Ff(io)&&(io=null),so!==null&&Ff(so)&&(so=null),pu.forEach(jE),gu.forEach(jE)}function Hf(i,s){i.blockedOn===s&&(i.blockedOn=null,ty||(ty=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V2)))}var qf=null;function UE(i){qf!==i&&(qf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qf===i&&(qf=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(ey(u||l)===null)continue;break}var g=Wr(l);g!==null&&(i.splice(s,3),s-=3,eg(g,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function vu(i){function s(z){return Hf(z,i)}ro!==null&&Hf(ro,i),io!==null&&Hf(io,i),so!==null&&Hf(so,i),pu.forEach(s),gu.forEach(s);for(var l=0;l<oo.length;l++){var u=oo[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<oo.length&&(l=oo[0],l.blockedOn===null);)VE(l),l.blockedOn===null&&oo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],g=l[u+1],A=m[ft]||null;if(typeof g=="function")A||UE(l);else if(A){var N=null;if(g&&g.hasAttribute("formAction")){if(m=g,A=g[ft]||null)N=A.formAction;else if(ey(m)!==null)continue}else N=A.action;typeof N=="function"?l[u+1]=N:(l.splice(u,3),u-=3),UE(l)}}}function ny(i){this._internalRoot=i}$f.prototype.render=ny.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=cr();OE(l,u,i,s,null,null)},$f.prototype.unmount=ny.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;OE(i.current,2,null,i,null,null),Af(),s[Lt]=null}};function $f(i){this._internalRoot=i}$f.prototype.unstable_scheduleHydration=function(i){if(i){var s=nr();i={blockedOn:null,target:i,priority:s};for(var l=0;l<oo.length&&s!==0&&s<oo[l].priority;l++);oo.splice(l,0,i),l===0&&VE(i)}};var BE=e.version;if(BE!=="19.1.0")throw Error(r(527,BE,"19.1.0"));se.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var j2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{rt=Gf.inject(j2),it=Gf}catch{}}return bu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,u="",m=nw,g=rw,A=iw,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=NE(i,1,!1,null,null,l,u,m,g,A,N,null),i[Lt]=s.current,jg(i),new ny(s)},bu.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var u=!1,m="",g=nw,A=rw,N=iw,z=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),s=NE(i,1,!0,s,l??null,u,m,g,A,N,z,Z),s.context=DE(null),l=s.current,u=cr(),u=Nt(u),m=Hs(u),m.callback=null,qs(l,m,u),l=u,s.current.lanes=l,yr(s,l),di(s),i[Lt]=s.current,jg(i),new $f(s)},bu.version="19.1.0",bu}var XE;function Y2(){if(XE)return sy.exports;XE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=K2(),sy.exports}var Q2=Y2(),wu={},WE;function X2(){if(WE)return wu;WE=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.parse=c,wu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,S){const C=new a,T=w.length;if(T<2)return C;const R=(S==null?void 0:S.decode)||y;let D=0;do{const M=w.indexOf("=",D);if(M===-1)break;const L=w.indexOf(";",D),H=L===-1?T:L;if(M>H){D=w.lastIndexOf(";",M-1)+1;continue}const $=d(w,D,M),Y=h(w,M,$),O=w.slice($,Y);if(C[O]===void 0){let I=d(w,M+1,H),P=h(w,H,I);const j=R(w.slice(I,P));C[O]=j}D=H+1}while(D<T);return C}function d(w,S,C){do{const T=w.charCodeAt(S);if(T!==32&&T!==9)return S}while(++S<C);return C}function h(w,S,C){for(;S>C;){const T=w.charCodeAt(--S);if(T!==32&&T!==9)return S+1}return C}function p(w,S,C){const T=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=T(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let D=w+"="+R;if(!C)return D;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);D+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);D+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);D+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);D+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(D+="; HttpOnly"),C.secure&&(D+="; Secure"),C.partitioned&&(D+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return D}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return o.call(w)==="[object Date]"}return wu}X2();var ZE="popstate";function W2(t={}){function e(r,o){let{pathname:a,search:c,hash:d}=r.location;return Fy("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Fu(o)}return J2(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z2(){return Math.random().toString(36).substring(2,10)}function JE(t,e){return{usr:t.state,key:t.key,idx:e}}function Fy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rc(e):e,state:n,key:e&&e.key||r||Z2()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function J2(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,c=o.history,d="POP",h=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){d="POP";let R=y(),D=R==null?null:R-p;p=R,h&&h({action:d,location:T.location,delta:D})}function w(R,D){d="PUSH";let M=Fy(T.location,R,D);p=y()+1;let L=JE(M,p),H=T.createHref(M);try{c.pushState(L,"",H)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(H)}a&&h&&h({action:d,location:T.location,delta:1})}function S(R,D){d="REPLACE";let M=Fy(T.location,R,D);p=y();let L=JE(M,p),H=T.createHref(M);c.replaceState(L,"",H),a&&h&&h({action:d,location:T.location,delta:0})}function C(R){return eO(R)}let T={get action(){return d},get location(){return t(o,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(ZE,v),h=R,()=>{o.removeEventListener(ZE,v),h=null}},createHref(R){return e(o,R)},createURL:C,encodeLocation(R){let D=C(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:S,go(R){return c.go(R)}};return T}function eO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kS(t,e,n="/"){return tO(t,e,n,!1)}function tO(t,e,n,r){let o=typeof e=="string"?rc(e):e,a=ys(o.pathname||"/",n);if(a==null)return null;let c=PS(t);nO(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=hO(a);d=dO(c[h],p,r)}return d}function PS(t,e=[],n=[],r=""){let o=(a,c,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(Bt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=hs([r,h.relativePath]),y=n.concat(h);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),PS(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:cO(p,a.index),routesMeta:y})};return t.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let h of LS(a.path))o(a,c,h)}),e}function LS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let c=LS(r.join("/")),d=[];return d.push(...c.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function nO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rO=/^:[\w-]+$/,iO=3,sO=2,oO=1,aO=10,lO=-2,eT=t=>t==="*";function cO(t,e){let n=t.split("/"),r=n.length;return n.some(eT)&&(r+=lO),e&&(r+=sO),n.filter(o=>!eT(o)).reduce((o,a)=>o+(rO.test(a)?iO:a===""?oO:aO),r)}function uO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function dO(t,e,n=!1){let{routesMeta:r}=t,o={},a="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",v=Nh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),w=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Nh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:hs([a,v.pathname]),pathnameBase:yO(hs([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=hs([a,v.pathnameBase]))}return c}function Nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fO(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},w)=>{if(y==="*"){let C=d[w]||"";c=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=d[w];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:t}}function fO(t,e=!1,n=!0){xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function hO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ys(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mO(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?rc(t):t;return{pathname:n?n.startsWith("/")?n:pO(n,e):e,search:vO(r),hash:_O(o)}}function pO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VS(t){let e=gO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jS(t,e,n,r=!1){let o;typeof t=="string"?o=rc(t):(o={...t},Bt(!o.pathname||!o.pathname.includes("?"),cy("?","pathname","search",o)),Bt(!o.pathname||!o.pathname.includes("#"),cy("#","pathname","hash",o)),Bt(!o.search||!o.search.includes("#"),cy("#","search","hash",o)));let a=t===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?e[v]:"/"}let h=mO(o,d),p=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var hs=t=>t.join("/").replace(/\/\/+/g,"/"),yO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_O=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var US=["POST","PUT","PATCH","DELETE"];new Set(US);var wO=["GET",...US];new Set(wO);var ic=E.createContext(null);ic.displayName="DataRouter";var dm=E.createContext(null);dm.displayName="DataRouterState";var BS=E.createContext({isTransitioning:!1});BS.displayName="ViewTransition";var EO=E.createContext(new Map);EO.displayName="Fetchers";var TO=E.createContext(null);TO.displayName="Await";var Ci=E.createContext(null);Ci.displayName="Navigation";var rd=E.createContext(null);rd.displayName="Location";var Ss=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ss.displayName="Route";var Uv=E.createContext(null);Uv.displayName="RouteError";function xO(t,{relative:e}={}){Bt(id(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Ci),{hash:o,pathname:a,search:c}=sd(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:hs([n,a])),r.createHref({pathname:d,search:c,hash:o})}function id(){return E.useContext(rd)!=null}function Oa(){return Bt(id(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(rd).location}var zS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FS(t){E.useContext(Ci).static||E.useLayoutEffect(t)}function fm(){let{isDataRoute:t}=E.useContext(Ss);return t?VO():SO()}function SO(){Bt(id(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(ic),{basename:e,navigator:n}=E.useContext(Ci),{matches:r}=E.useContext(Ss),{pathname:o}=Oa(),a=JSON.stringify(VS(r)),c=E.useRef(!1);return FS(()=>{c.current=!0}),E.useCallback((h,p={})=>{if(xi(c.current,zS),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=jS(h,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:hs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,a,o,t])}E.createContext(null);function sd(t,{relative:e}={}){let{matches:n}=E.useContext(Ss),{pathname:r}=Oa(),o=JSON.stringify(VS(n));return E.useMemo(()=>jS(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function AO(t,e){return HS(t,e)}function HS(t,e,n,r){var D;Bt(id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Ci),{matches:a}=E.useContext(Ss),c=a[a.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let M=y&&y.path||"";qS(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=Oa(),w;if(e){let M=typeof e=="string"?rc(e):e;Bt(p==="/"||((D=M.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=v;let S=w.pathname||"/",C=S;if(p!=="/"){let M=p.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let T=kS(t,{pathname:C});xi(y||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=DO(T&&T.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:hs([p,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:hs([p,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,r);return e&&R?E.createElement(rd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function RO(){let t=LO(),e=bO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:o},n):null,c)}var CO=E.createElement(RO,null),IO=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Ss.Provider,{value:this.props.routeContext},E.createElement(Uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NO({routeContext:t,match:e,children:n}){let r=E.useContext(ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ss.Provider,{value:t},n)}function DO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:v}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,y)=>{let v,w=!1,S=null,C=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||CO,c&&(d<0&&y===0?(qS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):d===y&&(w=!0,C=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,y+1)),R=()=>{let D;return v?D=S:w?D=C:p.route.Component?D=E.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,E.createElement(NO,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?E.createElement(IO,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}function Bv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OO(t){let e=E.useContext(ic);return Bt(e,Bv(t)),e}function MO(t){let e=E.useContext(dm);return Bt(e,Bv(t)),e}function kO(t){let e=E.useContext(Ss);return Bt(e,Bv(t)),e}function zv(t){let e=kO(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function PO(){return zv("useRouteId")}function LO(){var r;let t=E.useContext(Uv),e=MO("useRouteError"),n=zv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VO(){let{router:t}=OO("useNavigate"),e=zv("useNavigate"),n=E.useRef(!1);return FS(()=>{n.current=!0}),E.useCallback(async(o,a={})=>{xi(n.current,zS),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var tT={};function qS(t,e,n){!e&&!tT[t]&&(tT[t]=!0,xi(!1,n))}E.memo(jO);function jO({routes:t,future:e,state:n}){return HS(t,void 0,n,e)}function Hy(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){Bt(!id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof n=="string"&&(n=rc(n));let{pathname:h="/",search:p="",hash:y="",state:v=null,key:w="default"}=n,S=E.useMemo(()=>{let C=ys(h,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:v,key:w},navigationType:r}},[c,h,p,y,v,w,r]);return xi(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:E.createElement(Ci.Provider,{value:d},E.createElement(rd.Provider,{children:e,value:S}))}function BO({children:t,location:e}){return AO(qy(t),e)}function qy(t,e=[]){let n=[];return E.Children.forEach(t,(r,o)=>{if(!E.isValidElement(r))return;let a=[...e,o];if(r.type===E.Fragment){n.push.apply(n,qy(r.props.children,a));return}Bt(r.type===Hy,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=qy(r.props.children,a)),n.push(c)}),n}var hh="get",mh="application/x-www-form-urlencoded";function hm(t){return t!=null&&typeof t.tagName=="string"}function zO(t){return hm(t)&&t.tagName.toLowerCase()==="button"}function FO(t){return hm(t)&&t.tagName.toLowerCase()==="form"}function HO(t){return hm(t)&&t.tagName.toLowerCase()==="input"}function qO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $O(t,e){return t.button===0&&(!e||e==="_self")&&!qO(t)}var Kf=null;function GO(){if(Kf===null)try{new FormData(document.createElement("form"),0),Kf=!1}catch{Kf=!0}return Kf}var KO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uy(t){return t!=null&&!KO.has(t)?(xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):t}function YO(t,e){let n,r,o,a,c;if(FO(t)){let d=t.getAttribute("action");r=d?ys(d,e):null,n=t.getAttribute("method")||hh,o=uy(t.getAttribute("enctype"))||mh,a=new FormData(t)}else if(zO(t)||HO(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ys(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||hh,o=uy(t.getAttribute("formenctype"))||uy(d.getAttribute("enctype"))||mh,a=new FormData(d,t),!GO()){let{name:p,type:y,value:v}=t;if(y==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,v)}}else{if(hm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,r=null,o=mh,c=t}return a&&o==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:c}}function Fv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function QO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WO(t,e,n){let r=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await QO(a,n);return c.links?c.links():[]}return[]}));return tM(r.flat(1).filter(XO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function nT(t,e,n,r,o,a){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var y;return n[p].pathname!==h.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):a==="data"?e.filter((h,p)=>{var v;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function ZO(t,e,{includeHydrateFallback:n}={}){return JO(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function JO(t){return[...new Set(t)]}function eM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tM(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let a=JSON.stringify(eM(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nM=new Set([100,101,204,205]);function rM(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ys(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $S(){let t=E.useContext(ic);return Fv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iM(){let t=E.useContext(dm);return Fv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hv=E.createContext(void 0);Hv.displayName="FrameworkContext";function GS(){let t=E.useContext(Hv);return Fv(t,"You must render this element inside a <HydratedRouter> element"),t}function sM(t,e){let n=E.useContext(Hv),[r,o]=E.useState(!1),[a,c]=E.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,w=E.useRef(null);E.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let T=D=>{D.forEach(M=>{c(M.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),E.useEffect(()=>{if(r){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{o(!0)},C=()=>{o(!1),c(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Eu(d,S),onBlur:Eu(h,C),onMouseEnter:Eu(p,S),onMouseLeave:Eu(y,C),onTouchStart:Eu(v,S)}]:[!1,w,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oM({page:t,...e}){let{router:n}=$S(),r=E.useMemo(()=>kS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(lM,{page:t,matches:r,...e}):null}function aM(t){let{manifest:e,routeModules:n}=GS(),[r,o]=E.useState([]);return E.useEffect(()=>{let a=!1;return WO(t,e,n).then(c=>{a||o(c)}),()=>{a=!0}},[t,e,n]),r}function lM({page:t,matches:e,...n}){let r=Oa(),{manifest:o,routeModules:a}=GS(),{basename:c}=$S(),{loaderData:d,matches:h}=iM(),p=E.useMemo(()=>nT(t,e,h,o,r,"data"),[t,e,h,o,r]),y=E.useMemo(()=>nT(t,e,h,o,r,"assets"),[t,e,h,o,r]),v=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,T=!1;if(e.forEach(D=>{var L;let M=o.routes[D.route.id];!M||!M.hasLoader||(!p.some(H=>H.route.id===D.route.id)&&D.route.id in d&&((L=a[D.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?T=!0:C.add(D.route.id))}),C.size===0)return[];let R=rM(t,c);return T&&C.size>0&&R.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[R.pathname+R.search]},[c,d,r,o,p,e,t,a]),w=E.useMemo(()=>ZO(y,o),[y,o]),S=aM(y);return E.createElement(E.Fragment,null,v.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:T})=>E.createElement("link",{key:C,...T})))}function cM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KS&&(window.__reactRouterVersion="7.6.2")}catch{}function uM({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=W2({window:n,v5Compat:!0}));let o=r.current,[a,c]=E.useState({action:o.action,location:o.location}),d=E.useCallback(h=>{E.startTransition(()=>c(h))},[c]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.createElement(UO,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QS=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:c,state:d,target:h,to:p,preventScrollReset:y,viewTransition:v,...w},S){let{basename:C}=E.useContext(Ci),T=typeof p=="string"&&YS.test(p),R,D=!1;if(typeof p=="string"&&T&&(R=p,KS))try{let P=new URL(window.location.href),j=p.startsWith("//")?new URL(P.protocol+p):new URL(p),B=ys(j.pathname,C);j.origin===P.origin&&B!=null?p=B+j.search+j.hash:D=!0}catch{xi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=xO(p,{relative:o}),[L,H,$]=sM(r,w),Y=mM(p,{replace:c,state:d,target:h,preventScrollReset:y,relative:o,viewTransition:v});function O(P){e&&e(P),P.defaultPrevented||Y(P)}let I=E.createElement("a",{...w,...$,href:R||M,onClick:D||a?e:O,ref:cM(S,H),target:h,"data-discover":!T&&n==="render"?"true":void 0});return L&&!T?E.createElement(E.Fragment,null,I,E.createElement(oM,{page:M})):I});QS.displayName="Link";var dM=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:c,viewTransition:d,children:h,...p},y){let v=sd(c,{relative:p.relative}),w=Oa(),S=E.useContext(dm),{navigator:C,basename:T}=E.useContext(Ci),R=S!=null&&_M(v)&&d===!0,D=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,M=w.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(M=M.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&T&&(L=ys(L,T)||L);const H=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let $=M===D||!o&&M.startsWith(D)&&M.charAt(H)==="/",Y=L!=null&&(L===D||!o&&L.startsWith(D)&&L.charAt(D.length)==="/"),O={isActive:$,isPending:Y,isTransitioning:R},I=$?e:void 0,P;typeof r=="function"?P=r(O):P=[r,$?"active":null,Y?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(O):a;return E.createElement(QS,{...p,"aria-current":I,className:P,ref:y,style:j,to:c,viewTransition:d},typeof h=="function"?h(O):h)});dM.displayName="NavLink";var fM=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:a,method:c=hh,action:d,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:v,...w},S)=>{let C=yM(),T=vM(d,{relative:p}),R=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&YS.test(d),M=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,$=(H==null?void 0:H.getAttribute("formmethod"))||c;C(H||L.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:o,state:a,relative:p,preventScrollReset:y,viewTransition:v})};return E.createElement("form",{ref:S,method:R,action:T,onSubmit:r?h:M,...w,"data-discover":!D&&t==="render"?"true":void 0})});fM.displayName="Form";function hM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(t){let e=E.useContext(ic);return Bt(e,hM(t)),e}function mM(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=fm(),h=Oa(),p=sd(t,{relative:a});return E.useCallback(y=>{if($O(y,e)){y.preventDefault();let v=n!==void 0?n:Fu(h)===Fu(p);d(t,{replace:v,state:r,preventScrollReset:o,relative:a,viewTransition:c})}},[h,d,p,n,r,e,t,o,a,c])}var pM=0,gM=()=>`__${String(++pM)}__`;function yM(){let{router:t}=XS("useSubmit"),{basename:e}=E.useContext(Ci),n=PO();return E.useCallback(async(r,o={})=>{let{action:a,method:c,encType:d,formData:h,body:p}=YO(r,e);if(o.navigate===!1){let y=o.fetcherKey||gM();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function vM(t,{relative:e}={}){let{basename:n}=E.useContext(Ci),r=E.useContext(Ss);Bt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...sd(t||".",{relative:e})},c=Oa();if(t==null){a.search=c.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:hs([n,a.pathname])),Fu(a)}function _M(t,e={}){let n=E.useContext(BS);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XS("useViewTransitionState"),o=sd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ys(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ys(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nh(o.pathname,c)!=null||Nh(o.pathname,a)!=null}[...nM];var od=MS();const WS=DS(od),bM=()=>{};var rT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},wM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],d=t[n++],h=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},JS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,d=c?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,y=a>>2,v=(a&3)<<4|d>>4;let w=(d&15)<<2|p>>6,S=p&63;h||(S=64,c||(w=64)),r.push(n[y],n[v],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||p==null||v==null)throw new EM;const w=a<<2|d>>4;if(r.push(w),p!==64){const S=d<<4&240|p>>2;if(r.push(S),v!==64){const C=p<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TM=function(t){const e=ZS(t);return JS.encodeByteArray(e,!0)},Dh=function(t){return TM(t).replace(/\./g,"")},eA=function(t){try{return JS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>xM().__FIREBASE_DEFAULTS__,AM=()=>{if(typeof process>"u"||typeof rT>"u")return;const t=rT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eA(t[1]);return e&&JSON.parse(e)},mm=()=>{try{return bM()||SM()||AM()||RM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tA=t=>{var e,n;return(n=(e=mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nA=t=>{const e=tA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rA=()=>{var t;return(t=mm())===null||t===void 0?void 0:t.config},iA=t=>{var e;return(e=mm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return t.endsWith(".cloudworkstations.dev")}async function qv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dh(JSON.stringify(n)),Dh(JSON.stringify(c)),""].join(".")}const Mu={};function IM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?t.emulator.push(e):t.prod.push(e);return t}function NM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iT=!1;function $v(t,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||Mu[t]===e||Mu[t]||iT)return;Mu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=IM().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{iT=!0,c()},w}function y(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=NM(r),S=n("text"),C=document.getElementById(S)||document.createElement("span"),T=n("learnmore"),R=document.getElementById(T)||document.createElement("a"),D=n("preprendIcon"),M=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const L=w.element;d(L),y(R,T);const H=p();h(M,D),L.append(M,C,R,H),document.body.appendChild(L)}a?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function OM(){var t;const e=(t=mm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LM(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VM(){return!OM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jM(){try{return typeof indexedDB=="object"}catch{return!1}}function UM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="FirebaseError";class Ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BM,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ad.prototype.create)}}class ad{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?zM(a,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ii(o,d,r)}}function zM(t,e){return t.replace(FM,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const FM=/\{\$([^}]+)}/g;function HM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function To(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],c=e[o];if(sT(a)&&sT(c)){if(!To(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function sT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qM(t,e){const n=new $M(t,e);return n.subscribe.bind(n)}class $M{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GM(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=dy),o.error===void 0&&(o.error=dy),o.complete===void 0&&(o.complete=dy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class xo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QM(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YM(t){return t===ya?void 0:t}function QM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const WM={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},ZM=ot.INFO,JM={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},ek=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=JM[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=ZM,this._logHandler=ek,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const tk=(t,e)=>e.some(n=>t instanceof n);let oT,aT;function nk(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rk(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oA=new WeakMap,$y=new WeakMap,aA=new WeakMap,fy=new WeakMap,Kv=new WeakMap;function ik(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(vo(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&oA.set(n,t)}).catch(()=>{}),Kv.set(e,t),e}function sk(t){if($y.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});$y.set(t,e)}let Gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ok(t){Gy=t(Gy)}function ak(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hy(this),e,...n);return aA.set(r,e.sort?e.sort():[e]),vo(r)}:rk().includes(t)?function(...e){return t.apply(hy(this),e),vo(oA.get(this))}:function(...e){return vo(t.apply(hy(this),e))}}function lk(t){return typeof t=="function"?ak(t):(t instanceof IDBTransaction&&sk(t),tk(t,nk())?new Proxy(t,Gy):t)}function vo(t){if(t instanceof IDBRequest)return ik(t);if(fy.has(t))return fy.get(t);const e=lk(t);return e!==t&&(fy.set(t,e),Kv.set(e,t)),e}const hy=t=>Kv.get(t);function ck(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),d=vo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(vo(c.result),h.oldVersion,h.newVersion,vo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const uk=["get","getKey","getAll","getAllKeys","count"],dk=["put","add","delete","clear"],my=new Map;function lT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(my.get(e))return my.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=dk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||uk.includes(n)))return;const a=async function(c,...d){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&h.done]))[0]};return my.set(e,a),a}ok(t=>({...t,get:(e,n,r)=>lT(e,n)||t.get(e,n,r),has:(e,n)=>!!lT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",cT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Gv("@firebase/app"),mk="@firebase/app-compat",pk="@firebase/analytics-compat",gk="@firebase/analytics",yk="@firebase/app-check-compat",vk="@firebase/app-check",_k="@firebase/auth",bk="@firebase/auth-compat",wk="@firebase/database",Ek="@firebase/data-connect",Tk="@firebase/database-compat",xk="@firebase/functions",Sk="@firebase/functions-compat",Ak="@firebase/installations",Rk="@firebase/installations-compat",Ck="@firebase/messaging",Ik="@firebase/messaging-compat",Nk="@firebase/performance",Dk="@firebase/performance-compat",Ok="@firebase/remote-config",Mk="@firebase/remote-config-compat",kk="@firebase/storage",Pk="@firebase/storage-compat",Lk="@firebase/firestore",Vk="@firebase/ai",jk="@firebase/firestore-compat",Uk="firebase",Bk="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",zk={[Ky]:"fire-core",[mk]:"fire-core-compat",[gk]:"fire-analytics",[pk]:"fire-analytics-compat",[vk]:"fire-app-check",[yk]:"fire-app-check-compat",[_k]:"fire-auth",[bk]:"fire-auth-compat",[wk]:"fire-rtdb",[Ek]:"fire-data-connect",[Tk]:"fire-rtdb-compat",[xk]:"fire-fn",[Sk]:"fire-fn-compat",[Ak]:"fire-iid",[Rk]:"fire-iid-compat",[Ck]:"fire-fcm",[Ik]:"fire-fcm-compat",[Nk]:"fire-perf",[Dk]:"fire-perf-compat",[Ok]:"fire-rc",[Mk]:"fire-rc-compat",[kk]:"fire-gcs",[Pk]:"fire-gcs-compat",[Lk]:"fire-fst",[jk]:"fire-fst-compat",[Vk]:"fire-vertex","fire-js":"fire-js",[Uk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,Fk=new Map,Qy=new Map;function uT(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){const e=t.name;if(Qy.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Qy.set(e,t);for(const n of Oh.values())uT(n,t);for(const n of Fk.values())uT(n,t);return!0}function pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new ad("app","Firebase",Hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=Bk;function lA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yy,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw _o.create("bad-app-name",{appName:String(o)});if(n||(n=rA()),!n)throw _o.create("no-options");const a=Oh.get(o);if(a){if(To(n,a.options)&&To(r,a.config))return a;throw _o.create("duplicate-app",{appName:o})}const c=new XM(o);for(const h of Qy.values())c.addComponent(h);const d=new qk(n,r,c);return Oh.set(o,d),d}function Yv(t=Yy){const e=Oh.get(t);if(!e&&t===Yy&&rA())return lA();if(!e)throw _o.create("no-app",{appName:t});return e}function _i(t,e,n){var r;let o=(r=zk[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}Ea(new xo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="firebase-heartbeat-database",Gk=1,Hu="firebase-heartbeat-store";let py=null;function cA(){return py||(py=ck($k,Gk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),py}async function Kk(t){try{const n=(await cA()).transaction(Hu),r=await n.objectStore(Hu).get(uA(t));return await n.done,r}catch(e){if(e instanceof Ii)vs.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function dT(t,e){try{const r=(await cA()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,uA(t)),await r.done}catch(n){if(n instanceof Ii)vs.warn(n.message);else{const r=_o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function uA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=1024,Qk=30;class Xk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Qk){const c=Jk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fT(),{heartbeatsToSend:r,unsentEntries:o}=Wk(this._heartbeatsCache.heartbeats),a=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return vs.warn(n),""}}}function fT(){return new Date().toISOString().substring(0,10)}function Wk(t,e=Yk){const n=[];let r=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),hT(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),hT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jM()?UM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return dT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return dT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hT(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}function Jk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){Ea(new xo("platform-logger",e=>new fk(e),"PRIVATE")),Ea(new xo("heartbeat",e=>new Xk(e),"PRIVATE")),_i(Ky,cT,t),_i(Ky,cT,"esm2017"),_i("fire-js","")}eP("");var mi=function(){return mi=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mi.apply(this,arguments)};function cd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function tP(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function dA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nP=dA,fA=new ad("auth","Firebase",dA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Gv("@firebase/auth");function rP(t,...e){Mh.logLevel<=ot.WARN&&Mh.warn(`Auth (${Ma}): ${t}`,...e)}function ph(t,...e){Mh.logLevel<=ot.ERROR&&Mh.error(`Auth (${Ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,...e){throw Xv(t,...e)}function $r(t,...e){return Xv(t,...e)}function Qv(t,e,n){const r=Object.assign(Object.assign({},nP()),{[e]:n});return new ad("auth","Firebase",r).create(e,{appName:t.name})}function ba(t){return Qv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Si(t,"argument-error"),Qv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fA.create(t,...e)}function Fe(t,e,...n){if(!t)throw Xv(e,...n)}function us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function _s(t,e){t||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sP(){return mT()==="http:"||mT()==="https:"}function mT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sP()||kM()||"connection"in navigator)?navigator.onLine:!0}function aP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=DM()||PM()}get(){return oP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){_s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uP=new ud(3e4,6e4);function Zv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sc(t,e,n,r,o={}){return mA(t,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const d=ld(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return MM()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Mo(t.emulatorConfig.host)&&(p.credentials="include"),hA.fetch()(await pA(t,t.config.apiHost,n,d),p)})}async function mA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lP),e);try{const o=new fP(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Yf(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Yf(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Yf(t,"user-disabled",c);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Qv(t,y,p);Si(t,y)}}catch(o){if(o instanceof Ii)throw o;Si(t,"network-request-failed",{message:String(o)})}}async function dP(t,e,n,r,o={}){const a=await sc(t,e,n,r,o);return"mfaPendingCredential"in a&&Si(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function pA(t,e,n,r){const o=`${e}${n}?${r}`,a=t,c=a.config.emulator?Wv(t.config,o):`${t.config.apiScheme}://${o}`;return cP.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}class fP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),uP.get())})}}function Yf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$r(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e){return sc(t,"POST","/v1/accounts:delete",e)}async function kh(t,e){return sc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mP(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),o=Jv(r);Fe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:ku(gy(o.auth_time)),issuedAtTime:ku(gy(o.iat)),expirationTime:ku(gy(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function gy(t){return Number(t)*1e3}function Jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=eA(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pT(t){const e=Jv(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ii&&pP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){var e;const n=t.auth,r=await t.getIdToken(),o=await qu(t,kh(n,{idToken:r}));Fe(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?gA(a.providerUserInfo):[],d=vP(t.providerData,c),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),y=h?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Wy(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function yP(t){const e=Ot(t);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vP(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function gA(t){return t.map(e=>{var{providerId:n}=e,r=cd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e){const n=await mA(t,{},async()=>{const r=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,c=await pA(t,o,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Mo(t.emulatorConfig.host)&&(h.credentials="include"),hA.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bP(t,e){return sc(t,"POST","/v2/accounts:revokeToken",Zv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=pT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:a}=await _P(e,n);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:a}=n,c=new Vl;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Fe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Fe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,a=cd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mP(this,e)}reload(){return yP(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await qu(this,hP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,a,c,d,h,p,y;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,T=(d=n.tenantId)!==null&&d!==void 0?d:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,D=(p=n.createdAt)!==null&&p!==void 0?p:void 0,M=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:L,emailVerified:H,isAnonymous:$,providerData:Y,stsTokenManager:O}=n;Fe(L&&O,e,"internal-error");const I=Vl.fromJSON(this.name,O);Fe(typeof L=="string",e,"internal-error"),lo(v,e.name),lo(w,e.name),Fe(typeof H=="boolean",e,"internal-error"),Fe(typeof $=="boolean",e,"internal-error"),lo(S,e.name),lo(C,e.name),lo(T,e.name),lo(R,e.name),lo(D,e.name),lo(M,e.name);const P=new qr({uid:L,auth:e,email:w,emailVerified:H,displayName:v,isAnonymous:$,photoURL:C,phoneNumber:S,tenantId:T,stsTokenManager:I,createdAt:D,lastLoginAt:M});return Y&&Array.isArray(Y)&&(P.providerData=Y.map(j=>Object.assign({},j))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,n,r=!1){const o=new Vl;o.updateFromServerResponse(n);const a=new qr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ph(a),a}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Fe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?gA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Vl;d.updateFromIdToken(r);const h=new qr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Wy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;function ds(t){_s(t instanceof Function,"Expected a class definition");let e=gT.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yA.type="NONE";const yT=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e,n){return`firebase:${t}:${e}:${n}`}class jl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,a),this.fullPersistenceKey=gh("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jl(ds(yT),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||ds(yT);const c=gh(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const w=await kh(e,{idToken:y}).catch(()=>{});if(!w)break;v=await qr._fromGetAccountInfoResponse(e,w,y)}else v=qr._fromJSON(e,y);p!==a&&(d=v),a=p;break}}catch{}const h=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new jl(a,e,r):(a=h[0],d&&await a._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(c)}catch{}})),new jl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(xA(e))return"Webos";if(_A(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(EA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vA(t=Ln()){return/firefox\//i.test(t)}function _A(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(t=Ln()){return/crios\//i.test(t)}function wA(t=Ln()){return/iemobile/i.test(t)}function EA(t=Ln()){return/android/i.test(t)}function TA(t=Ln()){return/blackberry/i.test(t)}function xA(t=Ln()){return/webos/i.test(t)}function e_(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wP(t=Ln()){var e;return e_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EP(){return LM()&&document.documentMode===10}function SA(t=Ln()){return e_(t)||EA(t)||xA(t)||TA(t)||/windows phone/i.test(t)||wA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e=[]){let n;switch(t){case"Browser":n=vT(Ln());break;case"Worker":n=`${vT(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,d)=>{try{const h=e(a);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e={}){return sc(t,"GET","/v2/passwordPolicy",Zv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=6;class AP{constructor(e){var n,r,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:SP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,a,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new TP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ir(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(ba(this));const n=e?Ot(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xP(this),n=new AP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ad("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ds(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,o);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gm(t){return Ot(t)}class _T{constructor(e){this.auth=e,this.observer=null,this.addObserver=qM(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CP(t){t_=t}function IP(t){return t_.loadJS(t)}function NP(){return t_.gapiScript}function DP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e){const n=pm(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(To(a,e??{}))return o;Si(o,"already-initialized")}return n.initialize({options:e})}function MP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kP(t,e,n){const r=gm(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=RA(e),{host:c,port:d}=PP(e),h=d===null?"":`:${d}`,p={url:`${a}//${c}${h}/`},y=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(To(p,r.config.emulator)&&To(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Mo(c)?(qv(`${a}//${c}${h}`),$v("Auth",!0)):LP()}function RA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PP(t){const e=RA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:bT(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:bT(c)}}}function bT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e){return dP(t,"POST","/v1/accounts:signInWithIdp",Zv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="http://localhost";class Ta extends CA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,a=cd(n,["providerId","signInMethod"]);if(!r||!o)return null;const c=new Ta(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ul(e,n)}buildRequest(){const e={requestUri:VP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ld(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends n_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends dd{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends dd{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends dd{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mo.credential(n,r)}catch{return null}}}mo.TWITTER_SIGN_IN_METHOD="twitter.com";mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const a=await qr._fromIdTokenResponse(e,r,o),c=wT(r);return new $l({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=wT(r);return new $l({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function wT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Ii{constructor(e,n,r,o){var a;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Lh(e,n,r,o)}}function IA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,a,e,r):a})}async function jP(t,e,n=!1){const r=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $l._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e,n=!1){const{auth:r}=t;if(Ir(r.app))return Promise.reject(ba(r));const o="reauthenticate";try{const a=await qu(t,IA(r,o,e,t),n);Fe(a.idToken,r,"internal-error");const c=Jv(a.idToken);Fe(c,r,"internal-error");const{sub:d}=c;return Fe(t.uid===d,r,"user-mismatch"),$l._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Si(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e,n=!1){if(Ir(t.app))return Promise.reject(ba(t));const r="signIn",o=await IA(t,r,e),a=await $l._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(a.user),a}function zP(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function FP(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function NA(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=1e3,qP=10;class OA extends DA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);EP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qP):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OA.type="LOCAL";const $P=OA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends DA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MA.type="SESSION";const kA=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ym(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:a}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async p=>p(n.origin,a)),h=await GP(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ym.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,h)=>{const p=r_("",20);o.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function YP(t){bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function QP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WP(){return PA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firebaseLocalStorageDb",ZP=1,jh="firebaseLocalStorage",VA="fbase_key";class fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vm(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function JP(){const t=indexedDB.deleteDatabase(LA);return new fd(t).toPromise()}function Zy(){const t=indexedDB.open(LA,ZP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jh,{keyPath:VA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await JP(),e(await Zy()))})})}async function ET(t,e,n){const r=vm(t,!0).put({[VA]:e,value:n});return new fd(r).toPromise()}async function eL(t,e){const n=vm(t,!1).get(e),r=await new fd(n).toPromise();return r===void 0?null:r.value}function TT(t,e){const n=vm(t,!0).delete(e);return new fd(n).toPromise()}const tL=800,nL=3;class jA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ym._getInstance(WP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QP(),!this.activeServiceWorker)return;this.sender=new KP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zy();return await ET(e,Vh,"1"),await TT(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ET(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=vm(o,!1).getAll();return new fd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jA.type="LOCAL";const rL=jA;new ud(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e){return e?ds(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends CA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iL(t){return BP(t.auth,new i_(t),t.bypassAuthState)}function sL(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),UP(n,new i_(t),t.bypassAuthState)}async function oL(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),jP(n,new i_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iL;case"linkViaPopup":case"linkViaRedirect":return oL;case"reauthViaPopup":case"reauthViaRedirect":return sL;default:Si(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new ud(2e3,1e4);async function lL(t,e,n){if(Ir(t.app))return Promise.reject($r(t,"operation-not-supported-in-this-environment"));const r=gm(t);iP(t,e,n_);const o=UA(r,n);return new va(r,"signInViaPopup",e,o).executeNotNull()}class va extends BA{constructor(e,n,r,o,a){super(e,n,o,a),this.provider=r,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aL.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="pendingRedirect",yh=new Map;class uL extends BA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await dL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dL(t,e){const n=mL(e),r=hL(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function fL(t,e){yh.set(t._key(),e)}function hL(t){return ds(t._redirectPersistence)}function mL(t){return gh(cL,t.config.apiKey,t.name)}async function pL(t,e,n=!1){if(Ir(t.app))return Promise.reject(ba(t));const r=gm(t),o=UA(r,e),c=await new uL(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=10*60*1e3;class yL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zA(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gL&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e={}){return sc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wL=/^https?/;async function EL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _L(t);for(const n of e)try{if(TL(n))return}catch{}Si(t,"unauthorized-domain")}function TL(t){const e=Xy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!wL.test(n))return!1;if(bL.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new ud(3e4,6e4);function ST(){const t=bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SL(t){return new Promise((e,n)=>{var r,o,a;function c(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),n($r(t,"network-request-failed"))},timeout:xL.get()})}if(!((o=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=bi().gapi)===null||a===void 0)&&a.load)c();else{const d=DP("iframefcb");return bi()[d]=()=>{gapi.load?c():n($r(t,"network-request-failed"))},IP(`${NP()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw vh=null,e})}let vh=null;function AL(t){return vh=vh||SL(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new ud(5e3,15e3),CL="__/auth/iframe",IL="emulator/auth/iframe",NL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OL(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wv(e,IL):`https://${t.config.authDomain}/${CL}`,r={apiKey:e.apiKey,appName:t.name,v:Ma},o=DL.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ld(r).slice(1)}`}async function ML(t){const e=await AL(t),n=bi().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:OL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NL,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=$r(t,"network-request-failed"),d=bi().setTimeout(()=>{a(c)},RL.get());function h(){bi().clearTimeout(d),o(r)}r.ping(h).then(h,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PL=500,LL=600,VL="_blank",jL="http://localhost";class AT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UL(t,e,n,r=PL,o=LL){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},kL),{width:r.toString(),height:o.toString(),top:a,left:c}),p=Ln().toLowerCase();n&&(d=bA(p)?VL:n),vA(p)&&(e=e||jL,h.scrollbars="yes");const y=Object.entries(h).reduce((w,[S,C])=>`${w}${S}=${C},`,"");if(wP(p)&&d!=="_self")return BL(e||"",d),new AT(null);const v=window.open(e||"",d,y);Fe(v,t,"popup-blocked");try{v.focus()}catch{}return new AT(v)}function BL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="__/auth/handler",FL="emulator/auth/handler",HL=encodeURIComponent("fac");async function RT(t,e,n,r,o,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ma,eventId:o};if(e instanceof n_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",HM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof dd){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await t._getAppCheckToken(),p=h?`#${HL}=${encodeURIComponent(h)}`:"";return`${qL(t)}?${ld(d).slice(1)}${p}`}function qL({config:t}){return t.emulator?Wv(t,FL):`https://${t.authDomain}/${zL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="webStorageSupport";class $L{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kA,this._completeRedirectFn=pL,this._overrideRedirectResult=fL}async _openPopup(e,n,r,o){var a;_s((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await RT(e,n,r,Xy(),o);return UL(e,c,r_())}async _openRedirect(e,n,r,o){await this._originValidation(e);const a=await RT(e,n,r,Xy(),o);return YP(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(_s(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ML(e),r=new yL(e);return n.register("authEvent",o=>(Fe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yy,{type:yy},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[yy];c!==void 0&&n(!!c),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SA()||_A()||e_()}}const GL=$L;var CT="@firebase/auth",IT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QL(t){Ea(new xo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AA(t)},p=new RP(r,o,a,h);return MP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new xo("auth-internal",e=>{const n=gm(e.getProvider("auth").getImmediate());return(r=>new KL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(CT,IT,YL(t)),_i(CT,IT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=5*60,WL=iA("authIdTokenMaxAge")||XL;let NT=null;const ZL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WL)return;const o=n==null?void 0:n.token;NT!==o&&(NT=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _m(t=Yv()){const e=pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OP(t,{popupRedirectResolver:GL,persistence:[rL,$P,kA]}),r=iA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=ZL(a.toString());FP(n,c,()=>c(n.currentUser)),zP(n,d=>c(d))}}const o=tA("auth");return o&&kP(n,`http://${o}`),n}function JL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const a=$r("internal-error");a.customData=o,n(a)},r.type="text/javascript",r.charset="UTF-8",JL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QL("Browser");var e4="firebase",t4="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(e4,t4,"app");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,FA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function P(){}P.prototype=I.prototype,O.D=I.prototype,O.prototype=new P,O.prototype.constructor=O,O.C=function(j,B,F){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return I.prototype[B].apply(j,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,I,P){P||(P=0);var j=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)j[B]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(B=0;16>B;++B)j[B]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=O.g[0],P=O.g[1],B=O.g[2];var F=O.g[3],V=I+(F^P&(B^F))+j[0]+3614090360&4294967295;I=P+(V<<7&4294967295|V>>>25),V=F+(B^I&(P^B))+j[1]+3905402710&4294967295,F=I+(V<<12&4294967295|V>>>20),V=B+(P^F&(I^P))+j[2]+606105819&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(I^B&(F^I))+j[3]+3250441966&4294967295,P=B+(V<<22&4294967295|V>>>10),V=I+(F^P&(B^F))+j[4]+4118548399&4294967295,I=P+(V<<7&4294967295|V>>>25),V=F+(B^I&(P^B))+j[5]+1200080426&4294967295,F=I+(V<<12&4294967295|V>>>20),V=B+(P^F&(I^P))+j[6]+2821735955&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(I^B&(F^I))+j[7]+4249261313&4294967295,P=B+(V<<22&4294967295|V>>>10),V=I+(F^P&(B^F))+j[8]+1770035416&4294967295,I=P+(V<<7&4294967295|V>>>25),V=F+(B^I&(P^B))+j[9]+2336552879&4294967295,F=I+(V<<12&4294967295|V>>>20),V=B+(P^F&(I^P))+j[10]+4294925233&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(I^B&(F^I))+j[11]+2304563134&4294967295,P=B+(V<<22&4294967295|V>>>10),V=I+(F^P&(B^F))+j[12]+1804603682&4294967295,I=P+(V<<7&4294967295|V>>>25),V=F+(B^I&(P^B))+j[13]+4254626195&4294967295,F=I+(V<<12&4294967295|V>>>20),V=B+(P^F&(I^P))+j[14]+2792965006&4294967295,B=F+(V<<17&4294967295|V>>>15),V=P+(I^B&(F^I))+j[15]+1236535329&4294967295,P=B+(V<<22&4294967295|V>>>10),V=I+(B^F&(P^B))+j[1]+4129170786&4294967295,I=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(I^P))+j[6]+3225465664&4294967295,F=I+(V<<9&4294967295|V>>>23),V=B+(I^P&(F^I))+j[11]+643717713&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^I&(B^F))+j[0]+3921069994&4294967295,P=B+(V<<20&4294967295|V>>>12),V=I+(B^F&(P^B))+j[5]+3593408605&4294967295,I=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(I^P))+j[10]+38016083&4294967295,F=I+(V<<9&4294967295|V>>>23),V=B+(I^P&(F^I))+j[15]+3634488961&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^I&(B^F))+j[4]+3889429448&4294967295,P=B+(V<<20&4294967295|V>>>12),V=I+(B^F&(P^B))+j[9]+568446438&4294967295,I=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(I^P))+j[14]+3275163606&4294967295,F=I+(V<<9&4294967295|V>>>23),V=B+(I^P&(F^I))+j[3]+4107603335&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^I&(B^F))+j[8]+1163531501&4294967295,P=B+(V<<20&4294967295|V>>>12),V=I+(B^F&(P^B))+j[13]+2850285829&4294967295,I=P+(V<<5&4294967295|V>>>27),V=F+(P^B&(I^P))+j[2]+4243563512&4294967295,F=I+(V<<9&4294967295|V>>>23),V=B+(I^P&(F^I))+j[7]+1735328473&4294967295,B=F+(V<<14&4294967295|V>>>18),V=P+(F^I&(B^F))+j[12]+2368359562&4294967295,P=B+(V<<20&4294967295|V>>>12),V=I+(P^B^F)+j[5]+4294588738&4294967295,I=P+(V<<4&4294967295|V>>>28),V=F+(I^P^B)+j[8]+2272392833&4294967295,F=I+(V<<11&4294967295|V>>>21),V=B+(F^I^P)+j[11]+1839030562&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^I)+j[14]+4259657740&4294967295,P=B+(V<<23&4294967295|V>>>9),V=I+(P^B^F)+j[1]+2763975236&4294967295,I=P+(V<<4&4294967295|V>>>28),V=F+(I^P^B)+j[4]+1272893353&4294967295,F=I+(V<<11&4294967295|V>>>21),V=B+(F^I^P)+j[7]+4139469664&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^I)+j[10]+3200236656&4294967295,P=B+(V<<23&4294967295|V>>>9),V=I+(P^B^F)+j[13]+681279174&4294967295,I=P+(V<<4&4294967295|V>>>28),V=F+(I^P^B)+j[0]+3936430074&4294967295,F=I+(V<<11&4294967295|V>>>21),V=B+(F^I^P)+j[3]+3572445317&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^I)+j[6]+76029189&4294967295,P=B+(V<<23&4294967295|V>>>9),V=I+(P^B^F)+j[9]+3654602809&4294967295,I=P+(V<<4&4294967295|V>>>28),V=F+(I^P^B)+j[12]+3873151461&4294967295,F=I+(V<<11&4294967295|V>>>21),V=B+(F^I^P)+j[15]+530742520&4294967295,B=F+(V<<16&4294967295|V>>>16),V=P+(B^F^I)+j[2]+3299628645&4294967295,P=B+(V<<23&4294967295|V>>>9),V=I+(B^(P|~F))+j[0]+4096336452&4294967295,I=P+(V<<6&4294967295|V>>>26),V=F+(P^(I|~B))+j[7]+1126891415&4294967295,F=I+(V<<10&4294967295|V>>>22),V=B+(I^(F|~P))+j[14]+2878612391&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~I))+j[5]+4237533241&4294967295,P=B+(V<<21&4294967295|V>>>11),V=I+(B^(P|~F))+j[12]+1700485571&4294967295,I=P+(V<<6&4294967295|V>>>26),V=F+(P^(I|~B))+j[3]+2399980690&4294967295,F=I+(V<<10&4294967295|V>>>22),V=B+(I^(F|~P))+j[10]+4293915773&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~I))+j[1]+2240044497&4294967295,P=B+(V<<21&4294967295|V>>>11),V=I+(B^(P|~F))+j[8]+1873313359&4294967295,I=P+(V<<6&4294967295|V>>>26),V=F+(P^(I|~B))+j[15]+4264355552&4294967295,F=I+(V<<10&4294967295|V>>>22),V=B+(I^(F|~P))+j[6]+2734768916&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~I))+j[13]+1309151649&4294967295,P=B+(V<<21&4294967295|V>>>11),V=I+(B^(P|~F))+j[4]+4149444226&4294967295,I=P+(V<<6&4294967295|V>>>26),V=F+(P^(I|~B))+j[11]+3174756917&4294967295,F=I+(V<<10&4294967295|V>>>22),V=B+(I^(F|~P))+j[2]+718787259&4294967295,B=F+(V<<15&4294967295|V>>>17),V=P+(F^(B|~I))+j[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+B&4294967295,O.g[3]=O.g[3]+F&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var P=I-this.blockSize,j=this.B,B=this.h,F=0;F<I;){if(B==0)for(;F<=P;)o(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<I;)if(j[B++]=O.charCodeAt(F++),B==this.blockSize){o(this,j),B=0;break}}else for(;F<I;)if(j[B++]=O[F++],B==this.blockSize){o(this,j),B=0;break}}this.h=B,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var P=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=P&255,P/=256;for(this.u(O),O=Array(16),I=P=0;4>I;++I)for(var j=0;32>j;j+=8)O[P++]=this.g[I]>>>j&255;return O};function a(O,I){var P=d;return Object.prototype.hasOwnProperty.call(P,O)?P[O]:P[O]=I(O)}function c(O,I){this.h=I;for(var P=[],j=!0,B=O.length-1;0<=B;B--){var F=O[B]|0;j&&F==I||(P[B]=F,j=!1)}this.g=P}var d={};function h(O){return-128<=O&&128>O?a(O,function(I){return new c([I|0],0>I?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return R(p(-O));for(var I=[],P=1,j=0;O>=P;j++)I[j]=O/P|0,P*=4294967296;return new c(I,0)}function y(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return R(y(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(I,8)),j=v,B=0;B<O.length;B+=8){var F=Math.min(8,O.length-B),V=parseInt(O.substring(B,B+F),I);8>F?(F=p(Math.pow(I,F)),j=j.j(F).add(p(V))):(j=j.j(P),j=j.add(p(V)))}return j}var v=h(0),w=h(1),S=h(16777216);t=c.prototype,t.m=function(){if(T(this))return-R(this).m();for(var O=0,I=1,P=0;P<this.g.length;P++){var j=this.i(P);O+=(0<=j?j:4294967296+j)*I,I*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(T(this))return"-"+R(this).toString(O);for(var I=p(Math.pow(O,6)),P=this,j="";;){var B=H(P,I).g;P=D(P,B.j(I));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(O);if(P=B,C(P))return F+j;for(;6>F.length;)F="0"+F;j=F+j}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function T(O){return O.h==-1}t.l=function(O){return O=D(this,O),T(O)?-1:C(O)?0:1};function R(O){for(var I=O.g.length,P=[],j=0;j<I;j++)P[j]=~O.g[j];return new c(P,~O.h).add(w)}t.abs=function(){return T(this)?R(this):this},t.add=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],j=0,B=0;B<=I;B++){var F=j+(this.i(B)&65535)+(O.i(B)&65535),V=(F>>>16)+(this.i(B)>>>16)+(O.i(B)>>>16);j=V>>>16,F&=65535,V&=65535,P[B]=V<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function D(O,I){return O.add(R(I))}t.j=function(O){if(C(this)||C(O))return v;if(T(this))return T(O)?R(this).j(R(O)):R(R(this).j(O));if(T(O))return R(this.j(R(O)));if(0>this.l(S)&&0>O.l(S))return p(this.m()*O.m());for(var I=this.g.length+O.g.length,P=[],j=0;j<2*I;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(var B=0;B<O.g.length;B++){var F=this.i(j)>>>16,V=this.i(j)&65535,Se=O.i(B)>>>16,_e=O.i(B)&65535;P[2*j+2*B]+=V*_e,M(P,2*j+2*B),P[2*j+2*B+1]+=F*_e,M(P,2*j+2*B+1),P[2*j+2*B+1]+=V*Se,M(P,2*j+2*B+1),P[2*j+2*B+2]+=F*Se,M(P,2*j+2*B+2)}for(j=0;j<I;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=I;j<2*I;j++)P[j]=0;return new c(P,0)};function M(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function L(O,I){this.g=O,this.h=I}function H(O,I){if(C(I))throw Error("division by zero");if(C(O))return new L(v,v);if(T(O))return I=H(R(O),I),new L(R(I.g),R(I.h));if(T(I))return I=H(O,R(I)),new L(R(I.g),I.h);if(30<O.g.length){if(T(O)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var P=w,j=I;0>=j.l(O);)P=$(P),j=$(j);var B=Y(P,1),F=Y(j,1);for(j=Y(j,2),P=Y(P,2);!C(j);){var V=F.add(j);0>=V.l(O)&&(B=B.add(P),F=V),j=Y(j,1),P=Y(P,1)}return I=D(O,B.j(I)),new L(B,I)}for(B=v;0<=O.l(I);){for(P=Math.max(1,Math.floor(O.m()/I.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),F=p(P),V=F.j(I);T(V)||0<V.l(O);)P-=j,F=p(P),V=F.j(I);C(F)&&(F=w),B=B.add(F),O=D(O,V)}return new L(B,O)}t.A=function(O){return H(this,O).h},t.and=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],j=0;j<I;j++)P[j]=this.i(j)&O.i(j);return new c(P,this.h&O.h)},t.or=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],j=0;j<I;j++)P[j]=this.i(j)|O.i(j);return new c(P,this.h|O.h)},t.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),P=[],j=0;j<I;j++)P[j]=this.i(j)^O.i(j);return new c(P,this.h^O.h)};function $(O){for(var I=O.g.length+1,P=[],j=0;j<I;j++)P[j]=O.i(j)<<1|O.i(j-1)>>>31;return new c(P,O.h)}function Y(O,I){var P=I>>5;I%=32;for(var j=O.g.length-P,B=[],F=0;F<j;F++)B[F]=0<I?O.i(F+P)>>>I|O.i(F+P+1)<<32-I:O.i(F+P);return new c(B,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,bo=c}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HA,Ru,qA,_h,Jy,$A,GA,KA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,x){return f==Array.prototype||f==Object.prototype||(f[b]=x.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qf=="object"&&Qf];for(var b=0;b<f.length;++b){var x=f[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function o(f,b){if(b)e:{var x=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var X=f[k];if(!(X in x))break e;x=x[X]}f=f[f.length-1],k=x[f],b=b(k),b!=k&&b!=null&&e(x,f,{configurable:!0,writable:!0,value:b})}}function a(f,b){f instanceof String&&(f+="");var x=0,k=!1,X={next:function(){if(!k&&x<f.length){var ie=x++;return{value:b(ie,f[ie]),done:!1}}return k=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(f){return f||function(){return a(this,function(b,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function p(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function y(f,b,x){return f.call.apply(f.bind,arguments)}function v(f,b,x){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,k),f.apply(b,X)}}return function(){return f.apply(b,arguments)}}function w(f,b,x){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,w.apply(null,arguments)}function S(f,b){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function C(f,b){function x(){}x.prototype=b.prototype,f.aa=b.prototype,f.prototype=new x,f.prototype.constructor=f,f.Qb=function(k,X,ie){for(var ye=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ye[lt-2]=arguments[lt];return b.prototype[X].apply(k,ye)}}function T(f){const b=f.length;if(0<b){const x=Array(b);for(let k=0;k<b;k++)x[k]=f[k];return x}return[]}function R(f,b){for(let x=1;x<arguments.length;x++){const k=arguments[x];if(h(k)){const X=f.length||0,ie=k.length||0;f.length=X+ie;for(let ye=0;ye<ie;ye++)f[X+ye]=k[ye]}else f.push(k)}}class D{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(f){return/^[\s\xa0]*$/.test(f)}function L(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var $=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Y(f,b,x){for(const k in f)b.call(x,f[k],k,f)}function O(f,b){for(const x in f)b.call(void 0,f[x],x,f)}function I(f){const b={};for(const x in f)b[x]=f[x];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,b){let x,k;for(let X=1;X<arguments.length;X++){k=arguments[X];for(x in k)f[x]=k[x];for(let ie=0;ie<P.length;ie++)x=P[ie],Object.prototype.hasOwnProperty.call(k,x)&&(f[x]=k[x])}}function B(f){var b=1;f=f.split(":");const x=[];for(;0<b&&f.length;)x.push(f.shift()),b--;return f.length&&x.push(f.join(":")),x}function F(f){d.setTimeout(()=>{throw f},0)}function V(){var f=le;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Se{constructor(){this.h=this.g=null}add(b,x){const k=_e.get();k.set(b,x),this.h?this.h.next=k:this.g=k,this.h=k}}var _e=new D(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Q=!1,le=new Se,U=()=>{const f=d.Promise.resolve(void 0);se=()=>{f.then(J)}};var J=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(x){F(x)}var b=_e;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}Q=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const x=()=>{};d.addEventListener("test",x,b),d.removeEventListener("test",x,b)}catch{}return f}();function Ae(f,b){if(re.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var x=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if($){e:{try{H(b.nodeName);var X=!0;break e}catch{}X=!1}X||(b=null)}}else x=="mouseover"?b=f.fromElement:x=="mouseout"&&(b=f.toElement);this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:pe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ae.aa.h.call(this)}}C(Ae,re);var pe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function ke(f,b,x,k,X){this.listener=f,this.proxy=null,this.src=b,this.type=x,this.capture=!!k,this.ha=X,this.key=++Ee,this.da=this.fa=!1}function Oe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ve(f){this.src=f,this.g={},this.h=0}Ve.prototype.add=function(f,b,x,k,X){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ye=Rt(f,b,k,X);return-1<ye?(b=f[ye],x||(b.fa=!1)):(b=new ke(b,this.src,ie,!!k,X),b.fa=x,f.push(b)),b};function ze(f,b){var x=b.type;if(x in f.g){var k=f.g[x],X=Array.prototype.indexOf.call(k,b,void 0),ie;(ie=0<=X)&&Array.prototype.splice.call(k,X,1),ie&&(Oe(b),f.g[x].length==0&&(delete f.g[x],f.h--))}}function Rt(f,b,x,k){for(var X=0;X<f.length;++X){var ie=f[X];if(!ie.da&&ie.listener==b&&ie.capture==!!x&&ie.ha==k)return X}return-1}var ne="closure_lm_"+(1e6*Math.random()|0),ve={};function Te(f,b,x,k,X){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)Te(f,b[ie],x,k,X);return null}return x=Oi(x),f&&f[he]?f.K(b,x,p(k)?!!k.capture:!1,X):xe(f,b,x,!1,k,X)}function xe(f,b,x,k,X,ie){if(!b)throw Error("Invalid event type");var ye=p(X)?!!X.capture:!!X,lt=Vn(f);if(lt||(f[ne]=lt=new Ve(f)),x=lt.add(b,x,k,ye,ie),x.proxy)return x;if(k=Xe(),x.proxy=k,k.src=f,k.listener=x,f.addEventListener)me||(X=ye),X===void 0&&(X=!1),f.addEventListener(b.toString(),k,X);else if(f.attachEvent)f.attachEvent(mn(b.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Xe(){function f(x){return b.call(f.src,f.listener,x)}const b=It;return f}function nt(f,b,x,k,X){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)nt(f,b[ie],x,k,X);else k=p(k)?!!k.capture:!!k,x=Oi(x),f&&f[he]?(f=f.i,b=String(b).toString(),b in f.g&&(ie=f.g[b],x=Rt(ie,x,k,X),-1<x&&(Oe(ie[x]),Array.prototype.splice.call(ie,x,1),ie.length==0&&(delete f.g[b],f.h--)))):f&&(f=Vn(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Rt(b,x,k,X)),(x=-1<f?b[f]:null)&&rn(x))}function rn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[he])ze(b.i,f);else{var x=f.type,k=f.proxy;b.removeEventListener?b.removeEventListener(x,k,f.capture):b.detachEvent?b.detachEvent(mn(x),k):b.addListener&&b.removeListener&&b.removeListener(k),(x=Vn(b))?(ze(x,f),x.h==0&&(x.src=null,b[ne]=null)):Oe(f)}}}function mn(f){return f in ve?ve[f]:ve[f]="on"+f}function It(f,b){if(f.da)f=!0;else{b=new Ae(b,this);var x=f.listener,k=f.ha||f.src;f.fa&&rn(f),f=x.call(k,b)}return f}function Vn(f){return f=f[ne],f instanceof Ve?f:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oi(f){return typeof f=="function"?f:(f[kr]||(f[kr]=function(b){return f.handleEvent(b)}),f[kr])}function rt(){ae.call(this),this.i=new Ve(this),this.M=this,this.F=null}C(rt,ae),rt.prototype[he]=!0,rt.prototype.removeEventListener=function(f,b,x,k){nt(this,f,b,x,k)};function it(f,b){var x,k=f.F;if(k)for(x=[];k;k=k.F)x.push(k);if(f=f.M,k=b.type||b,typeof b=="string")b=new re(b,f);else if(b instanceof re)b.target=b.target||f;else{var X=b;b=new re(k,f),j(b,X)}if(X=!0,x)for(var ie=x.length-1;0<=ie;ie--){var ye=b.g=x[ie];X=In(ye,k,!0,b)&&X}if(ye=b.g=f,X=In(ye,k,!0,b)&&X,X=In(ye,k,!1,b)&&X,x)for(ie=0;ie<x.length;ie++)ye=b.g=x[ie],X=In(ye,k,!1,b)&&X}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var x=f.g[b],k=0;k<x.length;k++)Oe(x[k]);delete f.g[b],f.h--}}this.F=null},rt.prototype.K=function(f,b,x,k){return this.i.add(String(f),b,!1,x,k)},rt.prototype.L=function(f,b,x,k){return this.i.add(String(f),b,!0,x,k)};function In(f,b,x,k){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var X=!0,ie=0;ie<b.length;++ie){var ye=b[ie];if(ye&&!ye.da&&ye.capture==x){var lt=ye.listener,sn=ye.ha||ye.src;ye.fa&&ze(f.i,ye),X=lt.call(sn,k)!==!1&&X}}return X&&!k.defaultPrevented}function Xt(f,b,x){if(typeof f=="function")x&&(f=w(f,x));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(f,b||0)}function Pr(f){f.g=Xt(()=>{f.g=null,f.i&&(f.i=!1,Pr(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Ua extends ae{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(f){ae.call(this),this.h=f,this.g={}}C(qn,ae);var Mi=[];function ki(f){Y(f.g,function(b,x){this.g.hasOwnProperty(x)&&rn(b)},f),f.g={}}qn.prototype.N=function(){qn.aa.N.call(this),ki(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Pi=d.JSON.parse,Li=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Vi(){}Vi.prototype.h=null;function Gn(f){return f.h||(f.h=f.i())}function Uo(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){re.call(this,"d")}C(yr,re);function Ps(){re.call(this,"c")}C(Ps,re);var Pe={},kt=null;function Nt(){return kt=kt||new rt}Pe.La="serverreachability";function Wt(f){re.call(this,Pe.La,f)}C(Wt,re);function nr(f){const b=Nt();it(b,new Wt(b))}Pe.STAT_EVENT="statevent";function Ht(f,b){re.call(this,Pe.STAT_EVENT,f),this.stat=b}C(Ht,re);function Ze(f){const b=Nt();it(b,new Ht(b,f))}Pe.Ma="timingevent";function Pt(f,b){re.call(this,Pe.Ma,f),this.size=b}C(Pt,re);function ft(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},b)}function Lt(){this.g=!0}Lt.prototype.xa=function(){this.g=!1};function Ls(f,b,x,k,X,ie){f.info(function(){if(f.g)if(ie)for(var ye="",lt=ie.split("&"),sn=0;sn<lt.length;sn++){var ct=lt[sn].split("=");if(1<ct.length){var gn=ct[0];ct=ct[1];var on=gn.split("_");ye=2<=on.length&&on[1]=="type"?ye+(gn+"="+ct+"&"):ye+(gn+"=redacted&")}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+k+") [attempt "+X+"]: "+b+`
`+x+`
`+ye})}function Vr(f,b,x,k,X,ie,ye){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+X+"]: "+b+`
`+x+`
`+ie+" "+ye})}function ji(f,b,x,k){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Bo(f,x)+(k?" "+k:"")})}function Ad(f,b){f.info(function(){return"TIMEOUT: "+b})}Lt.prototype.info=function(){};function Bo(f,b){if(!f.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(f=0;f<x.length;f++)if(Array.isArray(x[f])){var k=x[f];if(!(2>k.length)){var X=k[1];if(Array.isArray(X)&&!(1>X.length)){var ie=X[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return $n(x)}catch{return b}}var Vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Zr(){}C(Zr,Vi),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},Wr=new Zr;function jn(f,b,x,k){this.j=f,this.i=b,this.l=x,this.R=k||1,this.U=new qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}var bc={},Ba={};function jr(f,b,x){f.L=1,f.v=$o(rr(b)),f.m=x,f.P=!0,Bi(f,null)}function Bi(f,b){f.F=Date.now(),zo(f),f.A=rr(f.v);var x=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),Ac(x.i,"t",k),f.C=0,x=f.j.J,f.h=new Gt,f.g=Fd(f.j,x?b:null,!f.m),0<f.O&&(f.M=new Ua(w(f.Y,f,f.g),f.O)),b=f.U,x=f.g,k=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(Mi[0]=X.toString()),X=Mi);for(var ie=0;ie<X.length;ie++){var ye=Te(x,X[ie],k||b.handleEvent,!1,b.h||b);if(!ye)break;b.g[ye.key]=ye}b=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),nr(),Ls(f.i,f.u,f.A,f.l,f.R,f.m)}jn.prototype.ca=function(f){f=f.target;const b=this.M;b&&wr(f)==3?b.j():this.Y(f)},jn.prototype.Y=function(f){try{if(f==this.g)e:{const on=wr(this.g);var b=this.g.Ba();const Yi=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||kd(this.g)))){this.J||on!=4||b==7||(b==8||0>=Yi?nr(3):nr(2)),js(this);var x=this.g.Z();this.X=x;t:if(Rd(this)){var k=kd(this.g);f="";var X=k.length,ie=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Jr(this);var ye="";break t}this.h.i=new d.TextDecoder}for(b=0;b<X;b++)this.h.h=!0,f+=this.h.i.decode(k[b],{stream:!(ie&&b==X-1)});k.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=x==200,Vr(this.i,this.u,this.A,this.l,this.R,on,x),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,sn=this.g;if((lt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(lt)){var ct=lt;break t}}ct=null}if(x=ct)ji(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,x);else{this.o=!1,this.s=3,Ze(12),wn(this),Jr(this);break e}}if(this.P){x=!0;let En;for(;!this.J&&this.C<ye.length;)if(En=Cd(this,ye),En==Ba){on==4&&(this.s=4,Ze(14),x=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(En==bc){this.s=4,Ze(15),ji(this.i,this.l,ye,"[Invalid Chunk]"),x=!1;break}else ji(this.i,this.l,En,null),Fo(this,En);if(Rd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ye.length!=0||this.h.h||(this.s=1,Ze(16),x=!1),this.o=this.o&&x,!x)ji(this.i,this.l,ye,"[Invalid Chunked Response]"),wn(this),Jr(this);else if(0<ye.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Jo(gn),gn.M=!0,Ze(11))}}else ji(this.i,this.l,ye,null),Fo(this,ye);on==4&&wn(this),this.o&&!this.J&&(on==4?Ud(this.j,this):(this.o=!1,zo(this)))}else dp(this.g),x==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),wn(this),Jr(this)}}}catch{}finally{}};function Rd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Cd(f,b){var x=f.C,k=b.indexOf(`
`,x);return k==-1?Ba:(x=Number(b.substring(x,k)),isNaN(x)?bc:(k+=1,k+x>b.length?Ba:(b=b.slice(k,k+x),f.C=k+x,b)))}jn.prototype.cancel=function(){this.J=!0,wn(this)};function zo(f){f.S=Date.now()+f.I,Id(f,f.I)}function Id(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ft(w(f.ba,f),b)}function js(f){f.B&&(d.clearTimeout(f.B),f.B=null)}jn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ad(this.i,this.A),this.L!=2&&(nr(),Ze(17)),wn(this),this.s=2,Jr(this)):Id(this,this.S-f)};function Jr(f){f.j.G==0||f.J||Ud(f.j,f)}function wn(f){js(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,ki(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function Fo(f,b){try{var x=f.j;if(x.G!=0&&(x.g==f||wc(x.h,f))){if(!f.K&&wc(x.h,f)&&x.G==3){try{var k=x.Da.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var X=k;if(X[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<f.F)Za(x),Xa(x);else break e;Dc(x),Ze(18)}}else x.za=X[1],0<x.za-x.T&&37500>X[2]&&x.F&&x.v==0&&!x.C&&(x.C=ft(w(x.Za,x),6e3));if(1>=Fa(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ki(x,11)}else if((f.K||x.g==f)&&Za(x),!M(b))for(X=x.Da.g.parse(b),b=0;b<X.length;b++){let ct=X[b];if(x.T=ct[0],ct=ct[1],x.G==2)if(ct[0]=="c"){x.K=ct[1],x.ia=ct[2];const gn=ct[3];gn!=null&&(x.la=gn,x.j.info("VER="+x.la));const on=ct[4];on!=null&&(x.Aa=on,x.j.info("SVER="+x.Aa));const Yi=ct[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(k=1.5*Yi,x.L=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const En=f.g;if(En){const oi=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var ie=k.h;ie.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ha(ie,ie.h),ie.h=null))}if(k.D){const Mc=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Mc&&(k.ya=Mc,Et(k.I,k.D,Mc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-f.F,x.j.info("Handshake RTT: "+x.R+"ms")),k=x;var ye=f;if(k.qa=zd(k,k.J?k.ia:null,k.W),ye.K){Un(k.h,ye);var lt=ye,sn=k.L;sn&&(lt.I=sn),lt.B&&(js(lt),zo(lt)),k.g=ye}else Vd(k);0<x.i.length&&Wa(x)}else ct[0]!="stop"&&ct[0]!="close"||Ki(x,7);else x.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ki(x,7):Ic(x):ct[0]!="noop"&&x.l&&x.l.ta(ct),x.v=0)}}nr(4)}catch{}}var Nd=class{constructor(f,b){this.g=f,this.map=b}};function zi(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Fa(f){return f.h?1:f.g?f.g.size:0}function wc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Ha(f,b){f.g?f.g.add(b):f.h=b}function Un(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}zi.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ec(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const x of f.g.values())b=b.concat(x.D);return b}return T(f.i)}function ap(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var b=[],x=f.length,k=0;k<x;k++)b.push(f[k]);return b}b=[],x=0;for(k in f)b[x++]=f[k];return b}function qa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var b=[];f=f.length;for(var x=0;x<f;x++)b.push(x);return b}b=[],x=0;for(const k in f)b[x++]=k;return b}}}function Tc(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var x=qa(f),k=ap(f),X=k.length,ie=0;ie<X;ie++)b.call(void 0,k[ie],x&&x[ie],f)}var Ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lp(f,b){if(f){f=f.split("&");for(var x=0;x<f.length;x++){var k=f[x].indexOf("="),X=null;if(0<=k){var ie=f[x].substring(0,k);X=f[x].substring(k+1)}else ie=f[x];b(ie,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Zt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Zt){this.h=f.h,qo(this,f.j),this.o=f.o,this.g=f.g,Us(this,f.s),this.l=f.l;var b=f.i,x=new Hi;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),Fi(this,x),this.m=f.m}else f&&(b=String(f).match(Ho))?(this.h=!1,qo(this,b[1]||"",!0),this.o=vr(b[2]||""),this.g=vr(b[3]||"",!0),Us(this,b[4]),this.l=vr(b[5]||"",!0),Fi(this,b[6]||"",!0),this.m=vr(b[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Zt.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Go(b,xc,!0),":");var x=this.g;return(x||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Go(b,xc,!0),"@"),f.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&f.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&f.push("/"),f.push(Go(x,x.charAt(0)=="/"?cp:Sc,!0))),(x=this.i.toString())&&f.push("?",x),(x=this.m)&&f.push("#",Go(x,$a)),f.join("")};function rr(f){return new Zt(f)}function qo(f,b,x){f.j=x?vr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Us(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function Fi(f,b,x){b instanceof Hi?(f.i=b,Od(f.i,f.h)):(x||(b=Go(b,up)),f.i=new Hi(b,f.h))}function Et(f,b,x){f.i.set(b,x)}function $o(f){return Et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function vr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Go(f,b,x){return typeof f=="string"?(f=encodeURI(f).replace(b,Dd),x&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xc=/[#\/\?@]/g,Sc=/[#\?:]/g,cp=/[#\?]/g,up=/[#\?@]/g,$a=/#/g;function Hi(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function _r(f){f.g||(f.g=new Map,f.h=0,f.i&&lp(f.i,function(b,x){f.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}t=Hi.prototype,t.add=function(f,b){_r(this),this.i=null,f=ei(this,f);var x=this.g.get(f);return x||this.g.set(f,x=[]),x.push(b),this.h+=1,this};function qi(f,b){_r(f),b=ei(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function $i(f,b){return _r(f),b=ei(f,b),f.g.has(b)}t.forEach=function(f,b){_r(this),this.g.forEach(function(x,k){x.forEach(function(X){f.call(b,X,k,this)},this)},this)},t.na=function(){_r(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let k=0;k<b.length;k++){const X=f[k];for(let ie=0;ie<X.length;ie++)x.push(b[k])}return x},t.V=function(f){_r(this);let b=[];if(typeof f=="string")$i(this,f)&&(b=b.concat(this.g.get(ei(this,f))));else{f=Array.from(this.g.values());for(let x=0;x<f.length;x++)b=b.concat(f[x])}return b},t.set=function(f,b){return _r(this),this.i=null,f=ei(this,f),$i(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Ac(f,b,x){qi(f,b),0<x.length&&(f.i=null,f.g.set(ei(f,b),T(x)),f.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var k=b[x];const ie=encodeURIComponent(String(k)),ye=this.V(k);for(k=0;k<ye.length;k++){var X=ie;ye[k]!==""&&(X+="="+encodeURIComponent(String(ye[k]))),f.push(X)}}return this.i=f.join("&")};function ei(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Od(f,b){b&&!f.j&&(_r(f),f.i=null,f.g.forEach(function(x,k){var X=k.toLowerCase();k!=X&&(qi(this,k),Ac(this,X,x))},f)),f.j=b}function Ko(f,b){const x=new Lt;if(d.Image){const k=new Image;k.onload=S(br,x,"TestLoadImage: loaded",!0,b,k),k.onerror=S(br,x,"TestLoadImage: error",!1,b,k),k.onabort=S(br,x,"TestLoadImage: abort",!1,b,k),k.ontimeout=S(br,x,"TestLoadImage: timeout",!1,b,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else b(!1)}function Ur(f,b){const x=new Lt,k=new AbortController,X=setTimeout(()=>{k.abort(),br(x,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:k.signal}).then(ie=>{clearTimeout(X),ie.ok?br(x,"TestPingServer: ok",!0,b):br(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),br(x,"TestPingServer: error",!1,b)})}function br(f,b,x,k,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),k(x)}catch{}}function Yo(){this.g=new Li}function ti(f,b,x){const k=x||"";try{Tc(f,function(X,ie){let ye=X;p(X)&&(ye=$n(X)),b.push(k+ie+"="+encodeURIComponent(ye))})}catch(X){throw b.push(k+"type="+encodeURIComponent("_badmap")),X}}function Bs(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Bs,Vi),Bs.prototype.g=function(){return new Gi(this.l,this.j)},Bs.prototype.i=function(f){return function(){return f}}({});function Gi(f,b){rt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Gi,rt),t=Gi.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,ri(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ni(this):ri(this),this.readyState==3&&Rc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ni(this))},t.Qa=function(f){this.g&&(this.response=f,ni(this))},t.ga=function(){this.g&&ni(this)};function ni(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ri(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,f.push(x[0]+": "+x[1]),x=b.next();return f.join(`\r
`)};function ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Cc(f){let b="";return Y(f,function(x,k){b+=k,b+=":",b+=x,b+=`\r
`}),b}function pn(f,b,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=Cc(x),typeof f=="string"?x!=null&&encodeURIComponent(String(x)):Et(f,b,x))}function yt(f){rt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(yt,rt);var Ga=/^https?$/i,Qo=["POST","PUT"];t=yt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?Gn(this.o):Gn(Wr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ie){Md(this,ie);return}if(f=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var X in k)x.set(X,k[X]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ie of k.keys())x.set(ie,k.get(ie));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Qo,b,void 0))||k||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of x)this.g.setRequestHeader(ie,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xo(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Md(this,ie)}};function Md(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,Ka(f),ii(f)}function Ka(f){f.A||(f.A=!0,it(f,"complete"),it(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,it(this,"complete"),it(this,"abort"),ii(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},t.bb=function(){Ya(this)};function Ya(f){if(f.h&&typeof c<"u"&&(!f.v[1]||wr(f)!=4||f.Z()!=2)){if(f.u&&wr(f)==4)Xt(f.Ea,0,f);else if(it(f,"readystatechange"),wr(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var k;if(k=ye===0){var X=String(f.D).match(Ho)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),k=!Ga.test(X?X.toLowerCase():"")}x=k}if(x)it(f,"complete"),it(f,"success");else{f.m=6;try{var ie=2<wr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",Ka(f)}}finally{ii(f)}}}}function ii(f,b){if(f.g){Xo(f);const x=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||it(f,"ready");try{x.onreadystatechange=k}catch{}}}function Xo(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function wr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Pi(b)}};function kd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function dp(f){const b={};f=(f.g&&2<=wr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(M(f[k]))continue;var x=B(f[k]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=b[X]||[];b[X]=ie,ie.push(x)}O(b,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wo(f,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[f]||b}function Qa(f){this.Aa=0,this.i=[],this.j=new Lt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wo("baseRetryDelayMs",5e3,f),this.cb=Wo("retryDelaySeedMs",1e4,f),this.Wa=Wo("forwardChannelMaxRetries",2,f),this.wa=Wo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(f&&f.concurrentRequestLimit),this.Da=new Yo,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qa.prototype,t.la=8,t.G=1,t.connect=function(f,b,x,k){Ze(0),this.W=f,this.H=b||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.I=zd(this,null,this.W),Wa(this)};function Ic(f){if(Pd(f),f.G==3){var b=f.U++,x=rr(f.I);if(Et(x,"SID",f.K),Et(x,"RID",b),Et(x,"TYPE","terminate"),Zo(f,x),b=new jn(f,f.j,b),b.L=2,b.v=$o(rr(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=b.v,x=!0),x||(b.g=Fd(b.j,null),b.g.ea(b.v)),b.F=Date.now(),zo(b)}Bd(f)}function Xa(f){f.g&&(Jo(f),f.g.cancel(),f.g=null)}function Pd(f){Xa(f),f.u&&(d.clearTimeout(f.u),f.u=null),Za(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Wa(f){if(!za(f.h)&&!f.s){f.s=!0;var b=f.Ga;se||U(),Q||(se(),Q=!0),le.add(b,f),f.B=0}}function fp(f,b){return Fa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ft(w(f.Ga,f,b),Oc(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new jn(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=I(ie),j(ie,this.S)):ie=this.S),this.m!==null||this.O||(X.H=ie,ie=null),this.P)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,4096<b){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Ld(this,X,b),x=rr(this.I),Et(x,"RID",f),Et(x,"CVER",22),this.D&&Et(x,"X-HTTP-Session-Id",this.D),Zo(this,x),ie&&(this.O?b="headers="+encodeURIComponent(String(Cc(ie)))+"&"+b:this.m&&pn(x,this.m,ie)),Ha(this.h,X),this.Ua&&Et(x,"TYPE","init"),this.P?(Et(x,"$req",b),Et(x,"SID","null"),X.T=!0,jr(X,x,null)):jr(X,x,b),this.G=2}}else this.G==3&&(f?Nc(this,f):this.i.length==0||za(this.h)||Nc(this))};function Nc(f,b){var x;b?x=b.l:x=f.U++;const k=rr(f.I);Et(k,"SID",f.K),Et(k,"RID",x),Et(k,"AID",f.T),Zo(f,k),f.m&&f.o&&pn(k,f.m,f.o),x=new jn(f,f.j,x,f.B+1),f.m===null&&(x.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Ld(f,x,1e3),x.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ha(f.h,x),jr(x,k,b)}function Zo(f,b){f.H&&Y(f.H,function(x,k){Et(b,k,x)}),f.l&&Tc({},function(x,k){Et(b,k,x)})}function Ld(f,b,x){x=Math.min(f.i.length,x);var k=f.l?w(f.l.Na,f.l,f):null;e:{var X=f.i;let ie=-1;for(;;){const ye=["count="+x];ie==-1?0<x?(ie=X[0].g,ye.push("ofs="+ie)):ie=0:ye.push("ofs="+ie);let lt=!0;for(let sn=0;sn<x;sn++){let ct=X[sn].g;const gn=X[sn].map;if(ct-=ie,0>ct)ie=Math.max(0,X[sn].g-100),lt=!1;else try{ti(gn,ye,"req"+ct+"_")}catch{k&&k(gn)}}if(lt){k=ye.join("&");break e}}}return f=f.i.splice(0,x),b.D=f,k}function Vd(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;se||U(),Q||(se(),Q=!0),le.add(b,f),f.v=0}}function Dc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ft(w(f.Fa,f),Oc(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ft(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Xa(this),jd(this))};function Jo(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function jd(f){f.g=new jn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=rr(f.qa);Et(b,"RID","rpc"),Et(b,"SID",f.K),Et(b,"AID",f.T),Et(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&Et(b,"TO",f.ja),Et(b,"TYPE","xmlhttp"),Zo(f,b),f.m&&f.o&&pn(b,f.m,f.o),f.L&&(f.g.I=f.L);var x=f.g;f=f.ia,x.L=1,x.v=$o(rr(b)),x.m=null,x.P=!0,Bi(x,f)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),Dc(this),Ze(19))};function Za(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Ud(f,b){var x=null;if(f.g==b){Za(f),Jo(f),f.g=null;var k=2}else if(wc(f.h,b))x=b.D,Un(f.h,b),k=1;else return;if(f.G!=0){if(b.o)if(k==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var X=f.B;k=Nt(),it(k,new Pt(k,x)),Wa(f)}else Vd(f);else if(X=b.s,X==3||X==0&&0<b.X||!(k==1&&fp(f,b)||k==2&&Dc(f)))switch(x&&0<x.length&&(b=f.h,b.i=b.i.concat(x)),X){case 1:Ki(f,5);break;case 4:Ki(f,10);break;case 3:Ki(f,6);break;default:Ki(f,2)}}}function Oc(f,b){let x=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(x*=2),x*b}function Ki(f,b){if(f.j.info("Error code "+b),b==2){var x=w(f.fb,f),k=f.Xa;const X=!k;k=new Zt(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qo(k,"https"),$o(k),X?Ko(k.toString(),x):Ur(k.toString(),x)}else Ze(2);f.G=0,f.l&&f.l.sa(b),Bd(f),Pd(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Bd(f){if(f.G=0,f.ka=[],f.l){const b=Ec(f.h);(b.length!=0||f.i.length!=0)&&(R(f.ka,b),R(f.ka,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.ra()}}function zd(f,b,x){var k=x instanceof Zt?rr(x):new Zt(x);if(k.g!="")b&&(k.g=b+"."+k.g),Us(k,k.s);else{var X=d.location;k=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;var ie=new Zt(null);k&&qo(ie,k),b&&(ie.g=b),X&&Us(ie,X),x&&(ie.l=x),k=ie}return x=f.D,b=f.ya,x&&b&&Et(k,x,b),Et(k,"VER",f.la),Zo(f,k),k}function Fd(f,b,x){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new yt(new Bs({eb:x})):new yt(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}t=Hd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ja(){}Ja.prototype.g=function(f,b){return new Bn(f,b)};function Bn(f,b){rt.call(this),this.g=new Qa(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!M(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new si(this)}C(Bn,rt),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Ic(this.g)},Bn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var x={};x.__data__=f,f=x}else this.u&&(x={},x.__data__=$n(f),f=x);b.i.push(new Nd(b.Ya++,f)),b.G==3&&Wa(b)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,Bn.aa.N.call(this)};function qd(f){yr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const x in b){f=x;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}C(qd,yr);function $d(){Ps.call(this),this.status=1}C($d,Ps);function si(f){this.g=f}C(si,Hd),si.prototype.ua=function(){it(this.g,"a")},si.prototype.ta=function(f){it(this.g,new qd(f))},si.prototype.sa=function(f){it(this.g,new $d)},si.prototype.ra=function(){it(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,KA=function(){return new Ja},GA=function(){return Nt()},$A=Pe,Jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,_h=Vs,Ui.COMPLETE="complete",qA=Ui,Uo.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Ru=Uo,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,HA=yt}).apply(typeof Qf<"u"?Qf:typeof self<"u"?self:typeof window<"u"?window:{});const OT="@firebase/firestore",MT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Gv("@firebase/firestore");function Ml(){return xa.logLevel}function we(t,...e){if(xa.logLevel<=ot.DEBUG){const n=e.map(s_);xa.debug(`Firestore (${oc}): ${t}`,...n)}}function bs(t,...e){if(xa.logLevel<=ot.ERROR){const n=e.map(s_);xa.error(`Firestore (${oc}): ${t}`,...n)}}function Gl(t,...e){if(xa.logLevel<=ot.WARN){const n=e.map(s_);xa.warn(`Firestore (${oc}): ${t}`,...n)}}function s_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YA(t,r,n)}function YA(t,e,n){let r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function _t(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||YA(e,o,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class r4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i4{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const o=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ms,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},d=h=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ms)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new QA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class s4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=l4(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=e.charAt(o[a]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function ev(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),o=e.codePointAt(n);if(r!==o){if(r<128&&o<128)return Qe(r,o);{const a=XA(),c=c4(a.encode(PT(t,n)),a.encode(PT(e,n)));return c!==0?c:Qe(r,o)}}n+=r>65535?2:1}return Qe(t.length,e.length)}function PT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function c4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Qe(t[n],e[n]);return Qe(t.length,e.length)}function Kl(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=-62135596800,VT=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VT);return new dn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LT)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-LT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new dn(0,0))}static max(){return new He(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__name__";class hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const a=hi.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Qe(e.length,n.length)}static compareSegments(e,n){const r=hi.isNumericId(e),o=hi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?hi.extractNumericId(e).compare(hi.extractNumericId(n)):ev(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class Dt extends hi{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const u4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends hi{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return u4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new Rn([tv])}static fromServerFormat(e){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(a(),o++)}if(a(),c)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Dt.fromString(e))}static fromName(e){return new Me(Dt.fromString(e).popFirst(5))}static empty(){return new Me(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function d4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=He.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new So(o,Me.empty(),e)}function f4(t){return new So(t.readTime,t.key,$u)}class So{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new So(He.min(),Me.empty(),$u)}static max(){return new So(He.max(),Me.empty(),$u)}}function h4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==m4)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&n()},h=>r(h))}),c=!0,a===o&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(o=>o?fe.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,a)=>{r.push(n.call(this,o,a))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,o)=>{const a=e.length,c=new Array(a);let d=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(y=>{c[p]=y,++d,d===a&&r(c)},y=>o(y))}})}static doWhile(e,n){return new fe((r,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):r()};a()})}}function g4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}bm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-1;function wm(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function y4(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="";function v4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jT(e)),e=_4(t.get(n),e);return jT(e)}function _4(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case ZA:n+="";break;default:n+=a}}return n}function jT(t){return t+ZA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??An.RED,this.left=o??An.EMPTY,this.right=a??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,a){return new An(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return An.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,o,a){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BT(this.data.getIterator())}getIteratorFrom(e){return new BT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class BT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new hr([])}unionWith(e){let n=new fn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eR("Invalid base64 string: "+a):a}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const b4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=b4.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="server_timestamp",nR="__type__",rR="__previous_value__",iR="__local_write_time__";function a_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nR])===null||n===void 0?void 0:n.stringValue)===tR}function Em(t){const e=t.mapValue.fields[rR];return a_(e)?Em(e):e}function Gu(t){const e=Ao(t.mapValue.fields[iR].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,o,a,c,d,h,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=y}}const Bh="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="__type__",E4="__max__",Wf={mapValue:{}},oR="__vector__",zh="value";function Co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:x4(t)?9007199254740991:T4(t)?10:11:Ue(28295,{value:t})}function Ai(t,e){if(t===e)return!0;const n=Co(t);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ao(o.timestampValue),d=Ao(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Ro(o.bytesValue).isEqual(Ro(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return Qt(o.geoPointValue.latitude)===Qt(a.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Qt(o.integerValue)===Qt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Qt(o.doubleValue),d=Qt(a.doubleValue);return c===d?Uh(c)===Uh(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(UT(c)!==UT(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Ai(c[h],d[h])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find(n=>Ai(n,e))!==void 0}function Yl(t,e){if(t===e)return 0;const n=Co(t),r=Co(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(a,c){const d=Qt(a.integerValue||a.doubleValue),h=Qt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(t,e);case 3:return zT(t.timestampValue,e.timestampValue);case 4:return zT(Gu(t),Gu(e));case 5:return ev(t.stringValue,e.stringValue);case 6:return function(a,c){const d=Ro(a),h=Ro(c);return d.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const y=Qe(d[p],h[p]);if(y!==0)return y}return Qe(d.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Qe(Qt(a.latitude),Qt(c.latitude));return d!==0?d:Qe(Qt(a.longitude),Qt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FT(t.arrayValue,e.arrayValue);case 10:return function(a,c){var d,h,p,y;const v=a.fields||{},w=c.fields||{},S=(d=v[zh])===null||d===void 0?void 0:d.arrayValue,C=(h=w[zh])===null||h===void 0?void 0:h.arrayValue,T=Qe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return T!==0?T:FT(S,C)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===Wf.mapValue&&c===Wf.mapValue)return 0;if(a===Wf.mapValue)return 1;if(c===Wf.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),p=c.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const w=ev(h[v],y[v]);if(w!==0)return w;const S=Yl(d[h[v]],p[y[v]]);if(S!==0)return S}return Qe(h.length,y.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{Pe:n})}}function zT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Ao(t),r=Ao(e),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function FT(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=Yl(n[o],r[o]);if(a)return a}return Qe(n.length,r.length)}function Ql(t){return nv(t)}function nv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ao(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ro(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=nv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${nv(n.fields[c])}`;return o+"}"}(t.mapValue):Ue(61005,{value:t})}function bh(t){switch(Co(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Em(t);return e?16+bh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+bh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let o=0;return ko(r.fields,(a,c)=>{o+=a.length+bh(c)}),o}(t.mapValue);default:throw Ue(13486,{value:t})}}function HT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rv(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function qT(t){return!!t&&"nullValue"in t}function $T(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function T4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sR])===null||n===void 0?void 0:n.stringValue)===oR}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function x4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===E4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=Rn.emptyPath(),r={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=Pu(c):o.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ko(n,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Jn(Pu(this.value))}}function aR(t){const e=[];return ko(t.fields,(n,r)=>{const o=new Rn([n]);if(wh(r)){const a=aR(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r,o,a,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new kn(e,0,He.min(),He.min(),He.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,o){return new kn(e,1,n,He.min(),r,o,0)}static newNoDocument(e,n){return new kn(e,2,n,He.min(),He.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,He.min(),He.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function GT(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?r=Me.comparator(Me.fromName(c.referenceValue),n.key):r=Yl(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function KT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function S4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{}class nn extends lR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R4(e,n,r):n==="array-contains"?new N4(e,r):n==="in"?new D4(e,r):n==="not-in"?new O4(e,r):n==="array-contains-any"?new M4(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C4(e,r):new I4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends lR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Gr(e,n)}matches(e){return cR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cR(t){return t.op==="and"}function uR(t){return A4(t)&&cR(t)}function A4(t){for(const e of t.filters)if(e instanceof Gr)return!1;return!0}function iv(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Ql(t.value);if(uR(t))return t.filters.map(e=>iv(e)).join(",");{const e=t.filters.map(n=>iv(n)).join(",");return`${t.op}(${e})`}}function dR(t,e){return t instanceof nn?function(r,o){return o instanceof nn&&r.op===o.op&&r.field.isEqual(o.field)&&Ai(r.value,o.value)}(t,e):t instanceof Gr?function(r,o){return o instanceof Gr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,c,d)=>a&&dR(c,o.filters[d]),!0):!1}(t,e):void Ue(19439)}function fR(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`}(t):t instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(fR).join(" ,")+"}"}(t):"Filter"}class R4 extends nn{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class C4 extends nn{constructor(e,n){super(e,"in",n),this.keys=hR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I4 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=hR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Me.fromName(r.referenceValue))}class N4 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l_(n)&&Yu(n.arrayValue,this.value)}}class D4 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class O4 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class M4 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n=null,r=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function YT(t,e=null,n=[],r=[],o=null,a=null,c=null){return new k4(t,e,n,r,o,a,c)}function c_(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>iv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ql(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ql(r)).join(",")),e.Ie=n}return e.Ie}function u_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KT(t.startAt,e.startAt)&&KT(t.endAt,e.endAt)}function sv(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n=null,r=[],o=[],a=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function P4(t,e,n,r,o,a,c,d){return new cc(t,e,n,r,o,a,c,d)}function Tm(t){return new cc(t)}function QT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mR(t){return t.collectionGroup!==null}function Lu(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new fn(Rn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Qu(a,r))}),n.has(Rn.keyField().canonicalString())||e.Ee.push(new Qu(Rn.keyField(),r))}return e.Ee}function wi(t){const e=qe(t);return e.de||(e.de=L4(e,Lu(t))),e.de}function L4(t,e){if(t.limitType==="F")return YT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Qu(o.field,a)});const n=t.endAt?new Fh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fh(t.startAt.position,t.startAt.inclusive):null;return YT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ov(t,e){const n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function av(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xm(t,e){return u_(wi(t),wi(e))&&t.limitType===e.limitType}function pR(t){return`${c_(wi(t))}|lt:${t.limitType}`}function kl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>fR(o)).join(", ")}]`),wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Ql(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Ql(o)).join(",")),`Target(${r})`}(wi(t))}; limitType=${t.limitType})`}function Sm(t,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Me.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,o){for(const a of Lu(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(c,d,h){const p=GT(c,d,h);return c.inclusive?p<=0:p<0}(r.startAt,Lu(r),o)||r.endAt&&!function(c,d,h){const p=GT(c,d,h);return c.inclusive?p>=0:p>0}(r.endAt,Lu(r),o))}(t,e)}function V4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gR(t){return(e,n)=>{let r=!1;for(const o of Lu(t)){const a=j4(o,e,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function j4(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):function(a,c,d){const h=c.data.field(a),p=d.data.field(a);return h!==null&&p!==null?Yl(h,p):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return JA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new zt(Me.comparator);function ws(){return U4}const yR=new zt(Me.comparator);function Cu(...t){let e=yR;for(const n of t)e=e.insert(n.key,n);return e}function vR(t){let e=yR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _a(){return Vu()}function _R(){return Vu()}function Vu(){return new ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const B4=new zt(Me.comparator),z4=new fn(Me.comparator);function at(...t){let e=z4;for(const n of t)e=e.add(n);return e}const F4=new fn(Qe);function H4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function bR(t){return{integerValue:""+t}}function q4(t,e){return y4(e)?bR(e):d_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function $4(t,e,n){return t instanceof Xu?function(o,a){const c={fields:{[nR]:{stringValue:tR},[iR]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&a_(a)&&(a=Em(a)),a&&(c.fields[rR]=a),{mapValue:c}}(n,e):t instanceof Wu?ER(t,e):t instanceof Xl?TR(t,e):function(o,a){const c=wR(o,a),d=XT(c)+XT(o.Re);return rv(c)&&rv(o.Re)?bR(d):d_(o.serializer,d)}(t,e)}function G4(t,e,n){return t instanceof Wu?ER(t,e):t instanceof Xl?TR(t,e):n}function wR(t,e){return t instanceof Hh?function(r){return rv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Xu extends Am{}class Wu extends Am{constructor(e){super(),this.elements=e}}function ER(t,e){const n=xR(e);for(const r of t.elements)n.some(o=>Ai(o,r))||n.push(r);return{arrayValue:{values:n}}}class Xl extends Am{constructor(e){super(),this.elements=e}}function TR(t,e){let n=xR(e);for(const r of t.elements)n=n.filter(o=>!Ai(o,r));return{arrayValue:{values:n}}}class Hh extends Am{constructor(e,n){super(),this.serializer=e,this.Re=n}}function XT(t){return Qt(t.integerValue||t.doubleValue)}function xR(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.field=e,this.transform=n}}function K4(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Wu&&o instanceof Wu||r instanceof Xl&&o instanceof Xl?Kl(r.elements,o.elements,Ai):r instanceof Hh&&o instanceof Hh?Ai(r.Re,o.Re):r instanceof Xu&&o instanceof Xu}(t.transform,e.transform)}class Y4{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rm{}function AR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f_(t.key,er.none()):new hd(t.key,t.data,er.none());{const n=t.data,r=Jn.empty();let o=new fn(Rn.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new Po(t.key,r,new hr(o.toArray()),er.none())}}function Q4(t,e,n){t instanceof hd?function(o,a,c){const d=o.value.clone(),h=ZT(o.fieldTransforms,a,c.transformResults);d.setAll(h),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Po?function(o,a,c){if(!Eh(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=ZT(o.fieldTransforms,a,c.transformResults),h=a.data;h.setAll(RR(o)),h.setAll(d),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function ju(t,e,n,r){return t instanceof hd?function(a,c,d,h){if(!Eh(a.precondition,c))return d;const p=a.value.clone(),y=JT(a.fieldTransforms,h,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Po?function(a,c,d,h){if(!Eh(a.precondition,c))return d;const p=JT(a.fieldTransforms,h,c),y=c.data;return y.setAll(RR(a)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(a,c,d){return Eh(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function X4(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),a=wR(r.transform,o||null);a!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,a))}return n||null}function WT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Kl(r,o,(a,c)=>K4(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hd extends Rm{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Po extends Rm{constructor(e,n,r,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZT(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,d=e.data.field(a.field);r.set(a.field,G4(c,d,n[o]))}return r}function JT(t,e,n){const r=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);r.set(o.field,$4(a,c,e))}return r}class f_ extends Rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends Rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Q4(a,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_R();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(o.key)?null:d;const h=AR(c,d);h!==null&&r.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,(n,r)=>WT(n,r))&&Kl(this.baseMutations,e.baseMutations,(n,r)=>WT(n,r))}}class h_{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){_t(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return B4}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new h_(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,dt;function tV(t){switch(t){case ue.OK:return Ue(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function CR(t){if(t===void 0)return bs("GRPC error has no .code"),ue.UNKNOWN;switch(t){case tn.OK:return ue.OK;case tn.CANCELLED:return ue.CANCELLED;case tn.UNKNOWN:return ue.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ue.INTERNAL;case tn.UNAVAILABLE:return ue.UNAVAILABLE;case tn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case tn.NOT_FOUND:return ue.NOT_FOUND;case tn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case tn.ABORTED:return ue.ABORTED;case tn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case tn.DATA_LOSS:return ue.DATA_LOSS;default:return Ue(39323,{code:t})}}(dt=tn||(tn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new bo([4294967295,4294967295],0);function ex(t){const e=XA().encode(t),n=new FA;return n.update(e),new Uint8Array(n.digest())}function tx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bo([n,r],0),new bo([o,a],0)]}class m_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=bo.fromNumber(this.pe)}we(e,n,r){let o=e.add(n.multiply(bo.fromNumber(r)));return o.compare(nV)===1&&(o=new bo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ex(e),[r,o]=tx(n);for(let a=0;a<this.hashCount;a++){const c=this.we(r,o,a);if(!this.be(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new m_(a,o,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=ex(e),[r,o]=tx(n);for(let a=0;a<this.hashCount;a++){const c=this.we(r,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cm(He.min(),o,new zt(Qe),ws(),at())}}class md{constructor(e,n,r,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new md(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,o){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=o}}class IR{constructor(e,n){this.targetId=e,this.Ce=n}}class NR{constructor(e,n,r=Cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class nx{constructor(){this.Fe=0,this.Me=rx(),this.xe=Cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=at(),n=at(),r=at();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ue(38017,{changeType:a})}}),new md(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=rx()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_t(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rV{constructor(e){this.ze=e,this.je=new Map,this.He=ws(),this.Je=Zf(),this.Ye=Zf(),this.Ze=new zt(Qe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,r=e.Ce.count,o=this._t(n);if(o){const a=o.target;if(sv(a))if(r===0){const c=new Me(a.path);this.tt(n,c,kn.newNoDocument(c,He.min()))}else _t(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const d=this.ct(e),h=d?this.lt(d,e,c):1;if(h!==0){this.st(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let c,d;try{c=Ro(r).toUint8Array()}catch(h){if(h instanceof eR)return Gl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new m_(c,o,a)}catch(h){return Gl(h instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let o=0;return r.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,a,null),o++)}),o}It(e){const n=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&sv(d.target)){const h=new Me(d.target.path);this.Et(h).has(c)||this.dt(c,h)||this.tt(c,h,kn.newNoDocument(h,e))}a.Le&&(n.set(c,a.qe()),a.Qe())}});let r=at();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new Cm(e,n,this.Ze,this.He,r);return this.He=ws(),this.Je=Zf(),this.Ye=Zf(),this.Ze=new zt(Qe),o}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new nx,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new fn(Qe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new fn(Qe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new nx),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Zf(){return new zt(Me.comparator)}function rx(){return new zt(Me.comparator)}const iV={asc:"ASCENDING",desc:"DESCENDING"},sV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oV={and:"AND",or:"OR"};class aV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lv(t,e){return t.useProto3Json||wm(e)?e:{value:e}}function qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lV(t,e){return qh(t,e.toTimestamp())}function Ei(t){return _t(!!t,49232),He.fromTimestamp(function(n){const r=Ao(n);return new dn(r.seconds,r.nanos)}(t))}function p_(t,e){return cv(t,e).canonicalString()}function cv(t,e){const n=function(o){return new Dt(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OR(t){const e=Dt.fromString(t);return _t(VR(e),10190,{key:e.toString()}),e}function uv(t,e){return p_(t.databaseId,e.path)}function vy(t,e){const n=OR(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(kR(n))}function MR(t,e){return p_(t.databaseId,e)}function cV(t){const e=OR(t);return e.length===4?Dt.emptyPath():kR(e)}function dv(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kR(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ix(t,e,n){return{name:uv(t,e),fields:n.value.mapValue.fields}}function uV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ue(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(_t(y===void 0||typeof y=="string",58123),Cn.fromBase64String(y||"")):(_t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Cn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?ue.UNKNOWN:CR(p.code);return new be(y,p.message||"")}(c);n=new NR(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=vy(t,r.document.name),a=Ei(r.document.updateTime),c=r.document.createTime?Ei(r.document.createTime):He.min(),d=new Jn({mapValue:{fields:r.document.fields}}),h=kn.newFoundDocument(o,a,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Th(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=vy(t,r.document),a=r.readTime?Ei(r.readTime):He.min(),c=kn.newNoDocument(o,a),d=r.removedTargetIds||[];n=new Th([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=vy(t,r.document),a=r.removedTargetIds||[];n=new Th([],a,o,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new eV(o,a),d=r.targetId;n=new IR(d,c)}}return n}function dV(t,e){let n;if(e instanceof hd)n={update:ix(t,e.key,e.value)};else if(e instanceof f_)n={delete:uv(t,e.key)};else if(e instanceof Po)n={update:ix(t,e.key,e.data),updateMask:bV(e.fieldMask)};else{if(!(e instanceof W4))return Ue(16599,{ft:e.type});n={verify:uv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,c){const d=c.transform;if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Hh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Ue(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:lV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)}(t,e.precondition)),n}function fV(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(o,a){let c=o.updateTime?Ei(o.updateTime):Ei(a);return c.isEqual(He.min())&&(c=Ei(a)),new Y4(c,o.transformResults||[])}(n,e))):[]}function hV(t,e){return{documents:[MR(t,e.path)]}}function mV(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MR(t,o);const a=function(p){if(p.length!==0)return LR(Gr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:Pl(w.field),direction:yV(w.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=lv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:o}}function pV(t){let e=cV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){_t(r===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=function(v){const w=PR(v);return w instanceof Gr&&uR(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(w=>function(C){return new Qu(Ll(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(v){let w;return w=typeof v=="object"?v.value:v,wm(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(v){const w=!!v.before,S=v.values||[];return new Fh(S,w)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const w=!v.before,S=v.values||[];return new Fh(S,w)}(n.endAt)),P4(e,o,c,a,d,"F",h,p)}function gV(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ll(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ll(n.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ll(n.unaryFilter.field);return nn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ll(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Ll(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gr.create(n.compositeFilter.filters.map(r=>PR(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function yV(t){return iV[t]}function vV(t){return sV[t]}function _V(t){return oV[t]}function Pl(t){return{fieldPath:t.canonicalString()}}function Ll(t){return Rn.fromServerFormat(t.fieldPath)}function LR(t){return t instanceof nn?function(n){if(n.op==="=="){if($T(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NAN"}};if(qT(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($T(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NAN"}};if(qT(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(n.field),op:vV(n.op),value:n.value}}}(t):t instanceof Gr?function(n){const r=n.getFilters().map(o=>LR(o));return r.length===1?r[0]:{compositeFilter:{op:_V(n.op),filters:r}}}(t):Ue(54877,{filter:t})}function bV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,o,a=He.min(),c=He.min(),d=Cn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.wt=e}}function EV(t){const e=pV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?av(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Cn=new xV}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(So.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(So.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class xV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new fn(Dt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new fn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jR=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(jR,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Wl(0)}static lr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="LruGarbageCollector",SV=1048576;function ax([t,e],[n,r]){const o=Qe(t,n);return o===0?Qe(e,r):o}class AV{constructor(e){this.Er=e,this.buffer=new fn(ax),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ax(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(ox,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lc(n)?we(ox,"Ignoring IndexedDB error during garbage collection: ",n):await ac(n)}await this.mr(3e5)})}}class CV{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(bm.le);const r=new AV(n);return this.gr.forEachTarget(e,o=>r.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>r.Rr(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(sx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sx):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,o,a,c,d,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,c=Date.now(),this.nthSequenceNumber(e,o))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,n))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Ml()<=ot.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:v})))}}function IV(t,e){return new CV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.changes=new ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&ju(r.mutation,o,hr.empty(),dn.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const o=_a();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(a=>{let c=Cu();return a.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=_a();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const o=[];return r.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,o){let a=ws();const c=Vu(),d=function(){return Vu()}();return n.forEach((h,p)=>{const y=r.get(p.key);o.has(p.key)&&(y===void 0||y.mutation instanceof Po)?a=a.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ju(y.mutation,p,y.mutation.getFieldMask(),dn.now())):c.set(p.key,hr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var v;return d.set(p,new DV(y,(v=c.get(p))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Vu();let o=new zt((c,d)=>c-d),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let y=r.get(h)||hr.empty();y=d.applyToLocalView(p,y),r.set(h,y);const v=(o.get(d.batchId)||at()).add(h);o=o.insert(d.batchId,v)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,y=h.value,v=_R();y.forEach(w=>{if(!a.has(w)){const S=AR(n.get(w),r.get(w));S!==null&&v.set(w,S),a=a.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return fe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-a.size):fe.resolve(_a());let d=$u,h=a;return c.next(p=>fe.forEach(p,(y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),a.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{h=h.insert(y,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,at())).next(y=>({batchId:d,changes:vR(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(r=>{let o=Cu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const a=n.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,a).next(d=>fe.forEach(d,h=>{const p=function(v,w){return new cc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(y=>{y.forEach((v,w)=>{c=c.insert(v,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,o))).next(c=>{a.forEach((h,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,kn.newInvalidDocument(y)))});let d=Cu();return c.forEach((h,p)=>{const y=a.get(h);y!==void 0&&ju(y.mutation,p,hr.empty(),dn.now()),Sm(n,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return fe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:EV(o.bundledQuery),readTime:Ei(o.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.overlays=new zt(Me.comparator),this.Qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_a();return fe.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,a)=>{this.St(e,n,a)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Qr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const o=_a(),a=n.length+1,c=new Me(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let a=new zt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=_a(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=_a(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=o)););return fe.resolve(d)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Qr.get(o.largestBatchId).delete(r.key);this.Qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new J4(n,r));let a=this.Qr.get(n);a===void 0&&(a=at(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.$r=new fn(bn.Ur),this.Kr=new fn(bn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new bn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new bn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Me(new Dt([])),r=new bn(n,e),o=new bn(n,e+1),a=[];return this.Kr.forEachInRange([r,o],c=>{this.zr(c),a.push(c.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Me(new Dt([])),r=new bn(n,e),o=new bn(n,e+1);let a=at();return this.Kr.forEachInRange([r,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new bn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Me.comparator(e.key,n.key)||Qe(e.Zr,n.Zr)}static Wr(e,n){return Qe(e.Zr,n.Zr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new fn(bn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Z4(a,n,r,o);this.mutationQueue.push(c);for(const d of o)this.Xr=this.Xr.add(new bn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,n){return fe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ti(r),a=o<0?0:o;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?o_:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),o=new bn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,o],c=>{const d=this.ei(c.Zr);a.push(d)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(Qe);return n.forEach(o=>{const a=new bn(o,0),c=new bn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,c],d=>{r=r.add(d.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let a=r;Me.isDocumentKey(a)||(a=a.child(""));const c=new bn(new Me(a),0);let d=new fn(Qe);return this.Xr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(h.Zr)),!0)},c),fe.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(r=>{const o=this.ei(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){_t(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(n.mutations,o=>{const a=new bn(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new bn(n,0),o=this.Xr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.ii=e,this.docs=function(){return new zt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let r=ws();return n.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():kn.newInvalidDocument(o))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let a=ws();const c=n.path,d=new Me(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||h4(f4(y),r)<=0||(o.has(y.key)||Sm(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,r,o){Ue(9500)}si(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jV(this)}getSize(e){return fe.resolve(this.size)}}class jV extends NV{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.persistence=e,this.oi=new ka(n=>c_(n),u_),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new g_,this.targetCount=0,this.ui=Wl.cr()}forEachTarget(e,n){return this.oi.forEach((r,o)=>n(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),fe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Tr(n),fe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let o=0;const a=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),fe.waitFor(a).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.ci={},this.overlays={},this.li=new bm(0),this.hi=!1,this.hi=!0,this.Pi=new PV,this.referenceDelegate=e(this),this.Ti=new UV(this),this.indexManager=new TV,this.remoteDocumentCache=function(o){return new VV(o)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new wV(n),this.Ei=new MV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new LV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const o=new BV(this.li.next());return this.referenceDelegate.di(),r(o).next(a=>this.referenceDelegate.Ai(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ri(e,n){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class BV extends p4{constructor(e){super(),this.currentSequenceNumber=e}}class y_{constructor(e){this.persistence=e,this.Vi=new g_,this.mi=null}static fi(e){return new y_(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const o=Me.fromPath(r);return this.pi(e,o).next(a=>{a||n.removeEntry(o,He.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return fe.or([()=>fe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.yi=new ka(r=>v4(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=IV(this,n)}static fi(e,n){return new $h(e,n)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return fe.forEach(this.yi,(r,o)=>this.Dr(e,r,o).next(a=>a?fe.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.si(e,c=>this.Dr(e,c,n).next(d=>{d||(r++,a.removeEntry(c,He.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),fe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}Dr(e,n,r){return fe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return fe.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.ds=r,this.As=o}static Rs(e,n){let r=at(),o=at();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new v_(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return VM()?8:g4(Ln())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,o){const a={result:null};return this.ws(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.bs(e,n,o,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new zV;return this.Ss(e,n,c).next(d=>{if(a.result=d,this.fs)return this.Ds(e,n,c,d.size)})}).next(()=>a.result)}Ds(e,n,r,o){return r.documentReadCount<this.gs?(Ml()<=ot.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(Ml()<=ot.DEBUG&&we("QueryEngine","Query:",kl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ps*o?(Ml()<=ot.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):fe.resolve())}ws(e,n){if(QT(n))return fe.resolve(null);let r=wi(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=av(n,null,"F"),r=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=at(...a);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.vs(n,d);return this.Cs(n,p,c,h.readTime)?this.ws(e,av(n,null,"F")):this.Fs(e,p,n,h)}))})))}bs(e,n,r,o){return QT(n)||o.isEqual(He.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(a=>{const c=this.vs(n,a);return this.Cs(n,c,r,o)?fe.resolve(null):(Ml()<=ot.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),kl(n)),this.Fs(e,c,n,d4(o,$u)).next(d=>d))})}vs(e,n){let r=new fn(gR(e));return n.forEach((o,a)=>{Sm(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,r){return Ml()<=ot.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ys.getDocumentsMatchingQuery(e,n,So.min(),r)}Fs(e,n,r,o){return this.ys.getDocumentsMatchingQuery(e,r,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LocalStore",HV=3e8;class qV{constructor(e,n,r,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new zt(Qe),this.Os=new ka(a=>c_(a),u_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function $V(t,e,n,r){return new qV(t,e,n,r)}async function BR(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],d=[];let h=at();for(const p of o){c.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){d.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(r,h).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function GV(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,y){const v=p.batch,w=v.keys();let S=fe.resolve();return w.forEach(C=>{S=S.next(()=>y.getEntry(h,C)).next(T=>{const R=p.docVersions.get(C);_t(R!==null,48541),T.version.compareTo(R)<0&&(v.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),y.addEntry(T)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(h,v))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=at();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function zR(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function KV(t,e){const n=qe(t),r=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const d=[];e.targetChanges.forEach((y,v)=>{const w=o.get(v);if(!w)return;d.push(n.Ti.removeMatchingKeys(a,y.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(a,y.addedDocuments,v)));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Cn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),o=o.insert(v,S),function(T,R,D){return T.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=HV?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,S,y)&&d.push(n.Ti.updateTargetData(a,S))});let h=ws(),p=at();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))}),d.push(YV(a,c,e.documentUpdates).next(y=>{h=y.qs,p=y.Qs})),!r.isEqual(He.min())){const y=n.Ti.getLastRemoteSnapshotVersion(a).next(v=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(y)}return fe.waitFor(d).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.xs=o,a))}function YV(t,e,n){let r=at(),o=at();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let c=ws();return n.forEach((d,h)=>{const p=a.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),h.isNoDocument()&&h.version.isEqual(He.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):we(__,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{qs:c,Qs:o}})}function QV(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=o_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XV(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ti.getTargetData(r,e).next(a=>a?(o=a,fe.resolve(o)):n.Ti.allocateTargetId(r).next(c=>(o=new yo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.xs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function fv(t,e,n){const r=qe(t),o=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!lc(c))throw c;we(__,`Failed to update sequence numbers for target ${e}: ${c}`)}r.xs=r.xs.remove(e),r.Os.delete(o.target)}function lx(t,e,n){const r=qe(t);let o=He.min(),a=at();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,y){const v=qe(h),w=v.Os.get(y);return w!==void 0?fe.resolve(v.xs.get(w)):v.Ti.getTargetData(p,y)}(r,c,wi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,d.targetId).next(h=>{a=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,e,n?o:He.min(),n?a:at())).next(d=>(WV(r,V4(e),d),{documents:d,$s:a})))}function WV(t,e,n){let r=t.Ns.get(e)||He.min();n.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class cx{constructor(){this.activeTargetIds=H4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZV{constructor(){this.xo=new cx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new cx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="ConnectivityMonitor";class dx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(ux,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function hv(){return Jf===null?Jf=function(){return 268435456+Math.round(2147483648*Math.random())}():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="RestConnection",ej={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${o}`,this.Go=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}zo(e,n,r,o,a){const c=hv(),d=this.jo(e,n.toUriEncodedString());we(_y,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,o,a);const{host:p}=new URL(d),y=Mo(p);return this.Jo(e,d,h,r,y).then(v=>(we(_y,`Received RPC '${e}' ${c}: `,v),v),v=>{throw Gl(_y,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",r),v})}Yo(e,n,r,o,a,c){return this.zo(e,n,r,o,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}jo(e,n){const r=ej[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class rj extends tj{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,a){const c=hv();return new Promise((d,h)=>{const p=new HA;p.setWithCredentials(!0),p.listenOnce(qA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const v=p.getResponseJson();we(On,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case _h.TIMEOUT:we(On,`RPC '${e}' ${c} timed out`),h(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const w=p.getStatus();if(we(On,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const T=function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(M)>=0?M:ue.UNKNOWN}(C.status);h(new be(T,C.message))}else h(new be(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new be(ue.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{we(On,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);we(On,`RPC '${e}' ${c} sending request:`,o),p.send(n,"POST",y,r,15)})}I_(e,n,r){const o=hv(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=KA(),d=GA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const y=a.join("");we(On,`Creating RPC '${e}' stream ${o}: ${y}`,h);const v=c.createWebChannel(y,h);this.E_(v);let w=!1,S=!1;const C=new nj({Zo:R=>{S?we(On,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(w||(we(On,`Opening RPC '${e}' stream ${o} transport.`),v.open(),w=!0),we(On,`RPC '${e}' stream ${o} sending:`,R),v.send(R))},Xo:()=>v.close()}),T=(R,D,M)=>{R.listen(D,L=>{try{M(L)}catch(H){setTimeout(()=>{throw H},0)}})};return T(v,Ru.EventType.OPEN,()=>{S||(we(On,`RPC '${e}' stream ${o} transport opened.`),C.__())}),T(v,Ru.EventType.CLOSE,()=>{S||(S=!0,we(On,`RPC '${e}' stream ${o} transport closed`),C.u_(),this.d_(v))}),T(v,Ru.EventType.ERROR,R=>{S||(S=!0,Gl(On,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),C.u_(new be(ue.UNAVAILABLE,"The operation could not be completed")))}),T(v,Ru.EventType.MESSAGE,R=>{var D;if(!S){const M=R.data[0];_t(!!M,16349);const L=M,H=(L==null?void 0:L.error)||((D=L[0])===null||D===void 0?void 0:D.error);if(H){we(On,`RPC '${e}' stream ${o} received error:`,H);const $=H.status;let Y=function(P){const j=tn[P];if(j!==void 0)return CR(j)}($),O=H.message;Y===void 0&&(Y=ue.INTERNAL,O="Unknown error status: "+$+" with message "+H.message),S=!0,C.u_(new be(Y,O)),v.close()}else we(On,`RPC '${e}' stream ${o} received:`,M),C.c_(M)}}),T(d,$A.STAT_EVENT,R=>{R.stat===Jy.PROXY?we(On,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Jy.NOPROXY&&we(On,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function by(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){return new aV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r=1e3,o=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=o,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-r);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="PersistentStream";class HR{constructor(e,n,r,o,a,c,d,h){this.xi=e,this.S_=r,this.D_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new FR(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.v_===n&&this.z_(r,o)},r=>{e(()=>{const o=new be(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(o)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{r(()=>this.j_(o))}),this.stream.onMessage(o=>{r(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return we(fx,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(we(fx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ij extends HR{constructor(e,n,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=uV(this.serializer,e),r=function(a){if(!("targetChange"in a))return He.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?Ei(c.readTime):He.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=dv(this.serializer),n.addTarget=function(a,c){let d;const h=c.target;if(d=sv(h)?{documents:hV(a,h)}:{query:mV(a,h).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=DR(a,c.resumeToken);const p=lv(a,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(He.min())>0){d.readTime=qh(a,c.snapshotVersion.toTimestamp());const p=lv(a,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=gV(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=dv(this.serializer),n.removeTarget=e,this.Q_(n)}}class sj extends HR{constructor(e,n,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=fV(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=dv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dV(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{}class aj extends oj{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.zo(e,cv(n,r),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(ue.UNKNOWN,a.toString())})}Yo(e,n,r,o,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,cv(n,r),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(ue.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class lj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(bs(n),this.ua=!1):we("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class cj{constructor(e,n,r,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(c=>{r.enqueueAndForget(async()=>{Pa(this)&&(we(Sa,"Restarting streams for network reachability change."),await async function(h){const p=qe(h);p.da.add(4),await pd(p),p.Va.set("Unknown"),p.da.delete(4),await Nm(p)}(this))})}),this.Va=new lj(r,o)}}async function Nm(t){if(Pa(t))for(const e of t.Aa)await e(!0)}async function pd(t){for(const e of t.Aa)await e(!1)}function qR(t,e){const n=qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),T_(n)?E_(n):uc(n).N_()&&w_(n,e))}function b_(t,e){const n=qe(t),r=uc(n);n.Ea.delete(e),r.N_()&&$R(n,e),n.Ea.size===0&&(r.N_()?r.k_():Pa(n)&&n.Va.set("Unknown"))}function w_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).Z_(e)}function $R(t,e){t.ma.Ke(e),uc(t).X_(e)}function E_(t){t.ma=new rV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.Va.ca()}function T_(t){return Pa(t)&&!uc(t).O_()&&t.Ea.size>0}function Pa(t){return qe(t).da.size===0}function GR(t){t.ma=void 0}async function uj(t){t.Va.set("Online")}async function dj(t){t.Ea.forEach((e,n)=>{w_(t,e)})}async function fj(t,e){GR(t),T_(t)?(t.Va.Pa(e),E_(t)):t.Va.set("Unknown")}async function hj(t,e,n){if(t.Va.set("Online"),e instanceof NR&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.Ea.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ea.delete(d),o.ma.removeTarget(d))}(t,e)}catch(r){we(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(t,r)}else if(e instanceof Th?t.ma.Xe(e):e instanceof IR?t.ma.ot(e):t.ma.nt(e),!n.isEqual(He.min()))try{const r=await zR(t.localStore);n.compareTo(r)>=0&&await function(a,c){const d=a.ma.It(c);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a.Ea.get(p);y&&a.Ea.set(p,y.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,p)=>{const y=a.Ea.get(h);if(!y)return;a.Ea.set(h,y.withResumeToken(Cn.EMPTY_BYTE_STRING,y.snapshotVersion)),$R(a,h);const v=new yo(y.target,h,p,y.sequenceNumber);w_(a,v)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){we(Sa,"Failed to raise snapshot:",r),await Gh(t,r)}}async function Gh(t,e,n){if(!lc(e))throw e;t.da.add(1),await pd(t),t.Va.set("Offline"),n||(n=()=>zR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(Sa,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Nm(t)})}function KR(t,e){return e().catch(n=>Gh(t,n,e))}async function Dm(t){const e=qe(t),n=Io(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:o_;for(;mj(e);)try{const o=await QV(e.localStore,r);if(o===null){e.Ia.length===0&&n.k_();break}r=o.batchId,pj(e,o)}catch(o){await Gh(e,o)}YR(e)&&QR(e)}function mj(t){return Pa(t)&&t.Ia.length<10}function pj(t,e){t.Ia.push(e);const n=Io(t);n.N_()&&n.ea&&n.ta(e.mutations)}function YR(t){return Pa(t)&&!Io(t).O_()&&t.Ia.length>0}function QR(t){Io(t).start()}async function gj(t){Io(t).ia()}async function yj(t){const e=Io(t);for(const n of t.Ia)e.ta(n.mutations)}async function vj(t,e,n){const r=t.Ia.shift(),o=h_.from(r,e,n);await KR(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Dm(t)}async function _j(t,e){e&&Io(t).ea&&await async function(r,o){if(function(c){return tV(c)&&c!==ue.ABORTED}(o.code)){const a=r.Ia.shift();Io(r).L_(),await KR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Dm(r)}}(t,e),YR(t)&&QR(t)}async function hx(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),we(Sa,"RemoteStore received new credentials");const r=Pa(n);n.da.add(3),await pd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Nm(n)}async function bj(t,e){const n=qe(t);e?(n.da.delete(2),await Nm(n)):e||(n.da.add(2),await pd(n),n.Va.set("Unknown"))}function uc(t){return t.fa||(t.fa=function(n,r,o){const a=qe(n);return a.oa(),new ij(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{e_:uj.bind(null,t),n_:dj.bind(null,t),i_:fj.bind(null,t),Y_:hj.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),T_(t)?E_(t):t.Va.set("Unknown")):(await t.fa.stop(),GR(t))})),t.fa}function Io(t){return t.ga||(t.ga=function(n,r,o){const a=qe(n);return a.oa(),new sj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:gj.bind(null,t),i_:_j.bind(null,t),na:yj.bind(null,t),ra:vj.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Dm(t)):(await t.ga.stop(),t.Ia.length>0&&(we(Sa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,r,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,a){const c=Date.now()+r,d=new x_(e,n,c,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(t,e){if(bs("AsyncQueue",`${e}: ${t}`),lc(t))return new be(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{static emptySet(e){return new Bl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.pa=new zt(Me.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zl{constructor(e,n,r,o,a,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,a){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Zl(e,n,Bl.emptySet(n),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Ej{constructor(){this.queries=px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=qe(n),a=o.queries;o.queries=px(),a.forEach((c,d)=>{for(const h of d.Sa)h.onError(r)})})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function px(){return new ka(t=>pR(t),xm)}async function A_(t,e){const n=qe(t);let r=3;const o=e.query;let a=n.queries.get(o);a?!a.Da()&&e.va()&&(r=2):(a=new wj,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(o,!0);break;case 1:a.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=S_(c,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&C_(n)}async function R_(t,e){const n=qe(t),r=e.query;let o=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.va()?0:1:!a.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tj(t,e){const n=qe(t);let r=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const d of c.Sa)d.Ma(o)&&(r=!0);c.ba=o}}r&&C_(n)}function xj(t,e,n){const r=qe(t),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);r.queries.delete(e)}function C_(t){t.Ca.forEach(e=>{e.next()})}var mv,gx;(gx=mv||(mv={})).xa="default",gx.Cache="cache";class I_{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.key=e}}class WR{constructor(e){this.key=e}}class Sj{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.Za=gR(e),this.Xa=new Bl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new mx,o=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,v)=>{const w=o.get(y),S=Sm(this.query,v)?v:null,C=!!w&&this.mutatedKeys.has(w.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;w&&S?w.data.isEqual(S.data)?C!==T&&(r.track({type:3,doc:S}),R=!0):this.ru(w,S)||(r.track({type:2,doc:S}),R=!0,(h&&this.Za(S,h)>0||p&&this.Za(S,p)<0)&&(d=!0)):!w&&S?(r.track({type:0,doc:S}),R=!0):w&&!S&&(r.track({type:1,doc:w}),R=!0,(h||p)&&(d=!0)),R&&(S?(c=c.add(S),a=T?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Xa:c,nu:r,Cs:d,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,v)=>function(S,C){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:R})}};return T(S)-T(C)}(y.type,v.type)||this.Za(y.doc,v.doc)),this.iu(r),o=o!=null&&o;const d=n&&!o?this.su():[],h=this.Ya.size===0&&this.current&&!o?1:0,p=h!==this.Ja;return this.Ja=h,c.length!==0||p?{snapshot:new Zl(this.query,e.Xa,a,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new WR(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new XR(r))}),n}au(e){this.Ha=e.$s,this.Ya=at();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Zl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const N_="SyncEngine";class Aj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Rj{constructor(e){this.key=e,this.cu=!1}}class Cj{constructor(e,n,r,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new ka(d=>pR(d),xm),this.Pu=new Map,this.Tu=new Set,this.Iu=new zt(Me.comparator),this.Eu=new Map,this.du=new g_,this.Au={},this.Ru=new Map,this.Vu=Wl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Ij(t,e,n=!0){const r=r1(t);let o;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.uu()):o=await ZR(r,e,n,!0),o}async function Nj(t,e){const n=r1(t);await ZR(n,e,!0,!1)}async function ZR(t,e,n,r){const o=await XV(t.localStore,wi(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await Dj(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&qR(t.remoteStore,o),d}async function Dj(t,e,n,r,o){t.fu=(v,w,S)=>async function(T,R,D,M){let L=R.view.tu(D);L.Cs&&(L=await lx(T.localStore,R.query,!1).then(({documents:O})=>R.view.tu(O,L)));const H=M&&M.targetChanges.get(R.targetId),$=M&&M.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(L,T.isPrimaryClient,H,$);return vx(T,R.targetId,Y.ou),Y.snapshot}(t,v,w,S);const a=await lx(t.localStore,e,!0),c=new Sj(e,a.$s),d=c.tu(a.documents),h=md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),p=c.applyChanges(d,t.isPrimaryClient,h);vx(t,n,p.ou);const y=new Aj(e,n,c);return t.hu.set(e,y),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function Oj(t,e,n){const r=qe(t),o=r.hu.get(e),a=r.Pu.get(o.targetId);if(a.length>1)return r.Pu.set(o.targetId,a.filter(c=>!xm(c,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await fv(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&b_(r.remoteStore,o.targetId),pv(r,o.targetId)}).catch(ac)):(pv(r,o.targetId),await fv(r.localStore,o.targetId,!0))}async function Mj(t,e){const n=qe(t),r=n.hu.get(e),o=n.Pu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),b_(n.remoteStore,r.targetId))}async function kj(t,e,n){const r=zj(t);try{const o=await function(c,d){const h=qe(c),p=dn.now(),y=d.reduce((S,C)=>S.add(C.key),at());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=ws(),T=at();return h.Bs.getEntries(S,y).next(R=>{C=R,C.forEach((D,M)=>{M.isValidDocument()||(T=T.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,C)).next(R=>{v=R;const D=[];for(const M of d){const L=X4(M,v.get(M.key).overlayedDocument);L!=null&&D.push(new Po(M.key,L,aR(L.value.mapValue),er.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,D,d)}).next(R=>{w=R;const D=R.applyToLocalDocumentSet(v,T);return h.documentOverlayCache.saveOverlays(S,R.batchId,D)})}).then(()=>({batchId:w.batchId,changes:vR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,h){let p=c.Au[c.currentUser.toKey()];p||(p=new zt(Qe)),p=p.insert(d,h),c.Au[c.currentUser.toKey()]=p}(r,o.batchId,n),await gd(r,o.changes),await Dm(r.remoteStore)}catch(o){const a=S_(o,"Failed to persist write");n.reject(a)}}async function JR(t,e){const n=qe(t);try{const r=await KV(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.Eu.get(a);c&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.cu=!0:o.modifiedDocuments.size>0?_t(c.cu,14607):o.removedDocuments.size>0&&(_t(c.cu,42227),c.cu=!1))}),await gd(n,r,e)}catch(r){await ac(r)}}function yx(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.hu.forEach((a,c)=>{const d=c.view.Fa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const h=qe(c);h.onlineState=d;let p=!1;h.queries.forEach((y,v)=>{for(const w of v.Sa)w.Fa(d)&&(p=!0)}),p&&C_(h)}(r.eventManager,e),o.length&&r.lu.Y_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pj(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Eu.get(e),a=o&&o.key;if(a){let c=new zt(Me.comparator);c=c.insert(a,kn.newNoDocument(a,He.min()));const d=at().add(a),h=new Cm(He.min(),new Map,new zt(Qe),c,d);await JR(r,h),r.Iu=r.Iu.remove(a),r.Eu.delete(e),D_(r)}else await fv(r.localStore,e,!1).then(()=>pv(r,e,n)).catch(ac)}async function Lj(t,e){const n=qe(t),r=e.batch.batchId;try{const o=await GV(n.localStore,e);t1(n,r,null),e1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gd(n,o)}catch(o){await ac(o)}}async function Vj(t,e,n){const r=qe(t);try{const o=await function(c,d){const h=qe(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,d).next(v=>(_t(v!==null,37113),y=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);t1(r,e,n),e1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gd(r,o)}catch(o){await ac(o)}}function e1(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function t1(t,e,n){const r=qe(t);let o=r.Au[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),r.Au[r.currentUser.toKey()]=o}}function pv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||n1(t,r)})}function n1(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(b_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),D_(t))}function vx(t,e,n){for(const r of n)r instanceof XR?(t.du.addReference(r.key,e),jj(t,r)):r instanceof WR?(we(N_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||n1(t,r.key)):Ue(19791,{pu:r})}function jj(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(we(N_,"New document in limbo: "+n),t.Tu.add(r),D_(t))}function D_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Me(Dt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Rj(n)),t.Iu=t.Iu.insert(n,r),qR(t.remoteStore,new yo(wi(Tm(n.path)),r,"TargetPurposeLimboResolution",bm.le))}}async function gd(t,e,n){const r=qe(t),o=[],a=[],c=[];r.hu.isEmpty()||(r.hu.forEach((d,h)=>{c.push(r.fu(h,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){o.push(p);const v=v_.Rs(h.targetId,p);a.push(v)}}))}),await Promise.all(c),r.lu.Y_(o),await async function(h,p){const y=qe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(p,w=>fe.forEach(w.ds,S=>y.persistence.referenceDelegate.addReference(v,w.targetId,S)).next(()=>fe.forEach(w.As,S=>y.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))}catch(v){if(!lc(v))throw v;we(__,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const S=y.xs.get(w),C=S.snapshotVersion,T=S.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(w,T)}}}(r.localStore,a))}async function Uj(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){we(N_,"User change. New user:",e.toKey());const r=await BR(n.localStore,e);n.currentUser=e,function(a,c){a.Ru.forEach(d=>{d.forEach(h=>{h.reject(new be(ue.CANCELLED,c))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gd(n,r.ks)}}function Bj(t,e){const n=qe(t),r=n.Eu.get(e);if(r&&r.cu)return at().add(r.key);{let o=at();const a=n.Pu.get(e);if(!a)return o;for(const c of a){const d=n.hu.get(c);o=o.unionWith(d.view.eu)}return o}}function r1(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pj.bind(null,e),e.lu.Y_=Tj.bind(null,e.eventManager),e.lu.gu=xj.bind(null,e.eventManager),e}function zj(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vj.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Im(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return $V(this.persistence,new FV,e.initialUser,this.serializer)}Su(e){return new UR(y_.fi,this.serializer)}bu(e){return new ZV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class Fj extends Kh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){_t(this.persistence.referenceDelegate instanceof $h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RV(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new UR(r=>$h.fi(r,n),this.serializer)}}class gv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uj.bind(null,this.syncEngine),await bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ej}()}createDatastore(e){const n=Im(e.databaseInfo.databaseId),r=function(a){return new rj(a)}(e.databaseInfo);return function(a,c,d,h){return new aj(a,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,a,c,d){return new cj(r,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>yx(this.syncEngine,n,0),function(){return dx.C()?new dx:new JV}())}createSyncEngine(e,n){return function(o,a,c,d,h,p,y){const v=new Cj(o,a,c,d,h,p);return y&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=qe(o);we(Sa,"RemoteStore shutting down."),a.da.add(5),await pd(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gv.provider={build:()=>new gv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="FirestoreClient";class Hj{constructor(e,n,r,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Mn.UNAUTHENTICATED,this.clientId=WA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async c=>{we(No,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(we(No,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wy(t,e){t.asyncQueue.verifyOperationInProgress(),we(No,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await BR(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _x(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qj(t);we(No,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>hx(e.remoteStore,o)),t._onlineComponents=e}async function qj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(No,"Using user provided OfflineComponentProvider");try{await wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await wy(t,new Kh)}}else we(No,"Using default OfflineComponentProvider"),await wy(t,new Fj(void 0));return t._offlineComponents}async function i1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(No,"Using user provided OnlineComponentProvider"),await _x(t,t._uninitializedComponentsProvider._online)):(we(No,"Using default OnlineComponentProvider"),await _x(t,new gv))),t._onlineComponents}function $j(t){return i1(t).then(e=>e.syncEngine)}async function Yh(t){const e=await i1(t),n=e.eventManager;return n.onListen=Ij.bind(null,e.syncEngine),n.onUnlisten=Oj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mj.bind(null,e.syncEngine),n}function Gj(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,d,h,p){const y=new O_({next:w=>{y.xu(),c.enqueueAndForget(()=>R_(a,v));const S=w.docs.has(d);!S&&w.fromCache?p.reject(new be(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&h&&h.source==="server"?p.reject(new be(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new I_(Tm(d.path),y,{includeMetadataChanges:!0,Qa:!0});return A_(a,v)}(await Yh(t),t.asyncQueue,e,n,r)),r.promise}function Kj(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,d,h,p){const y=new O_({next:w=>{y.xu(),c.enqueueAndForget(()=>R_(a,v)),w.fromCache&&h.source==="server"?p.reject(new be(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new I_(d,y,{includeMetadataChanges:!0,Qa:!0});return A_(a,v)}(await Yh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e,n){if(!n)throw new be(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Yj(t,e,n,r){if(e===!0&&r===!0)throw new be(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wx(t){if(!Me.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ex(t){if(Me.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Om(t);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firestore.googleapis.com",Tx=!0;class xx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a1,this.ssl=Tx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Tx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n4;switch(r.type){case"firstParty":return new o4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bx.get(n);r&&(we("ComponentProvider","Removing Datastore"),bx.delete(n),r.terminate())}(this),Promise.resolve()}}function Qj(t,e,n,r={}){var o;t=tr(t,Mm);const a=Mo(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(qv(`https://${h}`),$v("Firestore",!0)),c.host!==a1&&c.host!==h&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:h,ssl:a,emulatorOptions:r});if(!To(p,d)&&(t._setSettings(p),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=Mn.MOCK_USER;else{y=sA(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Mn(w)}t._authCredentials=new r4(new QA(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class wo extends Lo{constructor(e,n,r){super(e,n,Tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Me(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function dr(t,e,...n){if(t=Ot(t),o1("collection","path",e),t instanceof Mm){const r=Dt.fromString(e,...n);return Ex(r),new wo(t,null,r)}{if(!(t instanceof Pn||t instanceof wo))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return Ex(r),new wo(t.firestore,null,r)}}function jt(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=WA.newId()),o1("doc","path",e),t instanceof Mm){const r=Dt.fromString(e,...n);return wx(r),new Pn(t,null,new Me(r))}{if(!(t instanceof Pn||t instanceof wo))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return wx(r),new Pn(t.firestore,t instanceof wo?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="AsyncQueue";class Ax{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new FR(this,"async_queue_retry"),this.rc=()=>{const r=by();r&&we(Sx,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=by();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=by();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ms;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!lc(e))throw e;we(Sx,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,bs("INTERNAL UNHANDLED ERROR: ",Rx(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=x_.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(o),o}oc(){this.Xu&&Ue(47125,{cc:Rx(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Rx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Es extends Mm{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Ax,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ax(e),this._firestoreClient=void 0,await e}}}function Xj(t,e){const n=typeof t=="object"?t:Yv(),r=typeof t=="string"?t:Bh,o=pm(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=nA("firestore");a&&Qj(o,...a)}return o}function yd(t){if(t._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wj(t),t._firestoreClient}function Wj(t){var e,n,r;const o=t._freezeSettings(),a=function(d,h,p,y){return new w4(d,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,s1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new Hj(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Cn.fromBase64String(e))}catch(n){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jl(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function l1(){return new dc(tv)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^__.*__$/;class Jj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,n,this.fieldTransforms):new hd(e,this.data,n,this.fieldTransforms)}}class c1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ic:t})}}class km{constructor(e,n,r,o,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Vc(e),o}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:r,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Qh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(u1(this.Ic)&&Zj.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class eU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Im(e)}bc(e,n,r,o=!1){return new km({Ic:e,methodName:n,wc:r,path:Rn.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(t){const e=t._freezeSettings(),n=Im(t._databaseId);return new eU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P_(t,e,n,r,o,a={}){const c=t.bc(a.merge||a.mergeFields?2:0,e,n,o);j_("Data must be an object, but it was:",c,r);const d=h1(r,c);let h,p;if(a.merge)h=new hr(c.fieldMask),p=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const v of a.mergeFields){const w=yv(e,v,n);if(!c.contains(w))throw new be(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);p1(y,w)||y.push(w)}h=new hr(y),p=c.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=c.fieldTransforms;return new Jj(new Jn(d),h,p)}class bd extends vd{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function tU(t,e,n){return new km({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class L_ extends vd{_toFieldTransform(e){return new SR(e.path,new Xu)}isEqual(e){return e instanceof L_}}class V_ extends vd{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=tU(this,e,!0),r=this.Sc.map(a=>fc(a,n)),o=new Xl(r);return new SR(e.path,o)}isEqual(e){return e instanceof V_&&To(this.Sc,e.Sc)}}function d1(t,e,n,r){const o=t.bc(1,e,n);j_("Data must be an object, but it was:",o,r);const a=[],c=Jn.empty();ko(r,(h,p)=>{const y=U_(e,h,n);p=Ot(p);const v=o.mc(y);if(p instanceof bd)a.push(y);else{const w=fc(p,v);w!=null&&(a.push(y),c.set(y,w))}});const d=new hr(a);return new c1(c,d,o.fieldTransforms)}function f1(t,e,n,r,o,a){const c=t.bc(1,e,n),d=[yv(e,r,n)],h=[o];if(a.length%2!=0)throw new be(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)d.push(yv(e,a[w])),h.push(a[w+1]);const p=[],y=Jn.empty();for(let w=d.length-1;w>=0;--w)if(!p1(p,d[w])){const S=d[w];let C=h[w];C=Ot(C);const T=c.mc(S);if(C instanceof bd)p.push(S);else{const R=fc(C,T);R!=null&&(p.push(S),y.set(S,R))}}const v=new hr(p);return new c1(y,v,c.fieldTransforms)}function nU(t,e,n,r=!1){return fc(n,t.bc(r?4:3,e))}function fc(t,e){if(m1(t=Ot(t)))return j_("Unsupported field value:",e,t),h1(t,e);if(t instanceof vd)return function(r,o){if(!u1(o.Ic))throw o.gc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,o){const a=[];let c=0;for(const d of r){let h=fc(d,o.fc(c));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),c++}return{arrayValue:{values:a}}}(t,e)}return function(r,o){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dn.fromDate(r);return{timestampValue:qh(o.serializer,a)}}if(r instanceof dn){const a=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qh(o.serializer,a)}}if(r instanceof M_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:DR(o.serializer,r._byteString)};if(r instanceof Pn){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:p_(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof k_)return function(c,d){return{mapValue:{fields:{[sR]:{stringValue:oR},[zh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return d_(d.serializer,p)})}}}}}}(r,o);throw o.gc(`Unsupported field value: ${Om(r)}`)}(t,e)}function h1(t,e){const n={};return JA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(r,o)=>{const a=fc(o,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function m1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof M_||t instanceof Jl||t instanceof Pn||t instanceof vd||t instanceof k_)}function j_(t,e,n){if(!m1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=Om(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function yv(t,e,n){if((e=Ot(e))instanceof dc)return e._internalPath;if(typeof e=="string")return U_(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const rU=new RegExp("[~\\*/\\[\\]]");function U_(t,e,n){if(e.search(rU)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dc(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qh(t,e,n,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||c)&&(h+=" (found",a&&(h+=` in field ${r}`),c&&(h+=` in document ${o}`),h+=")"),new be(ue.INVALID_ARGUMENT,d+t+h)}function p1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,o,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iU extends g1{data(){return super.data()}}function Pm(t,e){return typeof e=="string"?U_(t,e):e instanceof dc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B_{}class v1 extends B_{}function Uu(t,e,...n){let r=[];e instanceof B_&&r.push(e),r=r.concat(n),function(a){const c=a.filter(h=>h instanceof z_).length,d=a.filter(h=>h instanceof Lm).length;if(c>1||c>0&&d>0)throw new be(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class Lm extends v1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lm(e,n,r)}_apply(e){const n=this._parse(e);return _1(e._query,n),new Lo(e.firestore,e.converter,ov(e._query,n))}_parse(e){const n=_d(e.firestore);return function(a,c,d,h,p,y,v){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new be(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Nx(v,y);const C=[];for(const T of v)C.push(Ix(h,a,T));w={arrayValue:{values:C}}}else w=Ix(h,a,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Nx(v,y),w=nU(d,c,v,y==="in"||y==="not-in");return nn.create(p,y,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xh(t,e,n){const r=e,o=Pm("where",t);return Lm._create(o,r,n)}class z_ extends B_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new z_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const h of d)_1(c,h),c=ov(c,h)}(e._query,n),new Lo(e.firestore,e.converter,ov(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F_ extends v1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new F_(e,n)}_apply(e){const n=function(o,a,c){if(o.startAt!==null)throw new be(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new be(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(a,c)}(e._query,this._field,this._direction);return new Lo(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new cc(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function sU(t,e="asc"){const n=e,r=Pm("orderBy",t);return F_._create(r,n)}function Ix(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new be(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mR(e)&&n.indexOf("/")!==-1)throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Me.isDocumentKey(r))throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HT(t,new Me(r))}if(n instanceof Pn)return HT(t,n._key);throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(n)}.`)}function Nx(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _1(t,e){const n=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oU{convertValue(e,n="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,(o,a)=>{r[o]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,o;const a=(o=(r=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(c=>Qt(c.doubleValue));return new k_(a)}convertGeoPoint(e){return new M_(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);_t(VR(r),9688,{name:e});const o=new Ku(r.get(1),r.get(3)),a=new Me(r.popFirst(5));return o.isEqual(n)||bs(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b1 extends g1{constructor(e,n,r,o,a,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xh extends b1{data(e={}){return super.data(e)}}class w1{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xh(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const h=new xh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const h=new xh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:aU(d.type),doc:h,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){t=tr(t,Pn);const e=tr(t.firestore,Es);return Gj(yd(e),t._key).then(n=>E1(e,t,n))}class q_ extends oU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function Wh(t){t=tr(t,Lo);const e=tr(t.firestore,Es),n=yd(e),r=new q_(e);return y1(t._query),Kj(n,t._query).then(o=>new w1(e,r,t,o))}function lU(t,e,n){t=tr(t,Pn);const r=tr(t.firestore,Es),o=H_(t.converter,e,n);return Vm(r,[P_(_d(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,er.none())])}function hc(t,e,n,...r){t=tr(t,Pn);const o=tr(t.firestore,Es),a=_d(o);let c;return c=typeof(e=Ot(e))=="string"||e instanceof dc?f1(a,"updateDoc",t._key,e,n,r):d1(a,"updateDoc",t._key,e),Vm(o,[c.toMutation(t._key,er.exists(!0))])}function zl(t,e){const n=tr(t.firestore,Es),r=jt(t),o=H_(t.converter,e);return Vm(n,[P_(_d(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function eh(t,...e){var n,r,o;t=Ot(t);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Cx(e[c])||(a=e[c],c++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Cx(e[c])){const v=e[c];e[c]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[c+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[c+2]=(o=v.complete)===null||o===void 0?void 0:o.bind(v)}let h,p,y;if(t instanceof Pn)p=tr(t.firestore,Es),y=Tm(t._key.path),h={next:v=>{e[c]&&e[c](E1(p,t,v))},error:e[c+1],complete:e[c+2]};else{const v=tr(t,Lo);p=tr(v.firestore,Es),y=v._query;const w=new q_(p);h={next:S=>{e[c]&&e[c](new w1(p,w,v,S))},error:e[c+1],complete:e[c+2]},y1(t._query)}return function(w,S,C,T){const R=new O_(T),D=new I_(S,R,C);return w.asyncQueue.enqueueAndForget(async()=>A_(await Yh(w),D)),()=>{R.xu(),w.asyncQueue.enqueueAndForget(async()=>R_(await Yh(w),D))}}(yd(p),y,d,h)}function Vm(t,e){return function(r,o){const a=new ms;return r.asyncQueue.enqueueAndForget(async()=>kj(await $j(r),o,a)),a.promise}(yd(t),e)}function E1(t,e,n){const r=n.docs.get(e._key),o=new q_(t);return new b1(t,o,e._key,r,new Nu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_d(e)}set(e,n,r){this._verifyNotCommitted();const o=Ey(e,this._firestore),a=H_(o.converter,n,r),c=P_(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,er.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const a=Ey(e,this._firestore);let c;return c=typeof(n=Ot(n))=="string"||n instanceof dc?f1(this._dataReader,"WriteBatch.update",a._key,n,r,o):d1(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(c.toMutation(a._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ey(e,this._firestore);return this._mutations=this._mutations.concat(new f_(n._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ey(t,e){if((t=Ot(t)).firestore!==e)throw new be(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(){return new bd("deleteField")}function pi(){return new L_("serverTimestamp")}function T1(...t){return new V_("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){return yd(t=tr(t,Es)),new cU(t,e=>Vm(t,e))}(function(e,n=!0){(function(o){oc=o})(Ma),Ea(new xo("firestore",(r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),d=new Es(new i4(r.getProvider("auth-internal")),new a4(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(p.options.projectId,y)}(c,o),c);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),_i(OT,MT,e),_i(OT,MT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebasestorage.googleapis.com",A1="storageBucket",dU=2*60*1e3,fU=10*60*1e3,hU=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends Ii{constructor(e,n,r=0){super(Ty(e),`Firebase Storage: ${n} (${Ty(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ty(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function Ty(t){return"storage/"+t}function $_(){const t="An unknown error occurred, please check the error payload for server response.";return new Ft(Mt.UNKNOWN,t)}function mU(t){return new Ft(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pU(t){return new Ft(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Mt.UNAUTHENTICATED,t)}function yU(){return new Ft(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vU(t){return new Ft(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function R1(){return new Ft(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C1(){return new Ft(Mt.CANCELED,"User canceled the upload/download.")}function _U(t){return new Ft(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function bU(t){return new Ft(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wU(){return new Ft(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A1+"' property when initializing the app?")}function I1(){return new Ft(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EU(){return new Ft(Mt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function TU(){return new Ft(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xU(t){return new Ft(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vv(t){return new Ft(Mt.INVALID_ARGUMENT,t)}function N1(){return new Ft(Mt.APP_DELETED,"The Firebase app was deleted.")}function SU(t){return new Ft(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bu(t,e){return new Ft(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tu(t){throw new Ft(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=pr.makeFromUrl(e,n)}catch{return new pr(e,"")}if(r.path==="")return r;throw bU(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),h={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${v}/${y}/b/${o}/o${w}`,"i"),C={bucket:1,path:3},T=n===S1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",D=new RegExp(`^https?://${T}/${o}/${R}`,"i"),L=[{regex:d,indices:h,postModify:a},{regex:S,indices:C,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<L.length;H++){const $=L[H],Y=$.regex.exec(e);if(Y){const O=Y[$.indices.bucket];let I=Y[$.indices.path];I||(I=""),r=new pr(O,I),$.postModify(r);break}}if(r==null)throw _U(e);return r}}class AU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e,n){let r=1,o=null,a=null,c=!1,d=0;function h(){return d===2}let p=!1;function y(...R){p||(p=!0,e.apply(null,R))}function v(R){o=setTimeout(()=>{o=null,t(S,h())},R)}function w(){a&&clearTimeout(a)}function S(R,...D){if(p){w();return}if(R){w(),y.call(null,R,...D);return}if(h()||c){w(),y.call(null,R,...D);return}r<64&&(r*=2);let L;d===1?(d=2,L=0):L=(r+Math.random())*1e3,v(L)}let C=!1;function T(R){C||(C=!0,w(),!p&&(o!==null?(R||(d=2),clearTimeout(o),v(0)):R||(d=1)))}return v(0),a=setTimeout(()=>{c=!0,T(!0)},n),T}function CU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){return t!==void 0}function NU(t){return typeof t=="function"}function DU(t){return typeof t=="object"&&!Array.isArray(t)}function jm(t){return typeof t=="string"||t instanceof String}function Dx(t){return G_()&&t instanceof Blob}function G_(){return typeof Blob<"u"}function Ox(t,e,n,r){if(r<e)throw vv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function D1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var wa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wa||(wa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r,o,a,c,d,h,p,y,v,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,T)=>{this.resolve_=C,this.reject_=T,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new th(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const h=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===wa.NO_ERROR,h=a.getStatus();if(!d||O1(h,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===wa.ABORT;r(!1,new th(!1,null,y));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new th(p,a))})},n=(r,o)=>{const a=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());IU(h)?a(h):a()}catch(h){c(h)}else if(d!==null){const h=$_();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(o.canceled){const h=this.appDelete_?N1():C1();c(h)}else{const h=R1();c(h)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=RU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function MU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function LU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VU(t,e,n,r,o,a,c=!0,d=!1){const h=D1(t.urlParams),p=t.url+h,y=Object.assign({},t.headers);return PU(y,e),MU(y,n),kU(y,a),LU(y,r),new OU(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UU(...t){const e=jU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(G_())return new Blob(t);throw new Ft(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function BU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){if(typeof atob>"u")throw xU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xy{constructor(e,n){this.data=e,this.contentType=n||null}}function FU(t,e){switch(t){case gi.RAW:return new xy(M1(e));case gi.BASE64:case gi.BASE64URL:return new xy(k1(t,e));case gi.DATA_URL:return new xy(qU(e),$U(e))}throw $_()}function M1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,c=t.charCodeAt(++n);r=65536|(a&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HU(t){let e;try{e=decodeURIComponent(t)}catch{throw Bu(gi.DATA_URL,"Malformed data URL.")}return M1(e)}function k1(t,e){switch(t){case gi.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Bu(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case gi.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Bu(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zU(e)}catch(o){throw o.message.includes("polyfill")?o:Bu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class P1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Bu(gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=GU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qU(t){const e=new P1(t);return e.base64?k1(gi.BASE64,e.rest):HU(e.rest)}function $U(t){return new P1(t).contentType}function GU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){let r=0,o="";Dx(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Dx(this.data_)){const r=this.data_,o=BU(r,e,n);return o===null?null:new po(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new po(r,!0)}}static getBlob(...e){if(G_()){const n=e.map(r=>r instanceof po?r.data_:r);return new po(UU.apply(null,n))}else{const n=e.map(c=>jm(c)?FU(gi.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let a=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[a++]=c[d]}),new po(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){let e;try{e=JSON.parse(t)}catch{return null}return DU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function V1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t,e){return e}class Fn{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||QU}}let nh=null;function XU(t){return!jm(t)||t.length<2?t:V1(t)}function K_(){if(nh)return nh;const t=[];t.push(new Fn("bucket")),t.push(new Fn("generation")),t.push(new Fn("metageneration")),t.push(new Fn("name","fullPath",!0));function e(a,c){return XU(c)}const n=new Fn("name");n.xform=e,t.push(n);function r(a,c){return c!==void 0?Number(c):c}const o=new Fn("size");return o.xform=r,t.push(o),t.push(new Fn("timeCreated")),t.push(new Fn("updated")),t.push(new Fn("md5Hash",null,!0)),t.push(new Fn("cacheControl",null,!0)),t.push(new Fn("contentDisposition",null,!0)),t.push(new Fn("contentEncoding",null,!0)),t.push(new Fn("contentLanguage",null,!0)),t.push(new Fn("contentType",null,!0)),t.push(new Fn("metadata","customMetadata",!0)),nh=t,nh}function WU(t,e){function n(){const r=t.bucket,o=t.fullPath,a=new pr(r,o);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function ZU(t,e,n){const r={};r.type="file";const o=n.length;for(let a=0;a<o;a++){const c=n[a];r[c.local]=c.xform(r,e[c.server])}return WU(r,t),r}function j1(t,e,n){const r=L1(e);return r===null?null:ZU(t,r,n)}function JU(t,e,n,r){const o=L1(e);if(o===null||!jm(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const c=encodeURIComponent;return a.split(",").map(p=>{const y=t.bucket,v=t.fullPath,w="/b/"+c(y)+"/o/"+c(v),S=mc(w,n,r),C=D1({alt:"media",token:p});return S+C})[0]}function U1(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class La{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){if(!t)throw $_()}function Y_(t,e){function n(r,o){const a=j1(t,o,e);return ps(a!==null),a}return n}function e6(t,e){function n(r,o){const a=j1(t,o,e);return ps(a!==null),JU(a,o,t.host,t._protocol)}return n}function wd(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=yU():o=gU():n.getStatus()===402?o=pU(t.bucket):n.getStatus()===403?o=vU(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Q_(t){const e=wd(t);function n(r,o){let a=e(r,o);return r.getStatus()===404&&(a=mU(t.path)),a.serverResponse=o.serverResponse,a}return n}function B1(t,e,n){const r=e.fullServerUrl(),o=mc(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,d=new La(o,a,Y_(t,n),c);return d.errorHandler=Q_(e),d}function t6(t,e,n){const r=e.fullServerUrl(),o=mc(r,t.host,t._protocol),a="GET",c=t.maxOperationRetryTime,d=new La(o,a,e6(t,n),c);return d.errorHandler=Q_(e),d}function n6(t,e){const n=e.fullServerUrl(),r=mc(n,t.host,t._protocol),o="DELETE",a=t.maxOperationRetryTime;function c(h,p){}const d=new La(r,o,c,a);return d.successCodes=[200,204],d.errorHandler=Q_(e),d}function r6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function z1(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=r6(null,e)),r}function i6(t,e,n,r,o){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let L="";for(let H=0;H<2;H++)L=L+Math.random().toString().slice(2);return L}const h=d();c["Content-Type"]="multipart/related; boundary="+h;const p=z1(e,r,o),y=U1(p,n),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+h+"--",S=po.getBlob(v,r,w);if(S===null)throw I1();const C={name:p.fullPath},T=mc(a,t.host,t._protocol),R="POST",D=t.maxUploadRetryTime,M=new La(T,R,Y_(t,n),D);return M.urlParams=C,M.headers=c,M.body=S.uploadData(),M.errorHandler=wd(e),M}class Zh{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function X_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ps(!1)}return ps(!!n&&(e||["active"]).indexOf(n)!==-1),n}function s6(t,e,n,r,o){const a=e.bucketOnlyServerUrl(),c=z1(e,r,o),d={name:c.fullPath},h=mc(a,t.host,t._protocol),p="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},v=U1(c,n),w=t.maxUploadRetryTime;function S(T){X_(T);let R;try{R=T.getResponseHeader("X-Goog-Upload-URL")}catch{ps(!1)}return ps(jm(R)),R}const C=new La(h,p,S,w);return C.urlParams=d,C.headers=y,C.body=v,C.errorHandler=wd(e),C}function o6(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function a(p){const y=X_(p,["active","final"]);let v=null;try{v=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ps(!1)}v||ps(!1);const w=Number(v);return ps(!isNaN(w)),new Zh(w,r.size(),y==="final")}const c="POST",d=t.maxUploadRetryTime,h=new La(n,c,a,d);return h.headers=o,h.errorHandler=wd(e),h}const Mx=256*1024;function a6(t,e,n,r,o,a,c,d){const h=new Zh(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw EU();const p=h.total-h.current;let y=p;o>0&&(y=Math.min(y,o));const v=h.current,w=v+y;let S="";y===0?S="finalize":p===y?S="upload, finalize":S="upload";const C={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${h.current}`},T=r.slice(v,w);if(T===null)throw I1();function R(H,$){const Y=X_(H,["active","final"]),O=h.current+y,I=r.size();let P;return Y==="final"?P=Y_(e,a)(H,$):P=null,new Zh(O,I,Y==="final",P)}const D="POST",M=e.maxUploadRetryTime,L=new La(n,D,R,M);return L.headers=C,L.body=T.uploadData(),L.progressCallback=d||null,L.errorHandler=wd(t),L}const Zn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Sy(t){switch(t){case"running":case"pausing":case"canceling":return Zn.RUNNING;case"paused":return Zn.PAUSED;case"success":return Zn.SUCCESS;case"canceled":return Zn.CANCELED;case"error":return Zn.ERROR;default:return Zn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l6=class{constructor(e,n,r){if(NU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class c6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,a){if(this.sent_)throw Tu("cannot .send() more than once");if(Mo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const c in a)a.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,a[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class u6 extends c6{initXhr(){this.xhr_.responseType="text"}}function go(){return new u6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=K_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Mt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(O1(o.status,[]))if(a)o=R1();else{this.sleepTime=Math.max(this.sleepTime*2,hU),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Mt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=s6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,go,e,n);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=o6(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,go,n,r);this._request=a,a.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Mx*this._chunkMultiplier,n=new Zh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let c;try{c=a6(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const d=this._ref.storage._makeRequest(c,go,o,a,!1);this._request=d,d.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Mx*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=B1(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,go,e,n);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=i6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,go,e,n);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=C1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Sy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const a=new l6(n||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Sy(this._state)){case Zn.SUCCESS:Cl(this._resolve.bind(null,this.snapshot))();break;case Zn.CANCELED:case Zn.ERROR:const n=this._reject;Cl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Sy(this._state)){case Zn.RUNNING:case Zn.PAUSED:e.next&&Cl(e.next.bind(e,this.snapshot))();break;case Zn.SUCCESS:e.complete&&Cl(e.complete.bind(e))();break;case Zn.CANCELED:case Zn.ERROR:e.error&&Cl(e.error.bind(e,this._error))();break;default:e.error&&Cl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this._service=e,n instanceof pr?this._location=n:this._location=pr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Aa(e,n)}get root(){const e=new pr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V1(this._location.path)}get storage(){return this._service}get parent(){const e=KU(this._location.path);if(e===null)return null;const n=new pr(this._location.bucket,e);return new Aa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SU(e)}}function f6(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new d6(t,new po(e),n)}function h6(t){t._throwIfRoot("getMetadata");const e=B1(t.storage,t._location,K_());return t.storage.makeRequestWithTokens(e,go)}function m6(t){t._throwIfRoot("getDownloadURL");const e=t6(t.storage,t._location,K_());return t.storage.makeRequestWithTokens(e,go).then(n=>{if(n===null)throw TU();return n})}function p6(t){t._throwIfRoot("deleteObject");const e=n6(t.storage,t._location);return t.storage.makeRequestWithTokens(e,go)}function g6(t,e){const n=YU(t._location.path,e),r=new pr(t._location.bucket,n);return new Aa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){return/^[A-Za-z]+:\/\//.test(t)}function v6(t,e){return new Aa(t,e)}function F1(t,e){if(t instanceof W_){const n=t;if(n._bucket==null)throw wU();const r=new Aa(n,n._bucket);return e!=null?F1(r,e):r}else return e!==void 0?g6(t,e):t}function _6(t,e){if(e&&y6(e)){if(t instanceof W_)return v6(t,e);throw vv("To use ref(service, url), the first argument must be a Storage instance.")}else return F1(t,e)}function kx(t,e){const n=e==null?void 0:e[A1];return n==null?null:pr.makeFromBucketSpec(n,t)}function b6(t,e,n,r={}){t.host=`${e}:${n}`;const o=Mo(e);o&&(qv(`https://${t.host}/b`),$v("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:sA(a,t.app.options.projectId))}class W_{constructor(e,n,r,o,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=S1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dU,this._maxUploadRetryTime=fU,this._requests=new Set,o!=null?this._bucket=pr.makeFromBucketSpec(o,this._host):this._bucket=kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pr.makeFromBucketSpec(this._url,e):this._bucket=kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ox("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ox("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Aa(this,e)}_makeRequest(e,n,r,o,a=!0){if(this._deleted)return new AU(N1());{const c=VU(e,this._appId,r,o,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Px="@firebase/storage",Lx="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="storage";function q1(t,e,n){return t=Ot(t),f6(t,e,n)}function w6(t){return t=Ot(t),h6(t)}function $1(t){return t=Ot(t),m6(t)}function G1(t){return t=Ot(t),p6(t)}function Jh(t,e){return t=Ot(t),_6(t,e)}function em(t=Yv(),e){t=Ot(t);const r=pm(t,H1).getImmediate({identifier:e}),o=nA("storage");return o&&E6(r,...o),r}function E6(t,e,n,r={}){b6(t,e,n,r)}function T6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new W_(n,r,o,e,Ma)}function x6(){Ea(new xo(H1,T6,"PUBLIC").setMultipleInstances(!0)),_i(Px,Lx,""),_i(Px,Lx,"esm2017")}x6();const S6={apiKey:"AIzaSyA9Q2Y7tVbL67ZIC1EzzeI10x1Wv1Gzc9U",authDomain:"web-app-messaging.firebaseapp.com",projectId:"web-app-messaging",storageBucket:"web-app-messaging.firebasestorage.app",messagingSenderId:"312333989577",appId:"1:312333989577:web:4637048b675c5ee7e2ff18",measurementId:"G-BJW9DN442W"},Z_=lA(S6),st=Xj(Z_),A6=_m(Z_),R6=new cs;em(Z_);function Vx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Um(...t){return e=>{let n=!1;const r=t.map(o=>{const a=Vx(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Vx(t[o],null)}}}}function gt(...t){return E.useCallback(Um(...t),t)}function Ra(t){const e=I6(t),n=E.forwardRef((r,o)=>{const{children:a,...c}=r,d=E.Children.toArray(a),h=d.find(D6);if(h){const p=h.props.children,y=d.map(v=>v===h?E.Children.count(p)>1?E.Children.only(null):E.isValidElement(p)?p.props.children:null:v);return _.jsx(e,{...c,ref:o,children:E.isValidElement(p)?E.cloneElement(p,void 0,y):null})}return _.jsx(e,{...c,ref:o,children:a})});return n.displayName=`${t}.Slot`,n}var C6=Ra("Slot");function I6(t){const e=E.forwardRef((n,r)=>{const{children:o,...a}=n;if(E.isValidElement(o)){const c=M6(o),d=O6(a,o.props);return o.type!==E.Fragment&&(d.ref=r?Um(r,c):c),E.cloneElement(o,d)}return E.Children.count(o)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var K1=Symbol("radix.slottable");function N6(t){const e=({children:n})=>_.jsx(_.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=K1,e}function D6(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===K1}function O6(t,e){const n={...e};for(const r in e){const o=t[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...d)=>{const h=a(...d);return o(...d),h}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function M6(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Y1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Y1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Q1(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Y1(t))&&(r&&(r+=" "),r+=e);return r}const jx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ux=Q1,k6=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ux(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(p=>{const y=n==null?void 0:n[p],v=a==null?void 0:a[p];if(y===null)return null;const w=jx(y)||jx(v);return o[p][w]}),d=n&&Object.entries(n).reduce((p,y)=>{let[v,w]=y;return w===void 0||(p[v]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:v,className:w,...S}=y;return Object.entries(S).every(C=>{let[T,R]=C;return Array.isArray(R)?R.includes({...a,...d}[T]):{...a,...d}[T]===R})?[...p,v,w]:p},[]);return Ux(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},J_="-",P6=t=>{const e=V6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(J_);return d[0]===""&&d.length!==1&&d.shift(),X1(d,e)||L6(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&r[c]?[...h,...r[c]]:h}}},X1=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?X1(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(J_);return(c=e.validators.find(({validator:d})=>d(a)))==null?void 0:c.classGroupId},Bx=/^\[(.+)\]$/,L6=t=>{if(Bx.test(t)){const e=Bx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},V6=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const o in n)_v(n[o],r,o,e);return r},_v=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:zx(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(j6(o)){_v(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,c])=>{_v(c,zx(e,a),n,r)})})},zx=(t,e)=>{let n=t;return e.split(J_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},j6=t=>t.isThemeGetter,U6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return o(a,c),c},set(a,c){n.has(a)?n.set(a,c):o(a,c)}}},bv="!",wv=":",B6=wv.length,z6=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const a=[];let c=0,d=0,h=0,p;for(let C=0;C<o.length;C++){let T=o[C];if(c===0&&d===0){if(T===wv){a.push(o.slice(h,C)),h=C+B6;continue}if(T==="/"){p=C;continue}}T==="["?c++:T==="]"?c--:T==="("?d++:T===")"&&d--}const y=a.length===0?o:o.substring(h),v=F6(y),w=v!==y,S=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:S}};if(e){const o=e+wv,a=r;r=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=a=>n({className:a,parseClassName:o})}return r},F6=t=>t.endsWith(bv)?t.substring(0,t.length-1):t.startsWith(bv)?t.substring(1):t,H6=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},q6=t=>({cache:U6(t.cacheSize),parseClassName:z6(t),sortModifiers:H6(t),...P6(t)}),$6=/\s+/,G6=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],d=t.trim().split($6);let h="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:v,modifiers:w,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:T}=n(y);if(v){h=y+(h.length>0?" "+h:h);continue}let R=!!T,D=r(R?C.substring(0,T):C);if(!D){if(!R){h=y+(h.length>0?" "+h:h);continue}if(D=r(C),!D){h=y+(h.length>0?" "+h:h);continue}R=!1}const M=a(w).join(":"),L=S?M+bv:M,H=L+D;if(c.includes(H))continue;c.push(H);const $=o(D,R);for(let Y=0;Y<$.length;++Y){const O=$[Y];c.push(L+O)}h=y+(h.length>0?" "+h:h)}return h};function K6(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=W1(e))&&(r&&(r+=" "),r+=n);return r}const W1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=W1(t[r]))&&(n&&(n+=" "),n+=e);return n};function Y6(t,...e){let n,r,o,a=c;function c(h){const p=e.reduce((y,v)=>v(y),t());return n=q6(p),r=n.cache.get,o=n.cache.set,a=d,d(h)}function d(h){const p=r(h);if(p)return p;const y=G6(h,n);return o(h,y),y}return function(){return a(K6.apply(null,arguments))}}const cn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Z1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Q6=/^\d+\/\d+$/,X6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,J6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Il=t=>Q6.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),co=t=>!!t&&Number.isInteger(Number(t)),Ay=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),ls=t=>X6.test(t),t3=()=>!0,n3=t=>W6.test(t)&&!Z6.test(t),eC=()=>!1,r3=t=>J6.test(t),i3=t=>e3.test(t),s3=t=>!Ce(t)&&!Ie(t),o3=t=>pc(t,rC,eC),Ce=t=>Z1.test(t),pa=t=>pc(t,iC,n3),Ry=t=>pc(t,d3,Ye),Fx=t=>pc(t,tC,eC),a3=t=>pc(t,nC,i3),rh=t=>pc(t,sC,r3),Ie=t=>J1.test(t),xu=t=>gc(t,iC),l3=t=>gc(t,f3),Hx=t=>gc(t,tC),c3=t=>gc(t,rC),u3=t=>gc(t,nC),ih=t=>gc(t,sC,!0),pc=(t,e,n)=>{const r=Z1.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gc=(t,e,n=!1)=>{const r=J1.exec(t);return r?r[1]?e(r[1]):n:!1},tC=t=>t==="position"||t==="percentage",nC=t=>t==="image"||t==="url",rC=t=>t==="length"||t==="size"||t==="bg-size",iC=t=>t==="length",d3=t=>t==="number",f3=t=>t==="family-name",sC=t=>t==="shadow",h3=()=>{const t=cn("color"),e=cn("font"),n=cn("text"),r=cn("font-weight"),o=cn("tracking"),a=cn("leading"),c=cn("breakpoint"),d=cn("container"),h=cn("spacing"),p=cn("radius"),y=cn("shadow"),v=cn("inset-shadow"),w=cn("text-shadow"),S=cn("drop-shadow"),C=cn("blur"),T=cn("perspective"),R=cn("aspect"),D=cn("ease"),M=cn("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...H(),Ie,Ce],Y=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],I=()=>[Ie,Ce,h],P=()=>[Il,"full","auto",...I()],j=()=>[co,"none","subgrid",Ie,Ce],B=()=>["auto",{span:["full",co,Ie,Ce]},co,Ie,Ce],F=()=>[co,"auto",Ie,Ce],V=()=>["auto","min","max","fr",Ie,Ce],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_e=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...I()],se=()=>[Il,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Q=()=>[t,Ie,Ce],le=()=>[...H(),Hx,Fx,{position:[Ie,Ce]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",c3,o3,{size:[Ie,Ce]}],ae=()=>[Ay,xu,pa],re=()=>["","none","full",p,Ie,Ce],me=()=>["",Ye,xu,pa],Ae=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Ye,Ay,Hx,Fx],Ee=()=>["","none",C,Ie,Ce],ke=()=>["none",Ye,Ie,Ce],Oe=()=>["none",Ye,Ie,Ce],Ve=()=>[Ye,Ie,Ce],ze=()=>[Il,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ls],breakpoint:[ls],color:[t3],container:[ls],"drop-shadow":[ls],ease:["in","out","in-out"],font:[s3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ls],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ls],shadow:[ls],spacing:["px",Ye],text:[ls],"text-shadow":[ls],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Il,Ce,Ie,R]}],container:["container"],columns:[{columns:[Ye,Ce,Ie,d]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[co,"auto",Ie,Ce]}],basis:[{basis:[Il,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Il,"auto","initial","none",Ce]}],grow:[{grow:["",Ye,Ie,Ce]}],shrink:[{shrink:["",Ye,Ie,Ce]}],order:[{order:[co,"first","last","none",Ie,Ce]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[..._e(),"normal"]}],"justify-self":[{"justify-self":["auto",..._e()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[..._e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._e(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[..._e(),"baseline"]}],"place-self":[{"place-self":["auto",..._e()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[d,"screen",...se()]}],"min-w":[{"min-w":[d,"screen","none",...se()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,xu,pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,Ry]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ay,Ce]}],"font-family":[{font:[l3,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ie,Ce]}],"line-clamp":[{"line-clamp":[Ye,"none",Ie,Ry]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Ie,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Ie,pa]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Ye,"auto",Ie,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},co,Ie,Ce],radial:["",Ie,Ce],conic:[co,Ie,Ce]},u3,a3]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Ie,Ce]}],"outline-w":[{outline:["",Ye,xu,pa]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",y,ih,rh]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",v,ih,rh]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Ye,pa]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",w,ih,rh]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Ye,Ie,Ce]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[Ie,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ce]}],filter:[{filter:["","none",Ie,Ce]}],blur:[{blur:Ee()}],brightness:[{brightness:[Ye,Ie,Ce]}],contrast:[{contrast:[Ye,Ie,Ce]}],"drop-shadow":[{"drop-shadow":["","none",S,ih,rh]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Ye,Ie,Ce]}],"hue-rotate":[{"hue-rotate":[Ye,Ie,Ce]}],invert:[{invert:["",Ye,Ie,Ce]}],saturate:[{saturate:[Ye,Ie,Ce]}],sepia:[{sepia:["",Ye,Ie,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ce]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Ie,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Ie,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Ie,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Ie,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Ie,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Ie,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Ie,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Ie,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Ie,Ce]}],ease:[{ease:["linear","initial",D,Ie,Ce]}],delay:[{delay:[Ye,Ie,Ce]}],animate:[{animate:["none",M,Ie,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ie,Ce]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[Ie,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ze()}],"translate-x":[{"translate-x":ze()}],"translate-y":[{"translate-y":ze()}],"translate-z":[{"translate-z":ze()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ce]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Ye,xu,pa,Ry]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},m3=Y6(h3);function tt(...t){return m3(Q1(t))}const e0=k6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function pt({className:t,variant:e,size:n,asChild:r=!1,...o}){const a=r?C6:"button";return _.jsx(a,{"data-slot":"button",className:tt(e0({variant:e,size:n,className:t})),...o})}function p3({className:t,...e}){return _.jsx("div",{"data-slot":"card",className:tt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function g3({className:t,...e}){return _.jsx("div",{"data-slot":"card-header",className:tt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function y3({className:t,...e}){return _.jsx("div",{"data-slot":"card-title",className:tt("leading-none font-semibold",t),...e})}function v3({className:t,...e}){return _.jsx("div",{"data-slot":"card-description",className:tt("text-muted-foreground text-sm",t),...e})}function _3({className:t,...e}){return _.jsx("div",{"data-slot":"card-action",className:tt("col-start-2 row-span-2 row-start-1 self-start justify-self-end",t),...e})}function b3({className:t,...e}){return _.jsx("div",{"data-slot":"card-content",className:tt("px-6",t),...e})}function w3({className:t,...e}){return _.jsx("div",{"data-slot":"card-footer",className:tt("flex items-center px-6 [.border-t]:pt-6",t),...e})}function yi({className:t,type:e,...n}){return _.jsx("input",{type:e,"data-slot":"input",className:tt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var E3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=E3.reduce((t,e)=>{const n=Ra(`Primitive.${e}`),r=E.forwardRef((o,a)=>{const{asChild:c,...d}=o,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(h,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function oC(t,e){t&&od.flushSync(()=>t.dispatchEvent(e))}var T3="Label",aC=E.forwardRef((t,e)=>_.jsx(Ge.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aC.displayName=T3;var x3=aC;function fs({className:t,...e}){return _.jsx(x3,{"data-slot":"label",className:tt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var S3=(t,e,n,r,o,a,c,d)=>{let h=document.documentElement,p=["light","dark"];function y(S){(Array.isArray(t)?t:[t]).forEach(C=>{let T=C==="class",R=T&&a?o.map(D=>a[D]||D):o;T?(h.classList.remove(...R),h.classList.add(a&&a[S]?a[S]:S)):h.setAttribute(C,S)}),v(S)}function v(S){d&&p.includes(S)&&(h.style.colorScheme=S)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)y(r);else try{let S=localStorage.getItem(e)||n,C=c&&S==="system"?w():S;y(C)}catch{}},A3=E.createContext(void 0),R3={setTheme:t=>{},themes:[]},C3=()=>{var t;return(t=E.useContext(A3))!=null?t:R3};E.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:c,themes:d,nonce:h,scriptProps:p})=>{let y=JSON.stringify([n,e,a,t,d,c,r,o]).slice(1,-1);return E.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${S3.toString()})(${y})`}})});function I3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const N3=t=>{switch(t){case"success":return M3;case"info":return P3;case"warning":return k3;case"error":return L3;default:return null}},D3=Array(12).fill(0),O3=({visible:t,className:e})=>ge.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ge.createElement("div",{className:"sonner-spinner"},D3.map((n,r)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),M3=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k3=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),P3=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L3=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),V3=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),j3=()=>{const[t,e]=ge.useState(document.hidden);return ge.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Ev=1;class U3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ev++,c=this.toasts.find(h=>h.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:r}),{...h,...e,id:a,dismissible:d,title:r}):h):this.addToast({title:r,...o,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,c;const d=o.then(async p=>{if(c=["resolve",p],ge.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(z3(p)&&!p.ok){a=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,C=typeof v=="object"&&!ge.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:w,...C})}else if(p instanceof Error){a=!1;const v=typeof n.error=="function"?await n.error(p):n.error,w=typeof n.description=="function"?await n.description(p):n.description,C=typeof v=="object"&&!ge.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:w,...C})}else if(n.success!==void 0){a=!1;const v=typeof n.success=="function"?await n.success(p):n.success,w=typeof n.description=="function"?await n.description(p):n.description,C=typeof v=="object"&&!ge.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:w,...C})}}).catch(async p=>{if(c=["reject",p],n.error!==void 0){a=!1;const y=typeof n.error=="function"?await n.error(p):n.error,v=typeof n.description=="function"?await n.description(p):n.description,S=typeof y=="object"&&!ge.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...S})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((p,y)=>d.then(()=>c[0]==="reject"?y(c[1]):p(c[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Ev++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Xn=new U3,B3=(t,e)=>{const n=(e==null?void 0:e.id)||Ev++;return Xn.addToast({title:t,...e,id:n}),n},z3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",F3=B3,H3=()=>Xn.toasts,q3=()=>Xn.getActiveToasts(),vt=Object.assign(F3,{success:Xn.success,info:Xn.info,warning:Xn.warning,error:Xn.error,custom:Xn.custom,message:Xn.message,promise:Xn.promise,dismiss:Xn.dismiss,loading:Xn.loading},{getHistory:H3,getToasts:q3});I3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function sh(t){return t.label!==void 0}const $3=3,G3="24px",K3="16px",qx=4e3,Y3=356,Q3=14,X3=45,W3=200;function fi(...t){return t.filter(Boolean).join(" ")}function Z3(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const J3=t=>{var e,n,r,o,a,c,d,h,p;const{invert:y,toast:v,unstyled:w,interacting:S,setHeights:C,visibleToasts:T,heights:R,index:D,toasts:M,expanded:L,removeToast:H,defaultRichColors:$,closeButton:Y,style:O,cancelButtonStyle:I,actionButtonStyle:P,className:j="",descriptionClassName:B="",duration:F,position:V,gap:Se,expandByDefault:_e,classNames:q,icons:se,closeButtonAriaLabel:Q="Close toast"}=t,[le,U]=ge.useState(null),[J,ae]=ge.useState(null),[re,me]=ge.useState(!1),[Ae,pe]=ge.useState(!1),[he,Ee]=ge.useState(!1),[ke,Oe]=ge.useState(!1),[Ve,ze]=ge.useState(!1),[Rt,ne]=ge.useState(0),[ve,Te]=ge.useState(0),xe=ge.useRef(v.duration||F||qx),Xe=ge.useRef(null),nt=ge.useRef(null),rn=D===0,mn=D+1<=T,It=v.type,Vn=v.dismissible!==!1,kr=v.className||"",Oi=v.descriptionClassName||"",rt=ge.useMemo(()=>R.findIndex(Pe=>Pe.toastId===v.id)||0,[R,v.id]),it=ge.useMemo(()=>{var Pe;return(Pe=v.closeButton)!=null?Pe:Y},[v.closeButton,Y]),In=ge.useMemo(()=>v.duration||F||qx,[v.duration,F]),Xt=ge.useRef(0),Pr=ge.useRef(0),Ua=ge.useRef(0),qn=ge.useRef(null),[Mi,ki]=V.split("-"),$n=ge.useMemo(()=>R.reduce((Pe,kt,Nt)=>Nt>=rt?Pe:Pe+kt.height,0),[R,rt]),Pi=j3(),Li=v.invert||y,Vi=It==="loading";Pr.current=ge.useMemo(()=>rt*Se+$n,[rt,$n]),ge.useEffect(()=>{xe.current=In},[In]),ge.useEffect(()=>{me(!0)},[]),ge.useEffect(()=>{const Pe=nt.current;if(Pe){const kt=Pe.getBoundingClientRect().height;return Te(kt),C(Nt=>[{toastId:v.id,height:kt,position:v.position},...Nt]),()=>C(Nt=>Nt.filter(Wt=>Wt.toastId!==v.id))}},[C,v.id]),ge.useLayoutEffect(()=>{if(!re)return;const Pe=nt.current,kt=Pe.style.height;Pe.style.height="auto";const Nt=Pe.getBoundingClientRect().height;Pe.style.height=kt,Te(Nt),C(Wt=>Wt.find(Ht=>Ht.toastId===v.id)?Wt.map(Ht=>Ht.toastId===v.id?{...Ht,height:Nt}:Ht):[{toastId:v.id,height:Nt,position:v.position},...Wt])},[re,v.title,v.description,C,v.id,v.jsx,v.action,v.cancel]);const Gn=ge.useCallback(()=>{pe(!0),ne(Pr.current),C(Pe=>Pe.filter(kt=>kt.toastId!==v.id)),setTimeout(()=>{H(v)},W3)},[v,H,C,Pr]);ge.useEffect(()=>{if(v.promise&&It==="loading"||v.duration===1/0||v.type==="loading")return;let Pe;return L||S||Pi?(()=>{if(Ua.current<Xt.current){const Wt=new Date().getTime()-Xt.current;xe.current=xe.current-Wt}Ua.current=new Date().getTime()})():(()=>{xe.current!==1/0&&(Xt.current=new Date().getTime(),Pe=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Gn()},xe.current))})(),()=>clearTimeout(Pe)},[L,S,v,It,Pi,Gn]),ge.useEffect(()=>{v.delete&&(Gn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Gn,v.delete]);function Uo(){var Pe;if(se!=null&&se.loading){var kt;return ge.createElement("div",{className:fi(q==null?void 0:q.loader,v==null||(kt=v.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":It==="loading"},se.loading)}return ge.createElement(O3,{className:fi(q==null?void 0:q.loader,v==null||(Pe=v.classNames)==null?void 0:Pe.loader),visible:It==="loading"})}const Lr=v.icon||(se==null?void 0:se[It])||N3(It);var yr,Ps;return ge.createElement("li",{tabIndex:0,ref:nt,className:fi(j,kr,q==null?void 0:q.toast,v==null||(e=v.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[It],v==null||(n=v.classNames)==null?void 0:n[It]),"data-sonner-toast":"","data-rich-colors":(yr=v.richColors)!=null?yr:$,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":re,"data-promise":!!v.promise,"data-swiped":Ve,"data-removed":Ae,"data-visible":mn,"data-y-position":Mi,"data-x-position":ki,"data-index":D,"data-front":rn,"data-swiping":he,"data-dismissible":Vn,"data-type":It,"data-invert":Li,"data-swipe-out":ke,"data-swipe-direction":J,"data-expanded":!!(L||_e&&re),style:{"--index":D,"--toasts-before":D,"--z-index":M.length-D,"--offset":`${Ae?Rt:Pr.current}px`,"--initial-height":_e?"auto":`${ve}px`,...O,...v.style},onDragEnd:()=>{Ee(!1),U(null),qn.current=null},onPointerDown:Pe=>{Vi||!Vn||(Xe.current=new Date,ne(Pr.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(Ee(!0),qn.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,kt,Nt;if(ke||!Vn)return;qn.current=null;const Wt=Number(((Pe=nt.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),nr=Number(((kt=nt.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((Nt=Xe.current)==null?void 0:Nt.getTime()),Ze=le==="x"?Wt:nr,Pt=Math.abs(Ze)/Ht;if(Math.abs(Ze)>=X3||Pt>.11){ne(Pr.current),v.onDismiss==null||v.onDismiss.call(v,v),ae(le==="x"?Wt>0?"right":"left":nr>0?"down":"up"),Gn(),Oe(!0);return}else{var ft,Lt;(ft=nt.current)==null||ft.style.setProperty("--swipe-amount-x","0px"),(Lt=nt.current)==null||Lt.style.setProperty("--swipe-amount-y","0px")}ze(!1),Ee(!1),U(null)},onPointerMove:Pe=>{var kt,Nt,Wt;if(!qn.current||!Vn||((kt=window.getSelection())==null?void 0:kt.toString().length)>0)return;const Ht=Pe.clientY-qn.current.y,Ze=Pe.clientX-qn.current.x;var Pt;const ft=(Pt=t.swipeDirections)!=null?Pt:Z3(V);!le&&(Math.abs(Ze)>1||Math.abs(Ht)>1)&&U(Math.abs(Ze)>Math.abs(Ht)?"x":"y");let Lt={x:0,y:0};const Ls=Vr=>1/(1.5+Math.abs(Vr)/20);if(le==="y"){if(ft.includes("top")||ft.includes("bottom"))if(ft.includes("top")&&Ht<0||ft.includes("bottom")&&Ht>0)Lt.y=Ht;else{const Vr=Ht*Ls(Ht);Lt.y=Math.abs(Vr)<Math.abs(Ht)?Vr:Ht}}else if(le==="x"&&(ft.includes("left")||ft.includes("right")))if(ft.includes("left")&&Ze<0||ft.includes("right")&&Ze>0)Lt.x=Ze;else{const Vr=Ze*Ls(Ze);Lt.x=Math.abs(Vr)<Math.abs(Ze)?Vr:Ze}(Math.abs(Lt.x)>0||Math.abs(Lt.y)>0)&&ze(!0),(Nt=nt.current)==null||Nt.style.setProperty("--swipe-amount-x",`${Lt.x}px`),(Wt=nt.current)==null||Wt.style.setProperty("--swipe-amount-y",`${Lt.y}px`)}},it&&!v.jsx&&It!=="loading"?ge.createElement("button",{"aria-label":Q,"data-disabled":Vi,"data-close-button":!0,onClick:Vi||!Vn?()=>{}:()=>{Gn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:fi(q==null?void 0:q.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(Ps=se==null?void 0:se.close)!=null?Ps:V3):null,(It||v.icon||v.promise)&&v.icon!==null&&((se==null?void 0:se[It])!==null||v.icon)?ge.createElement("div",{"data-icon":"",className:fi(q==null?void 0:q.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Uo():null,v.type!=="loading"?Lr:null):null,ge.createElement("div",{"data-content":"",className:fi(q==null?void 0:q.content,v==null||(a=v.classNames)==null?void 0:a.content)},ge.createElement("div",{"data-title":"",className:fi(q==null?void 0:q.title,v==null||(c=v.classNames)==null?void 0:c.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?ge.createElement("div",{"data-description":"",className:fi(B,Oi,q==null?void 0:q.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),ge.isValidElement(v.cancel)?v.cancel:v.cancel&&sh(v.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||I,onClick:Pe=>{sh(v.cancel)&&Vn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Pe),Gn())},className:fi(q==null?void 0:q.cancelButton,v==null||(h=v.classNames)==null?void 0:h.cancelButton)},v.cancel.label):null,ge.isValidElement(v.action)?v.action:v.action&&sh(v.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||P,onClick:Pe=>{sh(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Pe),!Pe.defaultPrevented&&Gn())},className:fi(q==null?void 0:q.actionButton,v==null||(p=v.classNames)==null?void 0:p.actionButton)},v.action.label):null)};function $x(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function e5(t,e){const n={};return[t,e].forEach((r,o)=>{const a=o===1,c=a?"--mobile-offset":"--offset",d=a?K3:G3;function h(p){["top","right","bottom","left"].forEach(y=>{n[`${c}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${c}-${p}`]=d:n[`${c}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):h(d)}),n}const t5=ge.forwardRef(function(e,n){const{invert:r,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:p,mobileOffset:y,theme:v="light",richColors:w,duration:S,style:C,visibleToasts:T=$3,toastOptions:R,dir:D=$x(),gap:M=Q3,icons:L,containerAriaLabel:H="Notifications"}=e,[$,Y]=ge.useState([]),O=ge.useMemo(()=>Array.from(new Set([o].concat($.filter(J=>J.position).map(J=>J.position)))),[$,o]),[I,P]=ge.useState([]),[j,B]=ge.useState(!1),[F,V]=ge.useState(!1),[Se,_e]=ge.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=ge.useRef(null),se=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=ge.useRef(null),le=ge.useRef(!1),U=ge.useCallback(J=>{Y(ae=>{var re;return(re=ae.find(me=>me.id===J.id))!=null&&re.delete||Xn.dismiss(J.id),ae.filter(({id:me})=>me!==J.id)})},[]);return ge.useEffect(()=>Xn.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{Y(ae=>ae.map(re=>re.id===J.id?{...re,delete:!0}:re))});return}setTimeout(()=>{WS.flushSync(()=>{Y(ae=>{const re=ae.findIndex(me=>me.id===J.id);return re!==-1?[...ae.slice(0,re),{...ae[re],...J},...ae.slice(re+1)]:[J,...ae]})})})}),[$]),ge.useEffect(()=>{if(v!=="system"){_e(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ae})=>{_e(ae?"dark":"light")})}catch{J.addListener(({matches:re})=>{try{_e(re?"dark":"light")}catch(me){console.error(me)}})}},[v]),ge.useEffect(()=>{$.length<=1&&B(!1)},[$]),ge.useEffect(()=>{const J=ae=>{var re;if(a.every(pe=>ae[pe]||ae.code===pe)){var Ae;B(!0),(Ae=q.current)==null||Ae.focus()}ae.code==="Escape"&&(document.activeElement===q.current||(re=q.current)!=null&&re.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[a]),ge.useEffect(()=>{if(q.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,le.current=!1)}},[q.current]),ge.createElement("section",{ref:n,"aria-label":`${H} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((J,ae)=>{var re;const[me,Ae]=J.split("-");return $.length?ge.createElement("ol",{key:J,dir:D==="auto"?$x():D,tabIndex:-1,ref:q,className:h,"data-sonner-toaster":!0,"data-sonner-theme":Se,"data-y-position":me,"data-x-position":Ae,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--width":`${Y3}px`,"--gap":`${M}px`,...C,...e5(p,y)},onBlur:pe=>{le.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(le.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||le.current||(le.current=!0,Q.current=pe.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{F||B(!1)},onDragEnd:()=>B(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},$.filter(pe=>!pe.position&&ae===0||pe.position===J).map((pe,he)=>{var Ee,ke;return ge.createElement(J3,{key:pe.id,icons:L,index:he,toast:pe,defaultRichColors:w,duration:(Ee=R==null?void 0:R.duration)!=null?Ee:S,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:r,visibleToasts:T,closeButton:(ke=R==null?void 0:R.closeButton)!=null?ke:d,interacting:F,position:J,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,closeButtonAriaLabel:R==null?void 0:R.closeButtonAriaLabel,removeToast:U,toasts:$.filter(Oe=>Oe.position==pe.position),heights:I.filter(Oe=>Oe.position==pe.position),setHeights:P,expandByDefault:c,gap:M,expanded:j,swipeDirections:e.swipeDirections})})):null}))}),lC=({...t})=>{const{theme:e="system"}=C3();return _.jsx(t5,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},cC=Object.freeze({left:0,top:0,width:16,height:16}),tm=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),t0=Object.freeze({...cC,...tm}),Tv=Object.freeze({...t0,body:"",hidden:!1});function n5(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function Gx(t,e){const n=n5(t,e);for(const r in Tv)r in tm?r in t&&!(r in n)&&(n[r]=tm[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function r5(t,e){const n=t.icons,r=t.aliases||Object.create(null),o=Object.create(null);function a(c){if(n[c])return o[c]=[];if(!(c in o)){o[c]=null;const d=r[c]&&r[c].parent,h=d&&a(d);h&&(o[c]=[d].concat(h))}return o[c]}return Object.keys(n).concat(Object.keys(r)).forEach(a),o}function i5(t,e,n){const r=t.icons,o=t.aliases||Object.create(null);let a={};function c(d){a=Gx(r[d]||o[d],a)}return c(e),n.forEach(c),Gx(t,a)}function uC(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(o=>{e(o,null),n.push(o)});const r=r5(t);for(const o in r){const a=r[o];a&&(e(o,i5(t,o,a)),n.push(o))}return n}const s5={provider:"",aliases:{},not_found:{},...cC};function Cy(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function dC(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Cy(t,s5))return null;const n=e.icons;for(const o in n){const a=n[o];if(!o||typeof a.body!="string"||!Cy(a,Tv))return null}const r=e.aliases||Object.create(null);for(const o in r){const a=r[o],c=a.parent;if(!o||typeof c!="string"||!n[c]&&!r[c]||!Cy(a,Tv))return null}return e}const fC=/^[a-z0-9]+(-[a-z0-9]+)*$/,Bm=(t,e,n,r="")=>{const o=t.split(":");if(t.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const d=o.pop(),h=o.pop(),p={provider:o.length>0?o[0]:r,prefix:h,name:d};return e&&!Sh(p)?null:p}const a=o[0],c=a.split("-");if(c.length>1){const d={provider:r,prefix:c.shift(),name:c.join("-")};return e&&!Sh(d)?null:d}if(n&&r===""){const d={provider:r,prefix:"",name:a};return e&&!Sh(d,n)?null:d}return null},Sh=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,Kx=Object.create(null);function o5(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function ec(t,e){const n=Kx[t]||(Kx[t]=Object.create(null));return n[e]||(n[e]=o5(t,e))}function hC(t,e){return dC(e)?uC(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function a5(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let Zu=!1;function mC(t){return typeof t=="boolean"&&(Zu=t),Zu}function Yx(t){const e=typeof t=="string"?Bm(t,!0,Zu):t;if(e){const n=ec(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function l5(t,e){const n=Bm(t,!0,Zu);if(!n)return!1;const r=ec(n.provider,n.prefix);return e?a5(r,n.name,e):(r.missing.add(n.name),!0)}function c5(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),Zu&&!e&&!t.prefix){let o=!1;return dC(t)&&(t.prefix="",uC(t,(a,c)=>{l5(a,c)&&(o=!0)})),o}const n=t.prefix;if(!Sh({prefix:n,name:"a"}))return!1;const r=ec(e,n);return!!hC(r,t)}const pC=Object.freeze({width:null,height:null}),gC=Object.freeze({...pC,...tm}),u5=/(-?[0-9.]*[0-9]+[0-9.]*)/g,d5=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Qx(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(u5);if(r===null||!r.length)return t;const o=[];let a=r.shift(),c=d5.test(a);for(;;){if(c){const d=parseFloat(a);isNaN(d)?o.push(a):o.push(Math.ceil(d*e*n)/n)}else o.push(a);if(a=r.shift(),a===void 0)return o.join("");c=!c}}function f5(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const o=t.indexOf(">",r),a=t.indexOf("</"+e);if(o===-1||a===-1)break;const c=t.indexOf(">",a);if(c===-1)break;n+=t.slice(o+1,a).trim(),t=t.slice(0,r).trim()+t.slice(c+1)}return{defs:n,content:t}}function h5(t,e){return t?"<defs>"+t+"</defs>"+e:e}function m5(t,e,n){const r=f5(t);return h5(r.defs,e+r.content+n)}const p5=t=>t==="unset"||t==="undefined"||t==="none";function g5(t,e){const n={...t0,...t},r={...gC,...e},o={left:n.left,top:n.top,width:n.width,height:n.height};let a=n.body;[n,r].forEach(T=>{const R=[],D=T.hFlip,M=T.vFlip;let L=T.rotate;D?M?L+=2:(R.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),R.push("scale(-1 1)"),o.top=o.left=0):M&&(R.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),R.push("scale(1 -1)"),o.top=o.left=0);let H;switch(L<0&&(L-=Math.floor(L/4)*4),L=L%4,L){case 1:H=o.height/2+o.top,R.unshift("rotate(90 "+H.toString()+" "+H.toString()+")");break;case 2:R.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:H=o.width/2+o.left,R.unshift("rotate(-90 "+H.toString()+" "+H.toString()+")");break}L%2===1&&(o.left!==o.top&&(H=o.left,o.left=o.top,o.top=H),o.width!==o.height&&(H=o.width,o.width=o.height,o.height=H)),R.length&&(a=m5(a,'<g transform="'+R.join(" ")+'">',"</g>"))});const c=r.width,d=r.height,h=o.width,p=o.height;let y,v;c===null?(v=d===null?"1em":d==="auto"?p:d,y=Qx(v,h/p)):(y=c==="auto"?h:c,v=d===null?Qx(y,p/h):d==="auto"?p:d);const w={},S=(T,R)=>{p5(R)||(w[T]=R.toString())};S("width",y),S("height",v);const C=[o.left,o.top,h,p];return w.viewBox=C.join(" "),{attributes:w,viewBox:C,body:a}}const y5=/\sid="(\S+)"/g,v5="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let _5=0;function b5(t,e=v5){const n=[];let r;for(;r=y5.exec(t);)n.push(r[1]);if(!n.length)return t;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(a=>{const c=typeof e=="function"?e(a):e+(_5++).toString(),d=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+d+')([")]|\\.[a-z])',"g"),"$1"+c+o+"$3")}),t=t.replace(new RegExp(o,"g"),""),t}const xv=Object.create(null);function w5(t,e){xv[t]=e}function Sv(t){return xv[t]||xv[""]}function n0(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const r0=Object.create(null),Su=["https://api.simplesvg.com","https://api.unisvg.com"],Ah=[];for(;Su.length>0;)Su.length===1||Math.random()>.5?Ah.push(Su.shift()):Ah.push(Su.pop());r0[""]=n0({resources:["https://api.iconify.design"].concat(Ah)});function E5(t,e){const n=n0(e);return n===null?!1:(r0[t]=n,!0)}function i0(t){return r0[t]}const T5=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Xx=T5();function x5(t,e){const n=i0(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let o=0;n.resources.forEach(c=>{o=Math.max(o,c.length)});const a=e+".json?icons=";r=n.maxURL-o-n.path.length-a.length}return r}function S5(t){return t===404}const A5=(t,e,n)=>{const r=[],o=x5(t,e),a="icons";let c={type:a,provider:t,prefix:e,icons:[]},d=0;return n.forEach((h,p)=>{d+=h.length+1,d>=o&&p>0&&(r.push(c),c={type:a,provider:t,prefix:e,icons:[]},d=h.length),c.icons.push(h)}),r.push(c),r};function R5(t){if(typeof t=="string"){const e=i0(t);if(e)return e.path}return"/"}const C5=(t,e,n)=>{if(!Xx){n("abort",424);return}let r=R5(e.provider);switch(e.type){case"icons":{const a=e.prefix,d=e.icons.join(","),h=new URLSearchParams({icons:d});r+=a+".json?"+h.toString();break}case"custom":{const a=e.uri;r+=a.slice(0,1)==="/"?a.slice(1):a;break}default:n("abort",400);return}let o=503;Xx(t+r).then(a=>{const c=a.status;if(c!==200){setTimeout(()=>{n(S5(c)?"abort":"next",c)});return}return o=501,a.json()}).then(a=>{if(typeof a!="object"||a===null){setTimeout(()=>{a===404?n("abort",a):n("next",o)});return}setTimeout(()=>{n("success",a)})}).catch(()=>{n("next",o)})},I5={prepare:A5,send:C5};function N5(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((o,a)=>o.provider!==a.provider?o.provider.localeCompare(a.provider):o.prefix!==a.prefix?o.prefix.localeCompare(a.prefix):o.name.localeCompare(a.name));let r={provider:"",prefix:"",name:""};return t.forEach(o=>{if(r.name===o.name&&r.prefix===o.prefix&&r.provider===o.provider)return;r=o;const a=o.provider,c=o.prefix,d=o.name,h=n[a]||(n[a]=Object.create(null)),p=h[c]||(h[c]=ec(a,c));let y;d in p.icons?y=e.loaded:c===""||p.missing.has(d)?y=e.missing:y=e.pending;const v={provider:a,prefix:c,name:d};y.push(v)}),e}function yC(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(o=>o.id!==e))})}function D5(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,o=t.prefix;e.forEach(a=>{const c=a.icons,d=c.pending.length;c.pending=c.pending.filter(h=>{if(h.prefix!==o)return!0;const p=h.name;if(t.icons[p])c.loaded.push({provider:r,prefix:o,name:p});else if(t.missing.has(p))c.missing.push({provider:r,prefix:o,name:p});else return n=!0,!0;return!1}),c.pending.length!==d&&(n||yC([t],a.id),a.callback(c.loaded.slice(0),c.missing.slice(0),c.pending.slice(0),a.abort))})}))}let O5=0;function M5(t,e,n){const r=O5++,o=yC.bind(null,n,r);if(!e.pending.length)return o;const a={id:r,icons:e,callback:t,abort:o};return n.forEach(c=>{(c.loaderCallbacks||(c.loaderCallbacks=[])).push(a)}),o}function k5(t,e=!0,n=!1){const r=[];return t.forEach(o=>{const a=typeof o=="string"?Bm(o,e,n):o;a&&r.push(a)}),r}var P5={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function L5(t,e,n,r){const o=t.resources.length,a=t.random?Math.floor(Math.random()*o):t.index;let c;if(t.random){let Y=t.resources.slice(0);for(c=[];Y.length>1;){const O=Math.floor(Math.random()*Y.length);c.push(Y[O]),Y=Y.slice(0,O).concat(Y.slice(O+1))}c=c.concat(Y)}else c=t.resources.slice(a).concat(t.resources.slice(0,a));const d=Date.now();let h="pending",p=0,y,v=null,w=[],S=[];typeof r=="function"&&S.push(r);function C(){v&&(clearTimeout(v),v=null)}function T(){h==="pending"&&(h="aborted"),C(),w.forEach(Y=>{Y.status==="pending"&&(Y.status="aborted")}),w=[]}function R(Y,O){O&&(S=[]),typeof Y=="function"&&S.push(Y)}function D(){return{startTime:d,payload:e,status:h,queriesSent:p,queriesPending:w.length,subscribe:R,abort:T}}function M(){h="failed",S.forEach(Y=>{Y(void 0,y)})}function L(){w.forEach(Y=>{Y.status==="pending"&&(Y.status="aborted")}),w=[]}function H(Y,O,I){const P=O!=="success";switch(w=w.filter(j=>j!==Y),h){case"pending":break;case"failed":if(P||!t.dataAfterTimeout)return;break;default:return}if(O==="abort"){y=I,M();return}if(P){y=I,w.length||(c.length?$():M());return}if(C(),L(),!t.random){const j=t.resources.indexOf(Y.resource);j!==-1&&j!==t.index&&(t.index=j)}h="completed",S.forEach(j=>{j(I)})}function $(){if(h!=="pending")return;C();const Y=c.shift();if(Y===void 0){if(w.length){v=setTimeout(()=>{C(),h==="pending"&&(L(),M())},t.timeout);return}M();return}const O={status:"pending",resource:Y,callback:(I,P)=>{H(O,I,P)}};w.push(O),p++,v=setTimeout($,t.rotate),n(Y,e,O.callback)}return setTimeout($),D}function vC(t){const e={...P5,...t};let n=[];function r(){n=n.filter(d=>d().status==="pending")}function o(d,h,p){const y=L5(e,d,h,(v,w)=>{r(),p&&p(v,w)});return n.push(y),y}function a(d){return n.find(h=>d(h))||null}return{query:o,find:a,setIndex:d=>{e.index=d},getIndex:()=>e.index,cleanup:r}}function Wx(){}const Iy=Object.create(null);function V5(t){if(!Iy[t]){const e=i0(t);if(!e)return;const n=vC(e),r={config:e,redundancy:n};Iy[t]=r}return Iy[t]}function j5(t,e,n){let r,o;if(typeof t=="string"){const a=Sv(t);if(!a)return n(void 0,424),Wx;o=a.send;const c=V5(t);c&&(r=c.redundancy)}else{const a=n0(t);if(a){r=vC(a);const c=t.resources?t.resources[0]:"",d=Sv(c);d&&(o=d.send)}}return!r||!o?(n(void 0,424),Wx):r.query(e,o,n)().abort}function Zx(){}function U5(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,D5(t)}))}function B5(t){const e=[],n=[];return t.forEach(r=>{(r.match(fC)?e:n).push(r)}),{valid:e,invalid:n}}function Au(t,e,n){function r(){const o=t.pendingIcons;e.forEach(a=>{o&&o.delete(a),t.icons[a]||t.missing.add(a)})}if(n&&typeof n=="object")try{if(!hC(t,n).length){r();return}}catch(o){console.error(o)}r(),U5(t)}function Jx(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function z5(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,o=t.iconsToLoad;if(delete t.iconsToLoad,!o||!o.length)return;const a=t.loadIcon;if(t.loadIcons&&(o.length>1||!a)){Jx(t.loadIcons(o,r,n),y=>{Au(t,o,y)});return}if(a){o.forEach(y=>{const v=a(y,r,n);Jx(v,w=>{const S=w?{prefix:r,icons:{[y]:w}}:null;Au(t,[y],S)})});return}const{valid:c,invalid:d}=B5(o);if(d.length&&Au(t,d,null),!c.length)return;const h=r.match(fC)?Sv(n):null;if(!h){Au(t,c,null);return}h.prepare(n,r,c).forEach(y=>{j5(n,y,v=>{Au(t,y.icons,v)})})}))}const F5=(t,e)=>{const n=k5(t,!0,mC()),r=N5(n);if(!r.pending.length){let h=!0;return e&&setTimeout(()=>{h&&e(r.loaded,r.missing,r.pending,Zx)}),()=>{h=!1}}const o=Object.create(null),a=[];let c,d;return r.pending.forEach(h=>{const{provider:p,prefix:y}=h;if(y===d&&p===c)return;c=p,d=y,a.push(ec(p,y));const v=o[p]||(o[p]=Object.create(null));v[y]||(v[y]=[])}),r.pending.forEach(h=>{const{provider:p,prefix:y,name:v}=h,w=ec(p,y),S=w.pendingIcons||(w.pendingIcons=new Set);S.has(v)||(S.add(v),o[p][y].push(v))}),a.forEach(h=>{const p=o[h.provider][h.prefix];p.length&&z5(h,p)}),e?M5(e,r,a):Zx};function H5(t,e){const n={...t};for(const r in e){const o=e[r],a=typeof o;r in pC?(o===null||o&&(a==="string"||a==="number"))&&(n[r]=o):a===typeof n[r]&&(n[r]=r==="rotate"?o%4:o)}return n}const q5=/[\s,]+/;function $5(t,e){e.split(q5).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function G5(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(o){for(;o<0;)o+=4;return o%4}if(n===""){const o=parseInt(t);return isNaN(o)?0:r(o)}else if(n!==t){let o=0;switch(n){case"%":o=25;break;case"deg":o=90}if(o){let a=parseFloat(t.slice(0,t.length-n.length));return isNaN(a)?0:(a=a/o,a%1===0?r(a):0)}}return e}function K5(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function Y5(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Q5(t){return"data:image/svg+xml,"+Y5(t)}function X5(t){return'url("'+Q5(t)+'")'}let zu;function W5(){try{zu=window.trustedTypes.createPolicy("iconify",{createHTML:t=>t})}catch{zu=null}}function Z5(t){return zu===void 0&&W5(),zu?zu.createHTML(t):t}const _C={...gC,inline:!1},J5={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},e9={display:"inline-block"},Av={backgroundColor:"currentColor"},bC={backgroundColor:"transparent"},eS={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},tS={WebkitMask:Av,mask:Av,background:bC};for(const t in tS){const e=tS[t];for(const n in eS)e[t+n]=eS[n]}const t9={..._C,inline:!0};function nS(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const n9=(t,e,n)=>{const r=e.inline?t9:_C,o=H5(r,e),a=e.mode||"svg",c={},d=e.style||{},h={...a==="svg"?J5:{}};if(n){const R=Bm(n,!1,!0);if(R){const D=["iconify"],M=["provider","prefix"];for(const L of M)R[L]&&D.push("iconify--"+R[L]);h.className=D.join(" ")}}for(let R in e){const D=e[R];if(D!==void 0)switch(R){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":h.ref=D;break;case"className":h[R]=(h[R]?h[R]+" ":"")+D;break;case"inline":case"hFlip":case"vFlip":o[R]=D===!0||D==="true"||D===1;break;case"flip":typeof D=="string"&&$5(o,D);break;case"color":c.color=D;break;case"rotate":typeof D=="string"?o[R]=G5(D):typeof D=="number"&&(o[R]=D);break;case"ariaHidden":case"aria-hidden":D!==!0&&D!=="true"&&delete h["aria-hidden"];break;default:r[R]===void 0&&(h[R]=D)}}const p=g5(t,o),y=p.attributes;if(o.inline&&(c.verticalAlign="-0.125em"),a==="svg"){h.style={...c,...d},Object.assign(h,y);let R=0,D=e.id;return typeof D=="string"&&(D=D.replace(/-/g,"_")),h.dangerouslySetInnerHTML={__html:Z5(b5(p.body,D?()=>D+"ID"+R++:"iconifyReact"))},E.createElement("svg",h)}const{body:v,width:w,height:S}=t,C=a==="mask"||(a==="bg"?!1:v.indexOf("currentColor")!==-1),T=K5(v,{...y,width:w+"",height:S+""});return h.style={...c,"--svg":X5(T),width:nS(y.width),height:nS(y.height),...e9,...C?Av:bC,...d},E.createElement("span",h)};mC(!0);w5("",I5);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!c5(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const o=e[n];if(typeof o!="object"||!o||o.resources===void 0)continue;E5(n,o)||console.error(r)}catch{console.error(r)}}}}function wC(t){const[e,n]=E.useState(!!t.ssr),[r,o]=E.useState({});function a(S){if(S){const C=t.icon;if(typeof C=="object")return{name:"",data:C};const T=Yx(C);if(T)return{name:C,data:T}}return{name:""}}const[c,d]=E.useState(a(!!t.ssr));function h(){const S=r.callback;S&&(S(),o({}))}function p(S){if(JSON.stringify(c)!==JSON.stringify(S))return h(),d(S),!0}function y(){var S;const C=t.icon;if(typeof C=="object"){p({name:"",data:C});return}const T=Yx(C);if(p({name:C,data:T}))if(T===void 0){const R=F5([C],y);o({callback:R})}else T&&((S=t.onLoad)===null||S===void 0||S.call(t,C))}E.useEffect(()=>(n(!0),h),[]),E.useEffect(()=>{e&&y()},[t.icon,e]);const{name:v,data:w}=c;return w?n9({...t0,...w},t,v):t.children?t.children:t.fallback?t.fallback:E.createElement("span",{})}const un=E.forwardRef((t,e)=>wC({...t,_ref:e}));E.forwardRef((t,e)=>wC({inline:!0,...t,_ref:e}));function rS(){const t=fm(),e=async()=>{try{const r=(await lL(A6,R6)).user,o=jt(st,"users",r.uid);(await mr(o)).exists()||await lU(o,{uid:r.uid,displayName:r.displayName,email:r.email,photoURL:r.photoURL,createdAt:new Date}),t("/dashboard")}catch(n){vt("Login error",n)}};return _.jsxs(_.Fragment,{children:[_.jsx(lC,{}),_.jsx("div",{className:"flex items-center justify-center min-h-screen ",children:_.jsxs(p3,{className:"w-full max-w-sm",children:[_.jsxs(g3,{children:[_.jsx(y3,{children:"Login to your account"}),_.jsx(v3,{children:"Enter your email below to login to your account"}),_.jsx(_3,{children:_.jsx(pt,{variant:"link",children:"Sign Up"})})]}),_.jsx(b3,{children:_.jsx("form",{children:_.jsxs("div",{className:"flex flex-col gap-6",children:[_.jsxs("div",{className:"grid gap-2",children:[_.jsx(fs,{htmlFor:"email",children:"Email"}),_.jsx(yi,{id:"email",type:"email",placeholder:"abc@example.com",required:!0,disabled:!0})]}),_.jsxs("div",{className:"grid gap-2",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx(fs,{htmlFor:"password",children:"Password"}),_.jsx("a",{href:"#",className:"ml-auto inline-block text-sm underline-offset-4 hover:underline",children:"Forgot your password?"})]}),_.jsx(yi,{id:"password",disabled:!0,type:"password",required:!0})]})]})})}),_.jsxs(w3,{className:"flex-col gap-2",children:[_.jsx(pt,{type:"submit",className:"w-full",disabled:!0,children:"Login"}),_.jsxs(pt,{variant:"outline",className:"w-full",onClick:e,children:[_.jsx(un,{icon:"flat-color-icons:google",width:"48",height:"48"})," Login with Google"]})]})]})})]})}const ga=t=>{if(!t)return"";const e=t.toDate(),n=new Date,r=n-e,o=Math.floor(r/(1e3*60)),a=Math.floor(r/(1e3*60*60)),c=Math.floor(r/(1e3*60*60*24));return o<1?"Just now":o<60?`${o}m ago`:a<24?`${a}h ago`:c<7?`${c}d ago`:e.getFullYear()===n.getFullYear()?e.toLocaleDateString("en-US",{month:"short",day:"numeric"}):e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};function r9(t,e){const n=E.createContext(e),r=a=>{const{children:c,...d}=a,h=E.useMemo(()=>d,Object.values(d));return _.jsx(n.Provider,{value:h,children:c})};r.displayName=t+"Provider";function o(a){const c=E.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,o]}function Ni(t,e=[]){let n=[];function r(a,c){const d=E.createContext(c),h=n.length;n=[...n,c];const p=v=>{var D;const{scope:w,children:S,...C}=v,T=((D=w==null?void 0:w[t])==null?void 0:D[h])||d,R=E.useMemo(()=>C,Object.values(C));return _.jsx(T.Provider,{value:R,children:S})};p.displayName=a+"Provider";function y(v,w){var T;const S=((T=w==null?void 0:w[t])==null?void 0:T[h])||d,C=E.useContext(S);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,y]}const o=()=>{const a=n.map(c=>E.createContext(c));return function(d){const h=(d==null?void 0:d[t])||a;return E.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[r,i9(o,...e)]}function i9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=r.reduce((d,{useScope:h,scopeName:p})=>{const v=h(a)[`__scope${p}`];return{...d,...v}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function Kr(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var hn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Ny={exports:{}},Dy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function s9(){if(iS)return Dy;iS=1;var t=um();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function d(v,w){var S=w(),C=r({inst:{value:S,getSnapshot:w}}),T=C[0].inst,R=C[1];return a(function(){T.value=S,T.getSnapshot=w,h(T)&&R({inst:T})},[v,S,w]),o(function(){return h(T)&&R({inst:T}),v(function(){h(T)&&R({inst:T})})},[v]),c(S),S}function h(v){var w=v.getSnapshot;v=v.value;try{var S=w();return!n(v,S)}catch{return!0}}function p(v,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Dy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Dy}var sS;function o9(){return sS||(sS=1,Ny.exports=s9()),Ny.exports}var a9=o9();function l9(){return a9.useSyncExternalStore(c9,()=>!0,()=>!1)}function c9(){return()=>{}}var s0="Avatar",[u9,xH]=Ni(s0),[d9,EC]=u9(s0),TC=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[o,a]=E.useState("idle");return _.jsx(d9,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:_.jsx(Ge.span,{...r,ref:e})})});TC.displayName=s0;var xC="AvatarImage",SC=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...a}=t,c=EC(xC,n),d=f9(r,a),h=Kr(p=>{o(p),c.onImageLoadingStatusChange(p)});return hn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?_.jsx(Ge.img,{...a,ref:e,src:r}):null});SC.displayName=xC;var AC="AvatarFallback",RC=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...o}=t,a=EC(AC,n),[c,d]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),c&&a.imageLoadingStatus!=="loaded"?_.jsx(Ge.span,{...o,ref:e}):null});RC.displayName=AC;function oS(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function f9(t,{referrerPolicy:e,crossOrigin:n}){const r=l9(),o=E.useRef(null),a=r?(o.current||(o.current=new window.Image),o.current):null,[c,d]=E.useState(()=>oS(a,t));return hn(()=>{d(oS(a,t))},[a,t]),hn(()=>{const h=v=>()=>{d(v)};if(!a)return;const p=h("loaded"),y=h("error");return a.addEventListener("load",p),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",p),a.removeEventListener("error",y)}},[a,n,e]),c}var h9=TC,m9=SC,p9=RC;function Nr({className:t,...e}){return _.jsx(h9,{"data-slot":"avatar",className:tt("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function Dr({className:t,...e}){return _.jsx(m9,{"data-slot":"avatar-image",className:tt("aspect-square size-full",t),...e})}function Or({className:t,...e}){return _.jsx(p9,{"data-slot":"avatar-fallback",className:tt("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function Ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}var g9=OS[" useId ".trim().toString()]||(()=>{}),y9=0;function gs(t){const[e,n]=E.useState(g9());return hn(()=>{n(r=>r??String(y9++))},[t]),t||(e?`radix-${e}`:"")}var v9=OS[" useInsertionEffect ".trim().toString()]||hn;function tc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,a,c]=_9({defaultProp:e,onChange:n}),d=t!==void 0,h=d?t:o;{const y=E.useRef(t!==void 0);E.useEffect(()=>{const v=y.current;v!==d&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,r])}const p=E.useCallback(y=>{var v;if(d){const w=b9(y)?y(t):y;w!==t&&((v=c.current)==null||v.call(c,w))}else a(y)},[d,t,a,c]);return[h,p]}function _9({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),o=E.useRef(n),a=E.useRef(e);return v9(()=>{a.current=e},[e]),E.useEffect(()=>{var c;o.current!==n&&((c=a.current)==null||c.call(a,n),o.current=n)},[n,o]),[n,r,a]}function b9(t){return typeof t=="function"}function w9(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t);E.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var E9="DismissableLayer",Rv="dismissableLayer.update",T9="dismissableLayer.pointerDownOutside",x9="dismissableLayer.focusOutside",aS,CC=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zm=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...h}=t,p=E.useContext(CC),[y,v]=E.useState(null),w=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=E.useState({}),C=gt(e,O=>v(O)),T=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=T.indexOf(R),M=y?T.indexOf(y):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,H=M>=D,$=R9(O=>{const I=O.target,P=[...p.branches].some(j=>j.contains(I));!H||P||(o==null||o(O),c==null||c(O),O.defaultPrevented||d==null||d())},w),Y=C9(O=>{const I=O.target;[...p.branches].some(j=>j.contains(I))||(a==null||a(O),c==null||c(O),O.defaultPrevented||d==null||d())},w);return w9(O=>{M===p.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},w),E.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(aS=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),lS(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=aS)}},[y,w,n,p]),E.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),lS())},[y,p]),E.useEffect(()=>{const O=()=>S({});return document.addEventListener(Rv,O),()=>document.removeEventListener(Rv,O)},[]),_.jsx(Ge.div,{...h,ref:C,style:{pointerEvents:L?H?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,Y.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,$.onPointerDownCapture)})});zm.displayName=E9;var S9="DismissableLayerBranch",A9=E.forwardRef((t,e)=>{const n=E.useContext(CC),r=E.useRef(null),o=gt(e,r);return E.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),_.jsx(Ge.div,{...t,ref:o})});A9.displayName=S9;function R9(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t),r=E.useRef(!1),o=E.useRef(()=>{});return E.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let h=function(){IC(T9,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function C9(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t),r=E.useRef(!1);return E.useEffect(()=>{const o=a=>{a.target&&!r.current&&IC(x9,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lS(){const t=new CustomEvent(Rv);document.dispatchEvent(t)}function IC(t,e,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?oC(o,a):o.dispatchEvent(a)}var Oy="focusScope.autoFocusOnMount",My="focusScope.autoFocusOnUnmount",cS={bubbles:!1,cancelable:!0},I9="FocusScope",Fm=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=t,[d,h]=E.useState(null),p=Kr(o),y=Kr(a),v=E.useRef(null),w=gt(e,T=>h(T)),S=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(L){if(S.paused||!d)return;const H=L.target;d.contains(H)?v.current=H:uo(v.current,{select:!0})},R=function(L){if(S.paused||!d)return;const H=L.relatedTarget;H!==null&&(d.contains(H)||uo(v.current,{select:!0}))},D=function(L){if(document.activeElement===document.body)for(const $ of L)$.removedNodes.length>0&&uo(d)};document.addEventListener("focusin",T),document.addEventListener("focusout",R);const M=new MutationObserver(D);return d&&M.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",R),M.disconnect()}}},[r,d,S.paused]),E.useEffect(()=>{if(d){dS.add(S);const T=document.activeElement;if(!d.contains(T)){const D=new CustomEvent(Oy,cS);d.addEventListener(Oy,p),d.dispatchEvent(D),D.defaultPrevented||(N9(P9(NC(d)),{select:!0}),document.activeElement===T&&uo(d))}return()=>{d.removeEventListener(Oy,p),setTimeout(()=>{const D=new CustomEvent(My,cS);d.addEventListener(My,y),d.dispatchEvent(D),D.defaultPrevented||uo(T??document.body,{select:!0}),d.removeEventListener(My,y),dS.remove(S)},0)}}},[d,p,y,S]);const C=E.useCallback(T=>{if(!n&&!r||S.paused)return;const R=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,D=document.activeElement;if(R&&D){const M=T.currentTarget,[L,H]=D9(M);L&&H?!T.shiftKey&&D===H?(T.preventDefault(),n&&uo(L,{select:!0})):T.shiftKey&&D===L&&(T.preventDefault(),n&&uo(H,{select:!0})):D===M&&T.preventDefault()}},[n,r,S.paused]);return _.jsx(Ge.div,{tabIndex:-1,...c,ref:w,onKeyDown:C})});Fm.displayName=I9;function N9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(uo(r,{select:e}),document.activeElement!==n)return}function D9(t){const e=NC(t),n=uS(e,t),r=uS(e.reverse(),t);return[n,r]}function NC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uS(t,e){for(const n of t)if(!O9(n,{upTo:e}))return n}function O9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function M9(t){return t instanceof HTMLInputElement&&"select"in t}function uo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&M9(t)&&e&&t.select()}}var dS=k9();function k9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fS(t,e),t.unshift(e)},remove(e){var n;t=fS(t,e),(n=t[0])==null||n.resume()}}}function fS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function P9(t){return t.filter(e=>e.tagName!=="A")}var L9="Portal",Hm=E.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[o,a]=E.useState(!1);hn(()=>a(!0),[]);const c=n||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?WS.createPortal(_.jsx(Ge.div,{...r,ref:e}),c):null});Hm.displayName=L9;function V9(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var As=t=>{const{present:e,children:n}=t,r=j9(e),o=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),a=gt(r.ref,U9(o));return typeof n=="function"||r.isPresent?E.cloneElement(o,{ref:a}):null};As.displayName="Presence";function j9(t){const[e,n]=E.useState(),r=E.useRef(null),o=E.useRef(t),a=E.useRef("none"),c=t?"mounted":"unmounted",[d,h]=V9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const p=oh(r.current);a.current=d==="mounted"?p:"none"},[d]),hn(()=>{const p=r.current,y=o.current;if(y!==t){const w=a.current,S=oh(p);t?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(y&&w!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),hn(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,v=S=>{const T=oh(r.current).includes(S.animationName);if(S.target===e&&T&&(h("ANIMATION_END"),!o.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},w=S=>{S.target===e&&(a.current=oh(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:E.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function oh(t){return(t==null?void 0:t.animationName)||"none"}function U9(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ky=0;function o0(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hS()),document.body.insertAdjacentElement("beforeend",t[1]??hS()),ky++,()=>{ky===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ky--}},[])}function hS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rh="right-scroll-bar-position",Ch="width-before-scroll-bar",B9="with-scroll-bars-hidden",z9="--removed-body-scroll-bar-size";function Py(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function F9(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var H9=typeof window<"u"?E.useLayoutEffect:E.useEffect,mS=new WeakMap;function q9(t,e){var n=F9(null,function(r){return t.forEach(function(o){return Py(o,r)})});return H9(function(){var r=mS.get(n);if(r){var o=new Set(r),a=new Set(t),c=n.current;o.forEach(function(d){a.has(d)||Py(d,null)}),a.forEach(function(d){o.has(d)||Py(d,c)})}mS.set(n,t)},[t]),n}function $9(t){return t}function G9(t,e){e===void 0&&(e=$9);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(a),c=n}var h=function(){var y=c;c=[],y.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(y){c.push(y),p()},filter:function(y){return c=c.filter(y),n}}}};return o}function K9(t){t===void 0&&(t={});var e=G9(null);return e.options=mi({async:!0,ssr:!1},t),e}var DC=function(t){var e=t.sideCar,n=cd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,mi({},n))};DC.isSideCarExport=!0;function Y9(t,e){return t.useMedium(e),DC}var OC=K9(),Ly=function(){},qm=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Ly,onWheelCapture:Ly,onTouchMoveCapture:Ly}),o=r[0],a=r[1],c=t.forwardProps,d=t.children,h=t.className,p=t.removeScrollBar,y=t.enabled,v=t.shards,w=t.sideCar,S=t.noRelative,C=t.noIsolation,T=t.inert,R=t.allowPinchZoom,D=t.as,M=D===void 0?"div":D,L=t.gapMode,H=cd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,Y=q9([n,e]),O=mi(mi({},H),o);return E.createElement(E.Fragment,null,y&&E.createElement($,{sideCar:OC,removeScrollBar:p,shards:v,noRelative:S,noIsolation:C,inert:T,setCallbacks:a,allowPinchZoom:!!R,lockRef:n,gapMode:L}),c?E.cloneElement(E.Children.only(d),mi(mi({},O),{ref:Y})):E.createElement(M,mi({},O,{className:h,ref:Y}),d))});qm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qm.classNames={fullWidth:Ch,zeroRight:Rh};var Q9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function X9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Q9();return e&&t.setAttribute("nonce",e),t}function W9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Z9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var J9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=X9())&&(W9(e,n),Z9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},eB=function(){var t=J9();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MC=function(){var t=eB(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},tB={left:0,top:0,right:0,gap:0},Vy=function(t){return parseInt(t||"",10)||0},nB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Vy(n),Vy(r),Vy(o)]},rB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tB;var e=nB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},iB=MC(),Fl="data-scroll-locked",sB=function(t,e,n,r){var o=t.left,a=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(B9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Fl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Ch,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Rh," .").concat(Rh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ch," .").concat(Ch,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fl,`] {
    `).concat(z9,": ").concat(d,`px;
  }
`)},pS=function(){var t=parseInt(document.body.getAttribute(Fl)||"0",10);return isFinite(t)?t:0},oB=function(){E.useEffect(function(){return document.body.setAttribute(Fl,(pS()+1).toString()),function(){var t=pS()-1;t<=0?document.body.removeAttribute(Fl):document.body.setAttribute(Fl,t.toString())}},[])},aB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;oB();var a=E.useMemo(function(){return rB(o)},[o]);return E.createElement(iB,{styles:sB(a,!e,o,n?"":"!important")})},Cv=!1;if(typeof window<"u")try{var ah=Object.defineProperty({},"passive",{get:function(){return Cv=!0,!0}});window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{Cv=!1}var Nl=Cv?{passive:!1}:!1,lB=function(t){return t.tagName==="TEXTAREA"},kC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lB(t)&&n[e]==="visible")},cB=function(t){return kC(t,"overflowY")},uB=function(t){return kC(t,"overflowX")},gS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=PC(t,r);if(o){var a=LC(t,r),c=a[1],d=a[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},fB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PC=function(t,e){return t==="v"?cB(e):uB(e)},LC=function(t,e){return t==="v"?dB(e):fB(e)},hB=function(t,e){return t==="h"&&e==="rtl"?-1:1},mB=function(t,e,n,r,o){var a=hB(t,window.getComputedStyle(e).direction),c=a*r,d=n.target,h=e.contains(d),p=!1,y=c>0,v=0,w=0;do{if(!d)break;var S=LC(t,d),C=S[0],T=S[1],R=S[2],D=T-R-a*C;(C||D)&&PC(t,d)&&(v+=D,w+=C);var M=d.parentNode;d=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(y&&Math.abs(v)<1||!y&&Math.abs(w)<1)&&(p=!0),p},lh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yS=function(t){return[t.deltaX,t.deltaY]},vS=function(t){return t&&"current"in t?t.current:t},pB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yB=0,Dl=[];function vB(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),o=E.useState(yB++)[0],a=E.useState(MC)[0],c=E.useRef(t);E.useEffect(function(){c.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var T=tP([t.lockRef.current],(t.shards||[]).map(vS),!0).filter(Boolean);return T.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),T.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=E.useCallback(function(T,R){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!c.current.allowPinchZoom;var D=lh(T),M=n.current,L="deltaX"in T?T.deltaX:M[0]-D[0],H="deltaY"in T?T.deltaY:M[1]-D[1],$,Y=T.target,O=Math.abs(L)>Math.abs(H)?"h":"v";if("touches"in T&&O==="h"&&Y.type==="range")return!1;var I=gS(O,Y);if(!I)return!0;if(I?$=O:($=O==="v"?"h":"v",I=gS(O,Y)),!I)return!1;if(!r.current&&"changedTouches"in T&&(L||H)&&(r.current=$),!$)return!0;var P=r.current||$;return mB(P,R,T,P==="h"?L:H)},[]),h=E.useCallback(function(T){var R=T;if(!(!Dl.length||Dl[Dl.length-1]!==a)){var D="deltaY"in R?yS(R):lh(R),M=e.current.filter(function($){return $.name===R.type&&($.target===R.target||R.target===$.shadowParent)&&pB($.delta,D)})[0];if(M&&M.should){R.cancelable&&R.preventDefault();return}if(!M){var L=(c.current.shards||[]).map(vS).filter(Boolean).filter(function($){return $.contains(R.target)}),H=L.length>0?d(R,L[0]):!c.current.noIsolation;H&&R.cancelable&&R.preventDefault()}}},[]),p=E.useCallback(function(T,R,D,M){var L={name:T,delta:R,target:D,should:M,shadowParent:_B(D)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(H){return H!==L})},1)},[]),y=E.useCallback(function(T){n.current=lh(T),r.current=void 0},[]),v=E.useCallback(function(T){p(T.type,yS(T),T.target,d(T,t.lockRef.current))},[]),w=E.useCallback(function(T){p(T.type,lh(T),T.target,d(T,t.lockRef.current))},[]);E.useEffect(function(){return Dl.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Nl),document.addEventListener("touchmove",h,Nl),document.addEventListener("touchstart",y,Nl),function(){Dl=Dl.filter(function(T){return T!==a}),document.removeEventListener("wheel",h,Nl),document.removeEventListener("touchmove",h,Nl),document.removeEventListener("touchstart",y,Nl)}},[]);var S=t.removeScrollBar,C=t.inert;return E.createElement(E.Fragment,null,C?E.createElement(a,{styles:gB(o)}):null,S?E.createElement(aB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _B(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bB=Y9(OC,vB);var $m=E.forwardRef(function(t,e){return E.createElement(qm,mi({},t,{ref:e,sideCar:bB}))});$m.classNames=qm.classNames;var wB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ol=new WeakMap,ch=new WeakMap,uh={},jy=0,VC=function(t){return t&&(t.host||VC(t.parentNode))},EB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=VC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},TB=function(t,e,n,r){var o=EB(e,Array.isArray(t)?t:[t]);uh[n]||(uh[n]=new WeakMap);var a=uh[n],c=[],d=new Set,h=new Set(o),p=function(v){!v||d.has(v)||(d.add(v),p(v.parentNode))};o.forEach(p);var y=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(w){if(d.has(w))y(w);else try{var S=w.getAttribute(r),C=S!==null&&S!=="false",T=(Ol.get(w)||0)+1,R=(a.get(w)||0)+1;Ol.set(w,T),a.set(w,R),c.push(w),T===1&&C&&ch.set(w,!0),R===1&&w.setAttribute(n,"true"),C||w.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",w,D)}})};return y(e),d.clear(),jy++,function(){c.forEach(function(v){var w=Ol.get(v)-1,S=a.get(v)-1;Ol.set(v,w),a.set(v,S),w||(ch.has(v)||v.removeAttribute(r),ch.delete(v)),S||v.removeAttribute(n)}),jy--,jy||(Ol=new WeakMap,Ol=new WeakMap,ch=new WeakMap,uh={})}},a0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=wB(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),TB(r,o,n,"aria-hidden")):function(){return null}},Gm="Dialog",[jC,UC]=Ni(Gm),[xB,Xr]=jC(Gm),BC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,d=E.useRef(null),h=E.useRef(null),[p,y]=tc({prop:r,defaultProp:o??!1,onChange:a,caller:Gm});return _.jsx(xB,{scope:e,triggerRef:d,contentRef:h,contentId:gs(),titleId:gs(),descriptionId:gs(),open:p,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(v=>!v),[y]),modal:c,children:n})};BC.displayName=Gm;var zC="DialogTrigger",FC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Xr(zC,n),a=gt(e,o.triggerRef);return _.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":u0(o.open),...r,ref:a,onClick:Ne(t.onClick,o.onOpenToggle)})});FC.displayName=zC;var l0="DialogPortal",[SB,HC]=jC(l0,{forceMount:void 0}),qC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,a=Xr(l0,e);return _.jsx(SB,{scope:e,forceMount:n,children:E.Children.map(r,c=>_.jsx(As,{present:n||a.open,children:_.jsx(Hm,{asChild:!0,container:o,children:c})}))})};qC.displayName=l0;var nm="DialogOverlay",$C=E.forwardRef((t,e)=>{const n=HC(nm,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=Xr(nm,t.__scopeDialog);return a.modal?_.jsx(As,{present:r||a.open,children:_.jsx(RB,{...o,ref:e})}):null});$C.displayName=nm;var AB=Ra("DialogOverlay.RemoveScroll"),RB=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Xr(nm,n);return _.jsx($m,{as:AB,allowPinchZoom:!0,shards:[o.contentRef],children:_.jsx(Ge.div,{"data-state":u0(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ca="DialogContent",GC=E.forwardRef((t,e)=>{const n=HC(Ca,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=Xr(Ca,t.__scopeDialog);return _.jsx(As,{present:r||a.open,children:a.modal?_.jsx(CB,{...o,ref:e}):_.jsx(IB,{...o,ref:e})})});GC.displayName=Ca;var CB=E.forwardRef((t,e)=>{const n=Xr(Ca,t.__scopeDialog),r=E.useRef(null),o=gt(e,n.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return a0(a)},[]),_.jsx(KC,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&a.preventDefault()}),onFocusOutside:Ne(t.onFocusOutside,a=>a.preventDefault())})}),IB=E.forwardRef((t,e)=>{const n=Xr(Ca,t.__scopeDialog),r=E.useRef(!1),o=E.useRef(!1);return _.jsx(KC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,a),a.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),KC=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=t,d=Xr(Ca,n),h=E.useRef(null),p=gt(e,h);return o0(),_.jsxs(_.Fragment,{children:[_.jsx(Fm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:_.jsx(zm,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":u0(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(DB,{titleId:d.titleId}),_.jsx(MB,{contentRef:h,descriptionId:d.descriptionId})]})]})}),c0="DialogTitle",YC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Xr(c0,n);return _.jsx(Ge.h2,{id:o.titleId,...r,ref:e})});YC.displayName=c0;var QC="DialogDescription",XC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Xr(QC,n);return _.jsx(Ge.p,{id:o.descriptionId,...r,ref:e})});XC.displayName=QC;var WC="DialogClose",ZC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=Xr(WC,n);return _.jsx(Ge.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,()=>o.onOpenChange(!1))})});ZC.displayName=WC;function u0(t){return t?"open":"closed"}var JC="DialogTitleWarning",[NB,eI]=r9(JC,{contentName:Ca,titleName:c0,docsSlug:"dialog"}),DB=({titleId:t})=>{const e=eI(JC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},OB="DialogDescriptionWarning",MB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eI(OB).contentName}}.`;return E.useEffect(()=>{var a;const o=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tI=BC,nI=FC,rI=qC,iI=$C,sI=GC,oI=YC,aI=XC,Km=ZC;/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),_S=t=>{const e=PB(t);return e.charAt(0).toUpperCase()+e.slice(1)},lI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),LB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:c,...d},h)=>E.createElement("svg",{ref:h,...VB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lI("lucide",o),...!a&&!LB(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>E.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=(t,e)=>{const n=E.forwardRef(({className:r,...o},a)=>E.createElement(jB,{ref:a,iconNode:e,className:lI(`lucide-${kB(_S(t))}`,`lucide-${t}`,r),...o}));return n.displayName=_S(t),n};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cI=Ym("check",UB);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uI=Ym("chevron-down",BB);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],FB=Ym("chevron-up",zB);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qB=Ym("x",HB);function Rs({...t}){return _.jsx(tI,{"data-slot":"dialog",...t})}function Cs({...t}){return _.jsx(nI,{"data-slot":"dialog-trigger",...t})}function $B({...t}){return _.jsx(rI,{"data-slot":"dialog-portal",...t})}function Is({...t}){return _.jsx(Km,{"data-slot":"dialog-close",...t})}function GB({className:t,...e}){return _.jsx(iI,{"data-slot":"dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Ns({className:t,children:e,showCloseButton:n=!0,...r}){return _.jsxs($B,{"data-slot":"dialog-portal",children:[_.jsx(GB,{}),_.jsxs(sI,{"data-slot":"dialog-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&_.jsxs(Km,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[_.jsx(qB,{}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ds({className:t,...e}){return _.jsx("div",{"data-slot":"dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Os({className:t,...e}){return _.jsx("div",{"data-slot":"dialog-footer",className:tt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Ms({className:t,...e}){return _.jsx(oI,{"data-slot":"dialog-title",className:tt("text-lg leading-none font-semibold",t),...e})}function Qm({className:t,...e}){return _.jsx(aI,{"data-slot":"dialog-description",className:tt("text-muted-foreground text-sm",t),...e})}function KB({currentUserId:t}){const[e,n]=E.useState(""),[r,o]=E.useState(""),[a,c]=E.useState(""),[d,h]=E.useState(""),[p,y]=E.useState(""),[v,w]=E.useState(""),[S,C]=E.useState(null),[T,R]=E.useState(!1),[D,M]=E.useState(!1);E.useEffect(()=>{async function $(){const Y=await mr(jt(st,"users",t));if(Y.exists()){const O=Y.data();n(O.displayName||""),o(O.department||""),c(O.phone||""),h(O.position||""),y(O.photoURL||""),w(O.photoURL||"")}}$()},[t]);const L=$=>{const Y=$.target.files[0];if(Y){C(Y);const O=URL.createObjectURL(Y);w(O)}},H=async $=>{$.preventDefault(),R(!0);let Y=p;if(S)try{const O=em(),I=Jh(O,`profilePhotos/${t}`);try{await w6(I),await G1(I)}catch(B){if(B.code==="storage/object-not-found")console.log("Old profile photo does not exist. Skipping delete.");else throw B}const P=Jh(O,`profilePhotos/${t}`);await q1(P,S),Y=await $1(P),vt("Profile photo uploaded successfully!")}catch(O){console.error("Error uploading profile photo:",O),vt("Failed to upload profile photo."),R(!1);return}try{const O=jt(st,"users",t);await hc(O,{displayName:e,department:r,phone:a,position:d,photoURL:Y,updatedAt:new Date}),vt("Profile updated successfully!"),M(!1)}catch(O){console.error("Error updating profile:",O),vt.error("Failed to update profile. Please try again.")}finally{R(!1)}};return _.jsxs(Rs,{open:D,onOpenChange:M,children:[_.jsx(Cs,{asChild:!0,children:_.jsxs(pt,{variant:"ghost",className:" w-full mb-1 flex justify-start gap-4 items-center",children:[_.jsx(un,{icon:"iconoir:profile-circle",width:"30",height:"30"})," Manage Profile"]})}),_.jsx(Ns,{className:"sm:max-w-[425px]",children:_.jsxs("form",{onSubmit:H,children:[_.jsxs(Ds,{children:[_.jsx(Ms,{children:"Edit Profile"}),_.jsx(Qm,{children:"To make changes, click save when you're done."})]}),_.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[_.jsxs(Nr,{className:"w-20 h-20",children:[_.jsx(Dr,{src:v||p}),_.jsx(Or,{children:"GP"})]}),_.jsx(pt,{variant:"ghost",type:"button",className:"border",children:_.jsx("label",{htmlFor:"profile-photo",className:"cursor-pointer",children:"Change"})}),_.jsx("input",{type:"file",id:"profile-photo",accept:"image/*",className:"hidden",onChange:L})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx(fs,{htmlFor:"name",className:"mb-1",children:"Name"}),_.jsx(yi,{id:"name",value:e,onChange:$=>n($.target.value)})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx(fs,{htmlFor:"department",className:"mb-1",children:"Department"}),_.jsx(yi,{id:"department",value:r,onChange:$=>o($.target.value)})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx(fs,{htmlFor:"phone",className:"mb-1",children:"Phone"}),_.jsx(yi,{id:"phone",value:a,onChange:$=>c($.target.value)})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx(fs,{htmlFor:"position",className:"mb-1",children:"Position"}),_.jsx(yi,{id:"position",value:d,onChange:$=>h($.target.value)})]}),_.jsxs(Os,{children:[_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",type:"button",disabled:T,children:"Cancel"})}),_.jsxs(pt,{type:"submit",disabled:T,children:[T&&_.jsx(un,{icon:"line-md:loading-alt-loop",width:"16",height:"16",className:"mr-2"}),T?"Updating...":"Save changes"]})]})]})})]})}function YB({users:t,currentUserId:e,handleSelectUser:n}){return _.jsxs(Rs,{children:[_.jsx(Cs,{asChild:!0,children:_.jsxs(pt,{variant:"ghost",className:" w-full mb-1 flex justify-start gap-4 items-center",children:[_.jsx(un,{icon:"solar:user-linear",width:"24",height:"24"}),"Contacts"]})}),_.jsxs(Ns,{className:"sm:max-w-[425px]",children:[_.jsx(Ds,{children:_.jsx(Ms,{children:"Contacts"})}),t.filter(r=>r.id!==e).map(r=>{var o;return _.jsxs("div",{onClick:()=>n(r),className:"flex items-center gap-3 hover:bg-gray-200 rounded-lg p-2",children:[_.jsx(Nr,{className:"w-8 h-8",children:r!=null&&r.photoURL?_.jsx(Dr,{src:r==null?void 0:r.photoURL}):_.jsx(Or,{children:(o=r==null?void 0:r.displayName)==null?void 0:o[0]})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium capitalize",children:r==null?void 0:r.displayName}),_.jsx("p",{className:"text-xs text-gray-500",children:r==null?void 0:r.email})]})]},r.id)}),_.jsx(Os,{children:_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",type:"button",children:"Cancel"})})})]})]})}function dI(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function fI(t){const[e,n]=E.useState(void 0);return hn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,d;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,d=p.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Xm="Checkbox",[QB,SH]=Ni(Xm),[XB,d0]=QB(Xm);function WB(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:o,disabled:a,form:c,name:d,onCheckedChange:h,required:p,value:y="on",internal_do_not_use_render:v}=t,[w,S]=tc({prop:n,defaultProp:o??!1,onChange:h,caller:Xm}),[C,T]=E.useState(null),[R,D]=E.useState(null),M=E.useRef(!1),L=C?!!c||!!C.closest("form"):!0,H={checked:w,disabled:a,setChecked:S,control:C,setControl:T,name:d,form:c,value:y,hasConsumerStoppedPropagationRef:M,required:p,defaultChecked:Eo(o)?!1:o,isFormControl:L,bubbleInput:R,setBubbleInput:D};return _.jsx(XB,{scope:e,...H,children:ZB(v)?v(H):r})}var hI="CheckboxTrigger",mI=E.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},o)=>{const{control:a,value:c,disabled:d,checked:h,required:p,setControl:y,setChecked:v,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:C}=d0(hI,t),T=gt(o,y),R=E.useRef(h);return E.useEffect(()=>{const D=a==null?void 0:a.form;if(D){const M=()=>v(R.current);return D.addEventListener("reset",M),()=>D.removeEventListener("reset",M)}},[a,v]),_.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":Eo(h)?"mixed":h,"aria-required":p,"data-state":bI(h),"data-disabled":d?"":void 0,disabled:d,value:c,...r,ref:T,onKeyDown:Ne(e,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:Ne(n,D=>{v(M=>Eo(M)?!0:!M),C&&S&&(w.current=D.isPropagationStopped(),w.current||D.stopPropagation())})})});mI.displayName=hI;var pI=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:c,disabled:d,value:h,onCheckedChange:p,form:y,...v}=t;return _.jsx(WB,{__scopeCheckbox:n,checked:o,defaultChecked:a,disabled:d,required:c,onCheckedChange:p,name:r,form:y,value:h,internal_do_not_use_render:({isFormControl:w})=>_.jsxs(_.Fragment,{children:[_.jsx(mI,{...v,ref:e,__scopeCheckbox:n}),w&&_.jsx(_I,{__scopeCheckbox:n})]})})});pI.displayName=Xm;var gI="CheckboxIndicator",yI=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...o}=t,a=d0(gI,n);return _.jsx(As,{present:r||Eo(a.checked)||a.checked===!0,children:_.jsx(Ge.span,{"data-state":bI(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});yI.displayName=gI;var vI="CheckboxBubbleInput",_I=E.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:c,required:d,disabled:h,name:p,value:y,form:v,bubbleInput:w,setBubbleInput:S}=d0(vI,t),C=gt(n,S),T=dI(a),R=fI(r);E.useEffect(()=>{const M=w;if(!M)return;const L=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(L,"checked").set,Y=!o.current;if(T!==a&&$){const O=new Event("click",{bubbles:Y});M.indeterminate=Eo(a),$.call(M,Eo(a)?!1:a),M.dispatchEvent(O)}},[w,T,a,o]);const D=E.useRef(Eo(a)?!1:a);return _.jsx(Ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??D.current,required:d,disabled:h,name:p,value:y,form:v,...e,tabIndex:-1,ref:C,style:{...e.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_I.displayName=vI;function ZB(t){return typeof t=="function"}function Eo(t){return t==="indeterminate"}function bI(t){return Eo(t)?"indeterminate":t?"checked":"unchecked"}function wI({className:t,...e}){return _.jsx(pI,{"data-slot":"checkbox",className:tt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:_.jsx(yI,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:_.jsx(cI,{className:"size-3.5"})})})}function JB({users:t,currentUserId:e,submitText:n,onSubmit:r,isLoading:o}){const[a,c]=E.useState(""),[d,h]=E.useState([]),[p,y]=E.useState(!1),v=(T,R)=>{h(D=>R?[...D,T]:D.filter(M=>M!==T))},w=async()=>{if(a.trim()&&d.length>0)try{await r(a.trim(),d),c(""),h([]),y(!1)}catch(T){console.error("Error creating group:",T)}},S=T=>{y(T),T||(c(""),h([]))},C=!a.trim()||d.length===0||o;return _.jsxs(Rs,{open:p,onOpenChange:S,children:[_.jsx(Cs,{asChild:!0,children:_.jsxs(pt,{variant:"ghost",className:"w-full mb-1 flex justify-start gap-4 items-center",children:[_.jsx(un,{icon:"solar:users-group-rounded-linear",width:"24",height:"24"}),"New Group"]})}),_.jsxs(Ns,{className:"sm:max-w-[425px] max-h-[600px] overflow-y-auto",children:[_.jsx(Ds,{children:_.jsx(Ms,{children:"Create New Group"})}),_.jsxs("div",{className:"mb-4",children:[_.jsx(fs,{htmlFor:"group-name",className:"mb-2 block",children:"Group Name *"}),_.jsx(yi,{id:"group-name",placeholder:"Enter group name...",value:a,onChange:T=>c(T.target.value),disabled:o})]}),d.length>0&&_.jsx("div",{className:" p-2 bg-blue-50 rounded-md",children:_.jsxs("p",{className:"text-sm text-blue-700",children:[d.length," user(s) selected"]})}),_.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[_.jsx(fs,{className:"text-sm font-medium",children:"Select Members *"}),t.filter(T=>T.id!==e).map(T=>{var D,M;const R=d.includes(T.id);return _.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border transition-colors ${R?"bg-blue-50 border-blue-200":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>v(T.id,!R),children:[_.jsx(wI,{checked:R,onChange:L=>v(T.id,L),disabled:o}),_.jsx(Nr,{className:"w-10 h-10",children:T!=null&&T.photoURL?_.jsx(Dr,{src:T==null?void 0:T.photoURL,alt:T==null?void 0:T.displayName}):_.jsx(Or,{children:((M=(D=T==null?void 0:T.displayName)==null?void 0:D[0])==null?void 0:M.toUpperCase())||"U"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"font-medium capitalize text-sm",children:(T==null?void 0:T.displayName)||"Unknown User"}),_.jsx("p",{className:"text-xs text-gray-500",children:T==null?void 0:T.email}),(T==null?void 0:T.department)&&_.jsx("p",{className:"text-xs text-blue-600",children:T==null?void 0:T.department})]}),R&&_.jsx(un,{icon:"material-symbols:check-circle",className:"text-blue-500",width:"20",height:"20"})]},T.id)})]}),_.jsxs(Os,{className:"mt-6",children:[_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",type:"button",disabled:o,children:"Cancel"})}),_.jsxs(pt,{onClick:w,type:"submit",disabled:C,children:[o&&_.jsx(un,{icon:"line-md:loading-alt-loop",width:"16",height:"16",className:"mr-2"}),n]})]})]})]})}function f0(t){const e=t+"CollectionProvider",[n,r]=Ni(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=T=>{const{scope:R,children:D}=T,M=ge.useRef(null),L=ge.useRef(new Map).current;return _.jsx(o,{scope:R,itemMap:L,collectionRef:M,children:D})};c.displayName=e;const d=t+"CollectionSlot",h=Ra(d),p=ge.forwardRef((T,R)=>{const{scope:D,children:M}=T,L=a(d,D),H=gt(R,L.collectionRef);return _.jsx(h,{ref:H,children:M})});p.displayName=d;const y=t+"CollectionItemSlot",v="data-radix-collection-item",w=Ra(y),S=ge.forwardRef((T,R)=>{const{scope:D,children:M,...L}=T,H=ge.useRef(null),$=gt(R,H),Y=a(y,D);return ge.useEffect(()=>(Y.itemMap.set(H,{ref:H,...L}),()=>void Y.itemMap.delete(H))),_.jsx(w,{[v]:"",ref:$,children:M})});S.displayName=y;function C(T){const R=a(t+"CollectionConsumer",T);return ge.useCallback(()=>{const M=R.collectionRef.current;if(!M)return[];const L=Array.from(M.querySelectorAll(`[${v}]`));return Array.from(R.itemMap.values()).sort((Y,O)=>L.indexOf(Y.ref.current)-L.indexOf(O.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:c,Slot:p,ItemSlot:S},C,r]}var ez=E.createContext(void 0);function h0(t){const e=E.useContext(ez);return t||e||"ltr"}const tz=["top","right","bottom","left"],Do=Math.min,fr=Math.max,rm=Math.round,dh=Math.floor,Ti=t=>({x:t,y:t}),nz={left:"right",right:"left",bottom:"top",top:"bottom"},rz={start:"end",end:"start"};function Iv(t,e,n){return fr(t,Do(e,n))}function Ts(t,e){return typeof t=="function"?t(e):t}function xs(t){return t.split("-")[0]}function yc(t){return t.split("-")[1]}function m0(t){return t==="x"?"y":"x"}function p0(t){return t==="y"?"height":"width"}function vi(t){return["top","bottom"].includes(xs(t))?"y":"x"}function g0(t){return m0(vi(t))}function iz(t,e,n){n===void 0&&(n=!1);const r=yc(t),o=g0(t),a=p0(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=im(c)),[c,im(c)]}function sz(t){const e=im(t);return[Nv(t),e,Nv(e)]}function Nv(t){return t.replace(/start|end/g,e=>rz[e])}function oz(t,e,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?a:c;default:return[]}}function az(t,e,n,r){const o=yc(t);let a=oz(xs(t),n==="start",r);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Nv)))),a}function im(t){return t.replace(/left|right|bottom|top/g,e=>nz[e])}function lz(t){return{top:0,right:0,bottom:0,left:0,...t}}function EI(t){return typeof t!="number"?lz(t):{top:t,right:t,bottom:t,left:t}}function sm(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function bS(t,e,n){let{reference:r,floating:o}=t;const a=vi(e),c=g0(e),d=p0(c),h=xs(e),p=a==="y",y=r.x+r.width/2-o.width/2,v=r.y+r.height/2-o.height/2,w=r[d]/2-o[d]/2;let S;switch(h){case"top":S={x:y,y:r.y-o.height};break;case"bottom":S={x:y,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:v};break;case"left":S={x:r.x-o.width,y:v};break;default:S={x:r.x,y:r.y}}switch(yc(e)){case"start":S[c]-=w*(n&&p?-1:1);break;case"end":S[c]+=w*(n&&p?-1:1);break}return S}const cz=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,d=a.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:y,y:v}=bS(p,r,h),w=r,S={},C=0;for(let T=0;T<d.length;T++){const{name:R,fn:D}=d[T],{x:M,y:L,data:H,reset:$}=await D({x:y,y:v,initialPlacement:r,placement:w,strategy:o,middlewareData:S,rects:p,platform:c,elements:{reference:t,floating:e}});y=M??y,v=L??v,S={...S,[R]:{...S[R],...H}},$&&C<=50&&(C++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(p=$.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):$.rects),{x:y,y:v}=bS(p,w,h)),T=-1)}return{x:y,y:v,placement:w,strategy:o,middlewareData:S}};async function Ju(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:c,elements:d,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:w=!1,padding:S=0}=Ts(e,t),C=EI(S),R=d[w?v==="floating"?"reference":"floating":v],D=sm(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:y,strategy:h})),M=v==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),H=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},$=sm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:M,offsetParent:L,strategy:h}):M);return{top:(D.top-$.top+C.top)/H.y,bottom:($.bottom-D.bottom+C.bottom)/H.y,left:(D.left-$.left+C.left)/H.x,right:($.right-D.right+C.right)/H.x}}const uz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:a,platform:c,elements:d,middlewareData:h}=e,{element:p,padding:y=0}=Ts(t,e)||{};if(p==null)return{};const v=EI(y),w={x:n,y:r},S=g0(o),C=p0(S),T=await c.getDimensions(p),R=S==="y",D=R?"top":"left",M=R?"bottom":"right",L=R?"clientHeight":"clientWidth",H=a.reference[C]+a.reference[S]-w[S]-a.floating[C],$=w[S]-a.reference[S],Y=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let O=Y?Y[L]:0;(!O||!await(c.isElement==null?void 0:c.isElement(Y)))&&(O=d.floating[L]||a.floating[C]);const I=H/2-$/2,P=O/2-T[C]/2-1,j=Do(v[D],P),B=Do(v[M],P),F=j,V=O-T[C]-B,Se=O/2-T[C]/2+I,_e=Iv(F,Se,V),q=!h.arrow&&yc(o)!=null&&Se!==_e&&a.reference[C]/2-(Se<F?j:B)-T[C]/2<0,se=q?Se<F?Se-F:Se-V:0;return{[S]:w[S]+se,data:{[S]:_e,centerOffset:Se-_e-se,...q&&{alignmentOffset:se}},reset:q}}}),dz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:a,rects:c,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:T=!0,...R}=Ts(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const D=xs(o),M=vi(d),L=xs(d)===d,H=await(h.isRTL==null?void 0:h.isRTL(p.floating)),$=w||(L||!T?[im(d)]:sz(d)),Y=C!=="none";!w&&Y&&$.push(...az(d,T,C,H));const O=[d,...$],I=await Ju(e,R),P=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&P.push(I[D]),v){const Se=iz(o,c,H);P.push(I[Se[0]],I[Se[1]])}if(j=[...j,{placement:o,overflows:P}],!P.every(Se=>Se<=0)){var B,F;const Se=(((B=a.flip)==null?void 0:B.index)||0)+1,_e=O[Se];if(_e&&(!(v==="alignment"?M!==vi(_e):!1)||j.every(Q=>Q.overflows[0]>0&&vi(Q.placement)===M)))return{data:{index:Se,overflows:j},reset:{placement:_e}};let q=(F=j.filter(se=>se.overflows[0]<=0).sort((se,Q)=>se.overflows[1]-Q.overflows[1])[0])==null?void 0:F.placement;if(!q)switch(S){case"bestFit":{var V;const se=(V=j.filter(Q=>{if(Y){const le=vi(Q.placement);return le===M||le==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(le=>le>0).reduce((le,U)=>le+U,0)]).sort((Q,le)=>Q[1]-le[1])[0])==null?void 0:V[0];se&&(q=se);break}case"initialPlacement":q=d;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function wS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ES(t){return tz.some(e=>t[e]>=0)}const fz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Ts(t,e);switch(r){case"referenceHidden":{const a=await Ju(e,{...o,elementContext:"reference"}),c=wS(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ES(c)}}}case"escaped":{const a=await Ju(e,{...o,altBoundary:!0}),c=wS(a,n.floating);return{data:{escapedOffsets:c,escaped:ES(c)}}}default:return{}}}}};async function hz(t,e){const{placement:n,platform:r,elements:o}=t,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=xs(n),d=yc(n),h=vi(n)==="y",p=["left","top"].includes(c)?-1:1,y=a&&h?-1:1,v=Ts(e,t);let{mainAxis:w,crossAxis:S,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof C=="number"&&(S=d==="end"?C*-1:C),h?{x:S*y,y:w*p}:{x:w*p,y:S*y}}const mz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:a,placement:c,middlewareData:d}=e,h=await hz(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:c}}}}},pz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:R=>{let{x:D,y:M}=R;return{x:D,y:M}}},...h}=Ts(t,e),p={x:n,y:r},y=await Ju(e,h),v=vi(xs(o)),w=m0(v);let S=p[w],C=p[v];if(a){const R=w==="y"?"top":"left",D=w==="y"?"bottom":"right",M=S+y[R],L=S-y[D];S=Iv(M,S,L)}if(c){const R=v==="y"?"top":"left",D=v==="y"?"bottom":"right",M=C+y[R],L=C-y[D];C=Iv(M,C,L)}const T=d.fn({...e,[w]:S,[v]:C});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[w]:a,[v]:c}}}}}},gz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:a,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=Ts(t,e),y={x:n,y:r},v=vi(o),w=m0(v);let S=y[w],C=y[v];const T=Ts(d,e),R=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(h){const L=w==="y"?"height":"width",H=a.reference[w]-a.floating[L]+R.mainAxis,$=a.reference[w]+a.reference[L]-R.mainAxis;S<H?S=H:S>$&&(S=$)}if(p){var D,M;const L=w==="y"?"width":"height",H=["top","left"].includes(xs(o)),$=a.reference[v]-a.floating[L]+(H&&((D=c.offset)==null?void 0:D[v])||0)+(H?0:R.crossAxis),Y=a.reference[v]+a.reference[L]+(H?0:((M=c.offset)==null?void 0:M[v])||0)-(H?R.crossAxis:0);C<$?C=$:C>Y&&(C=Y)}return{[w]:S,[v]:C}}}},yz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:a,platform:c,elements:d}=e,{apply:h=()=>{},...p}=Ts(t,e),y=await Ju(e,p),v=xs(o),w=yc(o),S=vi(o)==="y",{width:C,height:T}=a.floating;let R,D;v==="top"||v==="bottom"?(R=v,D=w===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(D=v,R=w==="end"?"top":"bottom");const M=T-y.top-y.bottom,L=C-y.left-y.right,H=Do(T-y[R],M),$=Do(C-y[D],L),Y=!e.middlewareData.shift;let O=H,I=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=M),Y&&!w){const j=fr(y.left,0),B=fr(y.right,0),F=fr(y.top,0),V=fr(y.bottom,0);S?I=C-2*(j!==0||B!==0?j+B:fr(y.left,y.right)):O=T-2*(F!==0||V!==0?F+V:fr(y.top,y.bottom))}await h({...e,availableWidth:I,availableHeight:O});const P=await c.getDimensions(d.floating);return C!==P.width||T!==P.height?{reset:{rects:!0}}:{}}}};function Wm(){return typeof window<"u"}function vc(t){return TI(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Di(t){var e;return(e=(TI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TI(t){return Wm()?t instanceof Node||t instanceof gr(t).Node:!1}function Yr(t){return Wm()?t instanceof Element||t instanceof gr(t).Element:!1}function Ri(t){return Wm()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function TS(t){return!Wm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}function Ed(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function vz(t){return["table","td","th"].includes(vc(t))}function Zm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function y0(t){const e=v0(),n=Yr(t)?Qr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _z(t){let e=Oo(t);for(;Ri(e)&&!nc(e);){if(y0(e))return e;if(Zm(e))return null;e=Oo(e)}return null}function v0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nc(t){return["html","body","#document"].includes(vc(t))}function Qr(t){return gr(t).getComputedStyle(t)}function Jm(t){return Yr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oo(t){if(vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TS(t)&&t.host||Di(t);return TS(e)?e.host:e}function xI(t){const e=Oo(t);return nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ri(e)&&Ed(e)?e:xI(e)}function ed(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=xI(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),c=gr(o);if(a){const d=Dv(c);return e.concat(c,c.visualViewport||[],Ed(o)?o:[],d&&n?ed(d):[])}return e.concat(o,ed(o,[],n))}function Dv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SI(t){const e=Qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ri(t),a=o?t.offsetWidth:n,c=o?t.offsetHeight:r,d=rm(n)!==a||rm(r)!==c;return d&&(n=a,r=c),{width:n,height:r,$:d}}function _0(t){return Yr(t)?t:t.contextElement}function Hl(t){const e=_0(t);if(!Ri(e))return Ti(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:a}=SI(e);let c=(a?rm(n.width):n.width)/r,d=(a?rm(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const bz=Ti(0);function AI(t){const e=gr(t);return!v0()||!e.visualViewport?bz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function Ia(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=_0(t);let c=Ti(1);e&&(r?Yr(r)&&(c=Hl(r)):c=Hl(t));const d=wz(a,n,r)?AI(a):Ti(0);let h=(o.left+d.x)/c.x,p=(o.top+d.y)/c.y,y=o.width/c.x,v=o.height/c.y;if(a){const w=gr(a),S=r&&Yr(r)?gr(r):r;let C=w,T=Dv(C);for(;T&&r&&S!==C;){const R=Hl(T),D=T.getBoundingClientRect(),M=Qr(T),L=D.left+(T.clientLeft+parseFloat(M.paddingLeft))*R.x,H=D.top+(T.clientTop+parseFloat(M.paddingTop))*R.y;h*=R.x,p*=R.y,y*=R.x,v*=R.y,h+=L,p+=H,C=gr(T),T=Dv(C)}}return sm({width:y,height:v,x:h,y:p})}function b0(t,e){const n=Jm(t).scrollLeft;return e?e.left+n:Ia(Di(t)).left+n}function RI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:b0(t,r)),a=r.top+e.scrollTop;return{x:o,y:a}}function Ez(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const a=o==="fixed",c=Di(r),d=e?Zm(e.floating):!1;if(r===c||d&&a)return n;let h={scrollLeft:0,scrollTop:0},p=Ti(1);const y=Ti(0),v=Ri(r);if((v||!v&&!a)&&((vc(r)!=="body"||Ed(c))&&(h=Jm(r)),Ri(r))){const S=Ia(r);p=Hl(r),y.x=S.x+r.clientLeft,y.y=S.y+r.clientTop}const w=c&&!v&&!a?RI(c,h,!0):Ti(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+y.x+w.x,y:n.y*p.y-h.scrollTop*p.y+y.y+w.y}}function Tz(t){return Array.from(t.getClientRects())}function xz(t){const e=Di(t),n=Jm(t),r=t.ownerDocument.body,o=fr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=fr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+b0(t);const d=-n.scrollTop;return Qr(r).direction==="rtl"&&(c+=fr(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:c,y:d}}function Sz(t,e){const n=gr(t),r=Di(t),o=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,d=0,h=0;if(o){a=o.width,c=o.height;const p=v0();(!p||p&&e==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}return{width:a,height:c,x:d,y:h}}function Az(t,e){const n=Ia(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,a=Ri(t)?Hl(t):Ti(1),c=t.clientWidth*a.x,d=t.clientHeight*a.y,h=o*a.x,p=r*a.y;return{width:c,height:d,x:h,y:p}}function xS(t,e,n){let r;if(e==="viewport")r=Sz(t,n);else if(e==="document")r=xz(Di(t));else if(Yr(e))r=Az(e,n);else{const o=AI(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return sm(r)}function CI(t,e){const n=Oo(t);return n===e||!Yr(n)||nc(n)?!1:Qr(n).position==="fixed"||CI(n,e)}function Rz(t,e){const n=e.get(t);if(n)return n;let r=ed(t,[],!1).filter(d=>Yr(d)&&vc(d)!=="body"),o=null;const a=Qr(t).position==="fixed";let c=a?Oo(t):t;for(;Yr(c)&&!nc(c);){const d=Qr(c),h=y0(c);!h&&d.position==="fixed"&&(o=null),(a?!h&&!o:!h&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ed(c)&&!h&&CI(t,c))?r=r.filter(y=>y!==c):o=d,c=Oo(c)}return e.set(t,r),r}function Cz(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const c=[...n==="clippingAncestors"?Zm(e)?[]:Rz(e,this._c):[].concat(n),r],d=c[0],h=c.reduce((p,y)=>{const v=xS(e,y,o);return p.top=fr(v.top,p.top),p.right=Do(v.right,p.right),p.bottom=Do(v.bottom,p.bottom),p.left=fr(v.left,p.left),p},xS(e,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Iz(t){const{width:e,height:n}=SI(t);return{width:e,height:n}}function Nz(t,e,n){const r=Ri(e),o=Di(e),a=n==="fixed",c=Ia(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=Ti(0);function p(){h.x=b0(o)}if(r||!r&&!a)if((vc(e)!=="body"||Ed(o))&&(d=Jm(e)),r){const S=Ia(e,!0,a,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else o&&p();a&&!r&&o&&p();const y=o&&!r&&!a?RI(o,d):Ti(0),v=c.left+d.scrollLeft-h.x-y.x,w=c.top+d.scrollTop-h.y-y.y;return{x:v,y:w,width:c.width,height:c.height}}function Uy(t){return Qr(t).position==="static"}function SS(t,e){if(!Ri(t)||Qr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Di(t)===n&&(n=n.ownerDocument.body),n}function II(t,e){const n=gr(t);if(Zm(t))return n;if(!Ri(t)){let o=Oo(t);for(;o&&!nc(o);){if(Yr(o)&&!Uy(o))return o;o=Oo(o)}return n}let r=SS(t,e);for(;r&&vz(r)&&Uy(r);)r=SS(r,e);return r&&nc(r)&&Uy(r)&&!y0(r)?n:r||_z(t)||n}const Dz=async function(t){const e=this.getOffsetParent||II,n=this.getDimensions,r=await n(t.floating);return{reference:Nz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Oz(t){return Qr(t).direction==="rtl"}const Mz={convertOffsetParentRelativeRectToViewportRelativeRect:Ez,getDocumentElement:Di,getClippingRect:Cz,getOffsetParent:II,getElementRects:Dz,getClientRects:Tz,getDimensions:Iz,getScale:Hl,isElement:Yr,isRTL:Oz};function NI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kz(t,e){let n=null,r;const o=Di(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:y,top:v,width:w,height:S}=p;if(d||e(),!w||!S)return;const C=dh(v),T=dh(o.clientWidth-(y+w)),R=dh(o.clientHeight-(v+S)),D=dh(y),L={rootMargin:-C+"px "+-T+"px "+-R+"px "+-D+"px",threshold:fr(0,Do(1,h))||1};let H=!0;function $(Y){const O=Y[0].intersectionRatio;if(O!==h){if(!H)return c();O?c(!1,O):r=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!NI(p,t.getBoundingClientRect())&&c(),H=!1}try{n=new IntersectionObserver($,{...L,root:o.ownerDocument})}catch{n=new IntersectionObserver($,L)}n.observe(t)}return c(!0),a}function Pz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=_0(t),y=o||a?[...p?ed(p):[],...ed(e)]:[];y.forEach(D=>{o&&D.addEventListener("scroll",n,{passive:!0}),a&&D.addEventListener("resize",n)});const v=p&&d?kz(p,n):null;let w=-1,S=null;c&&(S=new ResizeObserver(D=>{let[M]=D;M&&M.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var L;(L=S)==null||L.observe(e)})),n()}),p&&!h&&S.observe(p),S.observe(e));let C,T=h?Ia(t):null;h&&R();function R(){const D=Ia(t);T&&!NI(T,D)&&n(),T=D,C=requestAnimationFrame(R)}return n(),()=>{var D;y.forEach(M=>{o&&M.removeEventListener("scroll",n),a&&M.removeEventListener("resize",n)}),v==null||v(),(D=S)==null||D.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const Lz=mz,Vz=pz,jz=dz,Uz=yz,Bz=fz,AS=uz,zz=gz,Fz=(t,e,n)=>{const r=new Map,o={platform:Mz,...n},a={...o.platform,_c:r};return cz(t,e,{...o,platform:a})};var Hz=typeof document<"u",qz=function(){},Ih=Hz?E.useLayoutEffect:qz;function om(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!om(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&t.$$typeof)&&!om(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function DI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function RS(t,e){const n=DI(t);return Math.round(e*n)/n}function By(t){const e=E.useRef(t);return Ih(()=>{e.current=t}),e}function $z(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:h,open:p}=t,[y,v]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=E.useState(r);om(w,r)||S(r);const[C,T]=E.useState(null),[R,D]=E.useState(null),M=E.useCallback(Q=>{Q!==Y.current&&(Y.current=Q,T(Q))},[]),L=E.useCallback(Q=>{Q!==O.current&&(O.current=Q,D(Q))},[]),H=a||C,$=c||R,Y=E.useRef(null),O=E.useRef(null),I=E.useRef(y),P=h!=null,j=By(h),B=By(o),F=By(p),V=E.useCallback(()=>{if(!Y.current||!O.current)return;const Q={placement:e,strategy:n,middleware:w};B.current&&(Q.platform=B.current),Fz(Y.current,O.current,Q).then(le=>{const U={...le,isPositioned:F.current!==!1};Se.current&&!om(I.current,U)&&(I.current=U,od.flushSync(()=>{v(U)}))})},[w,e,n,B,F]);Ih(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[p]);const Se=E.useRef(!1);Ih(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Ih(()=>{if(H&&(Y.current=H),$&&(O.current=$),H&&$){if(j.current)return j.current(H,$,V);V()}},[H,$,V,j,P]);const _e=E.useMemo(()=>({reference:Y,floating:O,setReference:M,setFloating:L}),[M,L]),q=E.useMemo(()=>({reference:H,floating:$}),[H,$]),se=E.useMemo(()=>{const Q={position:n,left:0,top:0};if(!q.floating)return Q;const le=RS(q.floating,y.x),U=RS(q.floating,y.y);return d?{...Q,transform:"translate("+le+"px, "+U+"px)",...DI(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:U}},[n,d,q.floating,y.x,y.y]);return E.useMemo(()=>({...y,update:V,refs:_e,elements:q,floatingStyles:se}),[y,V,_e,q,se])}const Gz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AS({element:r.current,padding:o}).fn(n):{}:r?AS({element:r,padding:o}).fn(n):{}}}},Kz=(t,e)=>({...Lz(t),options:[t,e]}),Yz=(t,e)=>({...Vz(t),options:[t,e]}),Qz=(t,e)=>({...zz(t),options:[t,e]}),Xz=(t,e)=>({...jz(t),options:[t,e]}),Wz=(t,e)=>({...Uz(t),options:[t,e]}),Zz=(t,e)=>({...Bz(t),options:[t,e]}),Jz=(t,e)=>({...Gz(t),options:[t,e]});var eF="Arrow",OI=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...a}=t;return _.jsx(Ge.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});OI.displayName=eF;var tF=OI,w0="Popper",[MI,ep]=Ni(w0),[nF,kI]=MI(w0),PI=t=>{const{__scopePopper:e,children:n}=t,[r,o]=E.useState(null);return _.jsx(nF,{scope:e,anchor:r,onAnchorChange:o,children:n})};PI.displayName=w0;var LI="PopperAnchor",VI=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,a=kI(LI,n),c=E.useRef(null),d=gt(e,c);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:_.jsx(Ge.div,{...o,ref:d})});VI.displayName=LI;var E0="PopperContent",[rF,iF]=MI(E0),jI=E.forwardRef((t,e)=>{var he,Ee,ke,Oe,Ve,ze;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:C,...T}=t,R=kI(E0,n),[D,M]=E.useState(null),L=gt(e,Rt=>M(Rt)),[H,$]=E.useState(null),Y=fI(H),O=(Y==null?void 0:Y.width)??0,I=(Y==null?void 0:Y.height)??0,P=r+(a!=="center"?"-"+a:""),j=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},B=Array.isArray(p)?p:[p],F=B.length>0,V={padding:j,boundary:B.filter(oF),altBoundary:F},{refs:Se,floatingStyles:_e,placement:q,isPositioned:se,middlewareData:Q}=$z({strategy:"fixed",placement:P,whileElementsMounted:(...Rt)=>Pz(...Rt,{animationFrame:S==="always"}),elements:{reference:R.anchor},middleware:[Kz({mainAxis:o+I,alignmentAxis:c}),h&&Yz({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Qz():void 0,...V}),h&&Xz({...V}),Wz({...V,apply:({elements:Rt,rects:ne,availableWidth:ve,availableHeight:Te})=>{const{width:xe,height:Xe}=ne.reference,nt=Rt.floating.style;nt.setProperty("--radix-popper-available-width",`${ve}px`),nt.setProperty("--radix-popper-available-height",`${Te}px`),nt.setProperty("--radix-popper-anchor-width",`${xe}px`),nt.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),H&&Jz({element:H,padding:d}),aF({arrowWidth:O,arrowHeight:I}),w&&Zz({strategy:"referenceHidden",...V})]}),[le,U]=zI(q),J=Kr(C);hn(()=>{se&&(J==null||J())},[se,J]);const ae=(he=Q.arrow)==null?void 0:he.x,re=(Ee=Q.arrow)==null?void 0:Ee.y,me=((ke=Q.arrow)==null?void 0:ke.centerOffset)!==0,[Ae,pe]=E.useState();return hn(()=>{D&&pe(window.getComputedStyle(D).zIndex)},[D]),_.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:se?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(Oe=Q.transformOrigin)==null?void 0:Oe.x,(Ve=Q.transformOrigin)==null?void 0:Ve.y].join(" "),...((ze=Q.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(rF,{scope:n,placedSide:le,onArrowChange:$,arrowX:ae,arrowY:re,shouldHideArrow:me,children:_.jsx(Ge.div,{"data-side":le,"data-align":U,...T,ref:L,style:{...T.style,animation:se?void 0:"none"}})})})});jI.displayName=E0;var UI="PopperArrow",sF={top:"bottom",right:"left",bottom:"top",left:"right"},BI=E.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,a=iF(UI,r),c=sF[a.placedSide];return _.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:_.jsx(tF,{...o,ref:n,style:{...o.style,display:"block"}})})});BI.displayName=UI;function oF(t){return t!==null}var aF=t=>({name:"transformOrigin",options:t,fn(e){var R,D,M;const{placement:n,rects:r,middlewareData:o}=e,c=((R=o.arrow)==null?void 0:R.centerOffset)!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[p,y]=zI(n),v={start:"0%",center:"50%",end:"100%"}[y],w=(((D=o.arrow)==null?void 0:D.x)??0)+d/2,S=(((M=o.arrow)==null?void 0:M.y)??0)+h/2;let C="",T="";return p==="bottom"?(C=c?v:`${w}px`,T=`${-h}px`):p==="top"?(C=c?v:`${w}px`,T=`${r.floating.height+h}px`):p==="right"?(C=`${-h}px`,T=c?v:`${S}px`):p==="left"&&(C=`${r.floating.width+h}px`,T=c?v:`${S}px`),{data:{x:C,y:T}}}});function zI(t){const[e,n="center"]=t.split("-");return[e,n]}var FI=PI,HI=VI,qI=jI,$I=BI,zy="rovingFocusGroup.onEntryFocus",lF={bubbles:!1,cancelable:!0},Td="RovingFocusGroup",[Ov,GI,cF]=f0(Td),[uF,KI]=Ni(Td,[cF]),[dF,fF]=uF(Td),YI=E.forwardRef((t,e)=>_.jsx(Ov.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(Ov.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(hF,{...t,ref:e})})}));YI.displayName=Td;var hF=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...v}=t,w=E.useRef(null),S=gt(e,w),C=h0(a),[T,R]=tc({prop:c,defaultProp:d??null,onChange:h,caller:Td}),[D,M]=E.useState(!1),L=Kr(p),H=GI(n),$=E.useRef(!1),[Y,O]=E.useState(0);return E.useEffect(()=>{const I=w.current;if(I)return I.addEventListener(zy,L),()=>I.removeEventListener(zy,L)},[L]),_.jsx(dF,{scope:n,orientation:r,dir:C,loop:o,currentTabStopId:T,onItemFocus:E.useCallback(I=>R(I),[R]),onItemShiftTab:E.useCallback(()=>M(!0),[]),onFocusableItemAdd:E.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:E.useCallback(()=>O(I=>I-1),[]),children:_.jsx(Ge.div,{tabIndex:D||Y===0?-1:0,"data-orientation":r,...v,ref:S,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{$.current=!0}),onFocus:Ne(t.onFocus,I=>{const P=!$.current;if(I.target===I.currentTarget&&P&&!D){const j=new CustomEvent(zy,lF);if(I.currentTarget.dispatchEvent(j),!j.defaultPrevented){const B=H().filter(q=>q.focusable),F=B.find(q=>q.active),V=B.find(q=>q.id===T),_e=[F,V,...B].filter(Boolean).map(q=>q.ref.current);WI(_e,y)}}$.current=!1}),onBlur:Ne(t.onBlur,()=>M(!1))})})}),QI="RovingFocusGroupItem",XI=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:c,...d}=t,h=gs(),p=a||h,y=fF(QI,n),v=y.currentTabStopId===p,w=GI(n),{onFocusableItemAdd:S,onFocusableItemRemove:C,currentTabStopId:T}=y;return E.useEffect(()=>{if(r)return S(),()=>C()},[r,S,C]),_.jsx(Ov.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:_.jsx(Ge.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...d,ref:e,onMouseDown:Ne(t.onMouseDown,R=>{r?y.onItemFocus(p):R.preventDefault()}),onFocus:Ne(t.onFocus,()=>y.onItemFocus(p)),onKeyDown:Ne(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){y.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const D=gF(R,y.orientation,y.dir);if(D!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let L=w().filter(H=>H.focusable).map(H=>H.ref.current);if(D==="last")L.reverse();else if(D==="prev"||D==="next"){D==="prev"&&L.reverse();const H=L.indexOf(R.currentTarget);L=y.loop?yF(L,H+1):L.slice(H+1)}setTimeout(()=>WI(L))}}),children:typeof c=="function"?c({isCurrentTabStop:v,hasTabStop:T!=null}):c})})});XI.displayName=QI;var mF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pF(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function gF(t,e,n){const r=pF(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mF[r]}function WI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function yF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vF=YI,_F=XI,Mv=["Enter"," "],bF=["ArrowDown","PageUp","Home"],ZI=["ArrowUp","PageDown","End"],wF=[...bF,...ZI],EF={ltr:[...Mv,"ArrowRight"],rtl:[...Mv,"ArrowLeft"]},TF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xd="Menu",[td,xF,SF]=f0(xd),[Va,JI]=Ni(xd,[SF,ep,KI]),tp=ep(),eN=KI(),[AF,ja]=Va(xd),[RF,Sd]=Va(xd),tN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:a,modal:c=!0}=t,d=tp(e),[h,p]=E.useState(null),y=E.useRef(!1),v=Kr(a),w=h0(o);return E.useEffect(()=>{const S=()=>{y.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>y.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),_.jsx(FI,{...d,children:_.jsx(AF,{scope:e,open:n,onOpenChange:v,content:h,onContentChange:p,children:_.jsx(RF,{scope:e,onClose:E.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:y,dir:w,modal:c,children:r})})})};tN.displayName=xd;var CF="MenuAnchor",T0=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=tp(n);return _.jsx(HI,{...o,...r,ref:e})});T0.displayName=CF;var x0="MenuPortal",[IF,nN]=Va(x0,{forceMount:void 0}),rN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,a=ja(x0,e);return _.jsx(IF,{scope:e,forceMount:n,children:_.jsx(As,{present:n||a.open,children:_.jsx(Hm,{asChild:!0,container:o,children:r})})})};rN.displayName=x0;var Mr="MenuContent",[NF,S0]=Va(Mr),iN=E.forwardRef((t,e)=>{const n=nN(Mr,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,a=ja(Mr,t.__scopeMenu),c=Sd(Mr,t.__scopeMenu);return _.jsx(td.Provider,{scope:t.__scopeMenu,children:_.jsx(As,{present:r||a.open,children:_.jsx(td.Slot,{scope:t.__scopeMenu,children:c.modal?_.jsx(DF,{...o,ref:e}):_.jsx(OF,{...o,ref:e})})})})}),DF=E.forwardRef((t,e)=>{const n=ja(Mr,t.__scopeMenu),r=E.useRef(null),o=gt(e,r);return E.useEffect(()=>{const a=r.current;if(a)return a0(a)},[]),_.jsx(A0,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ne(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),OF=E.forwardRef((t,e)=>{const n=ja(Mr,t.__scopeMenu);return _.jsx(A0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),MF=Ra("MenuContent.ScrollLock"),A0=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:w,onDismiss:S,disableOutsideScroll:C,...T}=t,R=ja(Mr,n),D=Sd(Mr,n),M=tp(n),L=eN(n),H=xF(n),[$,Y]=E.useState(null),O=E.useRef(null),I=gt(e,O,R.onContentChange),P=E.useRef(0),j=E.useRef(""),B=E.useRef(0),F=E.useRef(null),V=E.useRef("right"),Se=E.useRef(0),_e=C?$m:E.Fragment,q=C?{as:MF,allowPinchZoom:!0}:void 0,se=le=>{var he,Ee;const U=j.current+le,J=H().filter(ke=>!ke.disabled),ae=document.activeElement,re=(he=J.find(ke=>ke.ref.current===ae))==null?void 0:he.textValue,me=J.map(ke=>ke.textValue),Ae=$F(me,U,re),pe=(Ee=J.find(ke=>ke.textValue===Ae))==null?void 0:Ee.ref.current;(function ke(Oe){j.current=Oe,window.clearTimeout(P.current),Oe!==""&&(P.current=window.setTimeout(()=>ke(""),1e3))})(U),pe&&setTimeout(()=>pe.focus())};E.useEffect(()=>()=>window.clearTimeout(P.current),[]),o0();const Q=E.useCallback(le=>{var J,ae;return V.current===((J=F.current)==null?void 0:J.side)&&KF(le,(ae=F.current)==null?void 0:ae.area)},[]);return _.jsx(NF,{scope:n,searchRef:j,onItemEnter:E.useCallback(le=>{Q(le)&&le.preventDefault()},[Q]),onItemLeave:E.useCallback(le=>{var U;Q(le)||((U=O.current)==null||U.focus(),Y(null))},[Q]),onTriggerLeave:E.useCallback(le=>{Q(le)&&le.preventDefault()},[Q]),pointerGraceTimerRef:B,onPointerGraceIntentChange:E.useCallback(le=>{F.current=le},[]),children:_.jsx(_e,{...q,children:_.jsx(Fm,{asChild:!0,trapped:o,onMountAutoFocus:Ne(a,le=>{var U;le.preventDefault(),(U=O.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:_.jsx(zm,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:w,onDismiss:S,children:_.jsx(vF,{asChild:!0,...L,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:Y,onEntryFocus:Ne(h,le=>{D.isUsingKeyboardRef.current||le.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(qI,{role:"menu","aria-orientation":"vertical","data-state":bN(R.open),"data-radix-menu-content":"",dir:D.dir,...M,...T,ref:I,style:{outline:"none",...T.style},onKeyDown:Ne(T.onKeyDown,le=>{const J=le.target.closest("[data-radix-menu-content]")===le.currentTarget,ae=le.ctrlKey||le.altKey||le.metaKey,re=le.key.length===1;J&&(le.key==="Tab"&&le.preventDefault(),!ae&&re&&se(le.key));const me=O.current;if(le.target!==me||!wF.includes(le.key))return;le.preventDefault();const pe=H().filter(he=>!he.disabled).map(he=>he.ref.current);ZI.includes(le.key)&&pe.reverse(),HF(pe)}),onBlur:Ne(t.onBlur,le=>{le.currentTarget.contains(le.target)||(window.clearTimeout(P.current),j.current="")}),onPointerMove:Ne(t.onPointerMove,nd(le=>{const U=le.target,J=Se.current!==le.clientX;if(le.currentTarget.contains(U)&&J){const ae=le.clientX>Se.current?"right":"left";V.current=ae,Se.current=le.clientX}}))})})})})})})});iN.displayName=Mr;var kF="MenuGroup",R0=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(Ge.div,{role:"group",...r,ref:e})});R0.displayName=kF;var PF="MenuLabel",sN=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(Ge.div,{...r,ref:e})});sN.displayName=PF;var am="MenuItem",CS="menu.itemSelect",np=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,a=E.useRef(null),c=Sd(am,t.__scopeMenu),d=S0(am,t.__scopeMenu),h=gt(e,a),p=E.useRef(!1),y=()=>{const v=a.current;if(!n&&v){const w=new CustomEvent(CS,{bubbles:!0,cancelable:!0});v.addEventListener(CS,S=>r==null?void 0:r(S),{once:!0}),oC(v,w),w.defaultPrevented?p.current=!1:c.onClose()}};return _.jsx(oN,{...o,ref:h,disabled:n,onClick:Ne(t.onClick,y),onPointerDown:v=>{var w;(w=t.onPointerDown)==null||w.call(t,v),p.current=!0},onPointerUp:Ne(t.onPointerUp,v=>{var w;p.current||(w=v.currentTarget)==null||w.click()}),onKeyDown:Ne(t.onKeyDown,v=>{const w=d.searchRef.current!=="";n||w&&v.key===" "||Mv.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});np.displayName=am;var oN=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=t,c=S0(am,n),d=eN(n),h=E.useRef(null),p=gt(e,h),[y,v]=E.useState(!1),[w,S]=E.useState("");return E.useEffect(()=>{const C=h.current;C&&S((C.textContent??"").trim())},[a.children]),_.jsx(td.ItemSlot,{scope:n,disabled:r,textValue:o??w,children:_.jsx(_F,{asChild:!0,...d,focusable:!r,children:_.jsx(Ge.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:p,onPointerMove:Ne(t.onPointerMove,nd(C=>{r?c.onItemLeave(C):(c.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(t.onPointerLeave,nd(C=>c.onItemLeave(C))),onFocus:Ne(t.onFocus,()=>v(!0)),onBlur:Ne(t.onBlur,()=>v(!1))})})})}),LF="MenuCheckboxItem",aN=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return _.jsx(fN,{scope:t.__scopeMenu,checked:n,children:_.jsx(np,{role:"menuitemcheckbox","aria-checked":lm(n)?"mixed":n,...o,ref:e,"data-state":I0(n),onSelect:Ne(o.onSelect,()=>r==null?void 0:r(lm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});aN.displayName=LF;var lN="MenuRadioGroup",[VF,jF]=Va(lN,{value:void 0,onValueChange:()=>{}}),cN=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...o}=t,a=Kr(r);return _.jsx(VF,{scope:t.__scopeMenu,value:n,onValueChange:a,children:_.jsx(R0,{...o,ref:e})})});cN.displayName=lN;var uN="MenuRadioItem",dN=E.forwardRef((t,e)=>{const{value:n,...r}=t,o=jF(uN,t.__scopeMenu),a=n===o.value;return _.jsx(fN,{scope:t.__scopeMenu,checked:a,children:_.jsx(np,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":I0(a),onSelect:Ne(r.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,n)},{checkForDefaultPrevented:!1})})})});dN.displayName=uN;var C0="MenuItemIndicator",[fN,UF]=Va(C0,{checked:!1}),hN=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,a=UF(C0,n);return _.jsx(As,{present:r||lm(a.checked)||a.checked===!0,children:_.jsx(Ge.span,{...o,ref:e,"data-state":I0(a.checked)})})});hN.displayName=C0;var BF="MenuSeparator",mN=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(Ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});mN.displayName=BF;var zF="MenuArrow",pN=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=tp(n);return _.jsx($I,{...o,...r,ref:e})});pN.displayName=zF;var FF="MenuSub",[AH,gN]=Va(FF),Du="MenuSubTrigger",yN=E.forwardRef((t,e)=>{const n=ja(Du,t.__scopeMenu),r=Sd(Du,t.__scopeMenu),o=gN(Du,t.__scopeMenu),a=S0(Du,t.__scopeMenu),c=E.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=a,p={__scopeMenu:t.__scopeMenu},y=E.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return E.useEffect(()=>y,[y]),E.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),h(null)}},[d,h]),_.jsx(T0,{asChild:!0,...p,children:_.jsx(oN,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":bN(n.open),...t,ref:Um(e,o.onTriggerChange),onClick:v=>{var w;(w=t.onClick)==null||w.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ne(t.onPointerMove,nd(v=>{a.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(a.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:Ne(t.onPointerLeave,nd(v=>{var S,C;y();const w=(S=n.content)==null?void 0:S.getBoundingClientRect();if(w){const T=(C=n.content)==null?void 0:C.dataset.side,R=T==="right",D=R?-5:5,M=w[R?"left":"right"],L=w[R?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+D,y:v.clientY},{x:M,y:w.top},{x:L,y:w.top},{x:L,y:w.bottom},{x:M,y:w.bottom}],side:T}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(t.onKeyDown,v=>{var S;const w=a.searchRef.current!=="";t.disabled||w&&v.key===" "||EF[r.dir].includes(v.key)&&(n.onOpenChange(!0),(S=n.content)==null||S.focus(),v.preventDefault())})})})});yN.displayName=Du;var vN="MenuSubContent",_N=E.forwardRef((t,e)=>{const n=nN(Mr,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,a=ja(Mr,t.__scopeMenu),c=Sd(Mr,t.__scopeMenu),d=gN(vN,t.__scopeMenu),h=E.useRef(null),p=gt(e,h);return _.jsx(td.Provider,{scope:t.__scopeMenu,children:_.jsx(As,{present:r||a.open,children:_.jsx(td.Slot,{scope:t.__scopeMenu,children:_.jsx(A0,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var v;c.isUsingKeyboardRef.current&&((v=h.current)==null||v.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ne(t.onFocusOutside,y=>{y.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ne(t.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:Ne(t.onKeyDown,y=>{var S;const v=y.currentTarget.contains(y.target),w=TF[c.dir].includes(y.key);v&&w&&(a.onOpenChange(!1),(S=d.trigger)==null||S.focus(),y.preventDefault())})})})})})});_N.displayName=vN;function bN(t){return t?"open":"closed"}function lm(t){return t==="indeterminate"}function I0(t){return lm(t)?"indeterminate":t?"checked":"unchecked"}function HF(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function qF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function $F(t,e,n){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let c=qF(t,Math.max(a,0));o.length===1&&(c=c.filter(p=>p!==n));const h=c.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function GF(t,e){const{x:n,y:r}=t;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const d=e[a],h=e[c],p=d.x,y=d.y,v=h.x,w=h.y;y>r!=w>r&&n<(v-p)*(r-y)/(w-y)+p&&(o=!o)}return o}function KF(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return GF(n,e)}function nd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var YF=tN,QF=T0,XF=rN,WF=iN,ZF=R0,JF=sN,e8=np,t8=aN,n8=cN,r8=dN,i8=hN,s8=mN,o8=pN,a8=yN,l8=_N,rp="DropdownMenu",[c8,RH]=Ni(rp,[JI]),Hn=JI(),[u8,wN]=c8(rp),EN=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:c,modal:d=!0}=t,h=Hn(e),p=E.useRef(null),[y,v]=tc({prop:o,defaultProp:a??!1,onChange:c,caller:rp});return _.jsx(u8,{scope:e,triggerId:gs(),triggerRef:p,contentId:gs(),open:y,onOpenChange:v,onOpenToggle:E.useCallback(()=>v(w=>!w),[v]),modal:d,children:_.jsx(YF,{...h,open:y,onOpenChange:v,dir:r,modal:d,children:n})})};EN.displayName=rp;var TN="DropdownMenuTrigger",xN=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=t,a=wN(TN,n),c=Hn(n);return _.jsx(QF,{asChild:!0,...c,children:_.jsx(Ge.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Um(e,a.triggerRef),onPointerDown:Ne(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:Ne(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});xN.displayName=TN;var d8="DropdownMenuPortal",SN=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Hn(e);return _.jsx(XF,{...r,...n})};SN.displayName=d8;var AN="DropdownMenuContent",RN=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=wN(AN,n),a=Hn(n),c=E.useRef(!1);return _.jsx(WF,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:e,onCloseAutoFocus:Ne(t.onCloseAutoFocus,d=>{var h;c.current||(h=o.triggerRef.current)==null||h.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Ne(t.onInteractOutside,d=>{const h=d.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,y=h.button===2||p;(!o.modal||y)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RN.displayName=AN;var f8="DropdownMenuGroup",h8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(ZF,{...o,...r,ref:e})});h8.displayName=f8;var m8="DropdownMenuLabel",CN=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(JF,{...o,...r,ref:e})});CN.displayName=m8;var p8="DropdownMenuItem",g8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(e8,{...o,...r,ref:e})});g8.displayName=p8;var y8="DropdownMenuCheckboxItem",v8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(t8,{...o,...r,ref:e})});v8.displayName=y8;var _8="DropdownMenuRadioGroup",b8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(n8,{...o,...r,ref:e})});b8.displayName=_8;var w8="DropdownMenuRadioItem",E8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(r8,{...o,...r,ref:e})});E8.displayName=w8;var T8="DropdownMenuItemIndicator",x8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(i8,{...o,...r,ref:e})});x8.displayName=T8;var S8="DropdownMenuSeparator",IN=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(s8,{...o,...r,ref:e})});IN.displayName=S8;var A8="DropdownMenuArrow",R8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(o8,{...o,...r,ref:e})});R8.displayName=A8;var C8="DropdownMenuSubTrigger",I8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(a8,{...o,...r,ref:e})});I8.displayName=C8;var N8="DropdownMenuSubContent",D8=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=Hn(n);return _.jsx(l8,{...o,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D8.displayName=N8;var O8=EN,M8=xN,k8=SN,P8=RN,L8=CN,V8=IN;function j8({...t}){return _.jsx(O8,{"data-slot":"dropdown-menu",...t})}function U8({...t}){return _.jsx(M8,{"data-slot":"dropdown-menu-trigger",...t})}function B8({className:t,sideOffset:e=4,...n}){return _.jsx(k8,{children:_.jsx(P8,{"data-slot":"dropdown-menu-content",sideOffset:e,className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function z8({className:t,inset:e,...n}){return _.jsx(L8,{"data-slot":"dropdown-menu-label","data-inset":e,className:tt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function F8({className:t,...e}){return _.jsx(V8,{"data-slot":"dropdown-menu-separator",className:tt("bg-border -mx-1 my-1 h-px",t),...e})}function H8({chatId:t}){const[e,n]=E.useState([]),[r,o]=E.useState(!1);return E.useEffect(()=>{t&&(o(!0),(async()=>{const a=await mr(jt(st,"chats",t));if(!a.exists()){n([]),o(!1);return}const{users:c=[],userRoles:d={}}=a.data(),h=[];for(let y=0;y<c.length;y+=10)h.push(c.slice(y,y+10));const p=[];for(const y of h){const v=Uu(dr(st,"users"),Xh(l1(),"in",y));(await Wh(v)).forEach(S=>{const C=S.data();p.push({id:S.id,displayName:C.displayName,email:C.email,photoURL:C.photoURL,role:d[S.id]||"member"})})}n(p),o(!1)})())},[t]),_.jsxs(Rs,{children:[_.jsx(Cs,{asChild:!0,children:_.jsxs(pt,{variant:"ghost",className:"w-full border flex justify-between items-center",children:["Members ",_.jsx("span",{children:e.length})]})}),_.jsxs(Ns,{className:"sm:max-w-[425px]",children:[_.jsx(Ds,{children:_.jsx(Ms,{children:"Members"})}),_.jsxs("div",{className:"mt-2 space-y-3 max-h-60 overflow-y-auto",children:[r&&_.jsx("p",{children:"Loading…"}),!r&&e.length===0&&_.jsx("p",{children:"No members found."}),!r&&e.map(a=>{var c;return _.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 hover:bg-gray-100 rounded",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Nr,{className:"w-8 h-8",children:a.photoURL?_.jsx(Dr,{src:a.photoURL}):_.jsx(Or,{children:(c=a.displayName)==null?void 0:c[0]})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium capitalize",children:a.displayName}),_.jsx("p",{className:"text-xs text-gray-500",children:a.email})]})]}),_.jsx("span",{className:"text-xs font-semibold uppercase text-gray-600",children:a.role})]},a.id)})]}),_.jsx(Os,{children:_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",children:"Close"})})})]})]})}var NN="AlertDialog",[q8,CH]=Ni(NN,[UC]),ks=UC(),DN=t=>{const{__scopeAlertDialog:e,...n}=t,r=ks(e);return _.jsx(tI,{...r,...n,modal:!0})};DN.displayName=NN;var $8="AlertDialogTrigger",ON=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ks(n);return _.jsx(nI,{...o,...r,ref:e})});ON.displayName=$8;var G8="AlertDialogPortal",MN=t=>{const{__scopeAlertDialog:e,...n}=t,r=ks(e);return _.jsx(rI,{...r,...n})};MN.displayName=G8;var K8="AlertDialogOverlay",kN=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ks(n);return _.jsx(iI,{...o,...r,ref:e})});kN.displayName=K8;var ql="AlertDialogContent",[Y8,Q8]=q8(ql),X8=N6("AlertDialogContent"),PN=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...o}=t,a=ks(n),c=E.useRef(null),d=gt(e,c),h=E.useRef(null);return _.jsx(NB,{contentName:ql,titleName:LN,docsSlug:"alert-dialog",children:_.jsx(Y8,{scope:n,cancelRef:h,children:_.jsxs(sI,{role:"alertdialog",...a,...o,ref:d,onOpenAutoFocus:Ne(o.onOpenAutoFocus,p=>{var y;p.preventDefault(),(y=h.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[_.jsx(X8,{children:r}),_.jsx(Z8,{contentRef:c})]})})})});PN.displayName=ql;var LN="AlertDialogTitle",VN=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ks(n);return _.jsx(oI,{...o,...r,ref:e})});VN.displayName=LN;var jN="AlertDialogDescription",UN=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ks(n);return _.jsx(aI,{...o,...r,ref:e})});UN.displayName=jN;var W8="AlertDialogAction",BN=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ks(n);return _.jsx(Km,{...o,...r,ref:e})});BN.displayName=W8;var zN="AlertDialogCancel",FN=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:o}=Q8(zN,n),a=ks(n),c=gt(e,o);return _.jsx(Km,{...a,...r,ref:c})});FN.displayName=zN;var Z8=({contentRef:t})=>{const e=`\`${ql}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ql}\` by passing a \`${jN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ql}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},J8=DN,e7=ON,t7=MN,n7=kN,r7=PN,i7=BN,s7=FN,o7=VN,a7=UN;function l7({...t}){return _.jsx(J8,{"data-slot":"alert-dialog",...t})}function c7({...t}){return _.jsx(e7,{"data-slot":"alert-dialog-trigger",...t})}function u7({...t}){return _.jsx(t7,{"data-slot":"alert-dialog-portal",...t})}function d7({className:t,...e}){return _.jsx(n7,{"data-slot":"alert-dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function f7({className:t,...e}){return _.jsxs(u7,{children:[_.jsx(d7,{}),_.jsx(r7,{"data-slot":"alert-dialog-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function h7({className:t,...e}){return _.jsx("div",{"data-slot":"alert-dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function m7({className:t,...e}){return _.jsx("div",{"data-slot":"alert-dialog-footer",className:tt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function p7({className:t,...e}){return _.jsx(o7,{"data-slot":"alert-dialog-title",className:tt("text-lg font-semibold",t),...e})}function g7({className:t,...e}){return _.jsx(a7,{"data-slot":"alert-dialog-description",className:tt("text-muted-foreground text-sm",t),...e})}function y7({className:t,...e}){return _.jsx(i7,{className:tt(e0(),t),...e})}function v7({className:t,...e}){return _.jsx(s7,{className:tt(e0({variant:"outline"}),t),...e})}function _7({chatId:t,currentUserId:e}){const[n,r]=E.useState([]),[o,a]=E.useState(!1);E.useEffect(()=>{t&&(a(!0),(async()=>{const d=await mr(jt(st,"chats",t));if(!d.exists()){r([]),a(!1);return}const{users:h=[],userRoles:p={}}=d.data(),y=[];for(let w=0;w<h.length;w+=10)y.push(h.slice(w,w+10));const v=[];for(const w of y){const S=Uu(dr(st,"users"),Xh(l1(),"in",w));(await Wh(S)).forEach(T=>{const R=T.data();v.push({id:T.id,displayName:R.displayName,email:R.email,photoURL:R.photoURL,role:p[T.id]||"member"})})}r(v),a(!1)})())},[t]);const c=async(d,h)=>{try{const p=await mr(jt(st,"users",e)),y=p.exists()?p.data().displayName:"Admin";await hc(jt(st,"chats",t),{users:T1(d),[`userRoles.${d}`]:uU()});const v=dr(st,"chats",t,"messages");await zl(v,{senderId:e,message:`${h} has been removed from the group by ${y}`,timestamp:pi(),type:"system"}),r(w=>w.filter(S=>S.id!==d)),vt(`${h} removed from the group`)}catch(p){console.error("Error removing member:",p),vt.error(`Failed to remove ${h}`,{type:"error"})}};return _.jsx(_.Fragment,{children:_.jsxs(Rs,{children:[_.jsx(Cs,{asChild:!0,children:_.jsx(pt,{variant:"ghost",className:"w-full border flex justify-start items-center",children:"Manage Members"})}),_.jsxs(Ns,{className:"sm:max-w-[425px]",children:[_.jsx(Ds,{children:_.jsx(Ms,{children:"Click a member to remove"})}),_.jsxs("div",{className:"mt-2 space-y-3 max-h-60 overflow-y-auto",children:[o&&_.jsx("p",{children:"Loading…"}),!o&&n.filter(d=>d.role!=="admin").length===0&&_.jsx("p",{children:"No removable members found."}),!o&&n.filter(d=>d.role!=="admin").map(d=>{var h;return _.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 hover:bg-gray-100 rounded",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Nr,{className:"w-8 h-8",children:d.photoURL?_.jsx(Dr,{src:d.photoURL}):_.jsx(Or,{children:(h=d.displayName)==null?void 0:h[0]})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium capitalize",children:d.displayName}),_.jsx("p",{className:"text-xs text-gray-500",children:d.email})]})]}),_.jsxs(l7,{children:[_.jsx(c7,{asChild:!0,children:_.jsx(pt,{variant:"link",className:"text-red-500",children:"Remove"})}),_.jsxs(f7,{children:[_.jsxs(h7,{children:[_.jsx(p7,{children:"Confirm Removal"}),_.jsxs(g7,{children:["Are you sure you want to remove ",d.displayName," from the group?"]})]}),_.jsxs(m7,{children:[_.jsx(v7,{children:"Cancel"}),_.jsx(y7,{onClick:()=>c(d.id,d.displayName),children:"Remove"})]})]})]})]},d.id)})]}),_.jsx(Os,{children:_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",children:"Close"})})})]})]})})}function b7({chatId:t,currentUserId:e}){const[n,r]=E.useState(""),[o,a]=E.useState(!1),[c,d]=E.useState(!1),[h,p]=E.useState(!1),[y,v]=E.useState(null),[w,S]=E.useState(""),[C,T]=E.useState("");E.useEffect(()=>{async function M(){var $;const L=await mr(jt(st,"chats",t));if(!L.exists())return;const H=L.data();r(H.name||""),S(H.photoURL||""),p((($=H.userRoles)==null?void 0:$[e])==="admin")}M()},[t,e]);const R=M=>{const L=M.target.files[0];if(L){v(L);const H=URL.createObjectURL(L);T(H)}},D=async M=>{M.preventDefault(),d(!0);let L=w;if(y)try{if(w){const O=em(),I=Jh(O,`groupPhotos/${t}`);await G1(I)}const H=em(),$=Jh(H,`groupPhotos/${t}`);await q1($,y),L=await $1($),vt(" Upload profile successful!")}catch(H){console.error("Error uploading profile photo:",H),vt.error("Failed to upload profile photo."),d(!1);return}try{await hc(jt(st,"chats",t),{name:n,photoURL:L}),a(!1)}catch(H){console.error("Error updating group:",H),vt.error("Failed to update group.")}finally{d(!1)}};return _.jsxs(Rs,{open:o,onOpenChange:a,children:[_.jsx(Cs,{asChild:!0,children:_.jsx(pt,{variant:"ghost",className:"border w-full mb-1",children:"Manage Group"})}),_.jsx(Ns,{className:"sm:max-w-[425px]",children:_.jsxs("form",{onSubmit:D,children:[_.jsxs(Ds,{children:[_.jsx(Ms,{children:"Edit Group"}),_.jsx(Qm,{children:"To make changes, click save when you're done."})]}),_.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[_.jsxs(Nr,{className:"w-20 h-20",children:[_.jsx(Dr,{src:C||w}),_.jsx(Or,{children:"GP"})]}),_.jsx(pt,{variant:"ghost",type:"button",className:"border",children:_.jsx("label",{htmlFor:"profile-photo",className:"cursor-pointer",children:"Change"})}),_.jsx("input",{type:"file",id:"profile-photo",accept:"image/*",className:"hidden",onChange:R})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx(fs,{htmlFor:"group-name",className:"mb-1",children:"Group Name"}),_.jsx(yi,{id:"group-name",value:n,onChange:M=>r(M.target.value)})]}),_.jsx("hr",{className:"my-4"}),_.jsx("div",{className:"mb-1",children:_.jsx(H8,{chatId:t,className:"w-full"})}),_.jsx("div",{className:"mb-5",children:h&&_.jsx(_7,{chatId:t,currentUserId:e})}),_.jsxs(Os,{children:[_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",type:"button",disabled:c,children:"Cancel"})}),_.jsxs(pt,{type:"submit",disabled:c||!n.trim(),children:[c&&_.jsx(un,{icon:"line-md:loading-alt-loop",width:"16",height:"16",className:"mr-2"}),c?"Updating...":"Save changes"]})]})]})})]})}function IS(t,[e,n]){return Math.min(n,Math.max(e,t))}var HN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),w7="VisuallyHidden",E7=E.forwardRef((t,e)=>_.jsx(Ge.span,{...t,ref:e,style:{...HN,...t.style}}));E7.displayName=w7;var T7=[" ","Enter","ArrowUp","ArrowDown"],x7=[" ","Enter"],Na="Select",[ip,sp,S7]=f0(Na),[_c,IH]=Ni(Na,[S7,ep]),op=ep(),[A7,Vo]=_c(Na),[R7,C7]=_c(Na),qN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:o,onOpenChange:a,value:c,defaultValue:d,onValueChange:h,dir:p,name:y,autoComplete:v,disabled:w,required:S,form:C}=t,T=op(e),[R,D]=E.useState(null),[M,L]=E.useState(null),[H,$]=E.useState(!1),Y=h0(p),[O,I]=tc({prop:r,defaultProp:o??!1,onChange:a,caller:Na}),[P,j]=tc({prop:c,defaultProp:d,onChange:h,caller:Na}),B=E.useRef(null),F=R?C||!!R.closest("form"):!0,[V,Se]=E.useState(new Set),_e=Array.from(V).map(q=>q.props.value).join(";");return _.jsx(FI,{...T,children:_.jsxs(A7,{required:S,scope:e,trigger:R,onTriggerChange:D,valueNode:M,onValueNodeChange:L,valueNodeHasChildren:H,onValueNodeHasChildrenChange:$,contentId:gs(),value:P,onValueChange:j,open:O,onOpenChange:I,dir:Y,triggerPointerDownPosRef:B,disabled:w,children:[_.jsx(ip.Provider,{scope:e,children:_.jsx(R7,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(q=>{Se(se=>new Set(se).add(q))},[]),onNativeOptionRemove:E.useCallback(q=>{Se(se=>{const Q=new Set(se);return Q.delete(q),Q})},[]),children:n})}),F?_.jsxs(fD,{"aria-hidden":!0,required:S,tabIndex:-1,name:y,autoComplete:v,value:P,onChange:q=>j(q.target.value),disabled:w,form:C,children:[P===void 0?_.jsx("option",{value:""}):null,Array.from(V)]},_e):null]})})};qN.displayName=Na;var $N="SelectTrigger",GN=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...o}=t,a=op(n),c=Vo($N,n),d=c.disabled||r,h=gt(e,c.onTriggerChange),p=sp(n),y=E.useRef("touch"),[v,w,S]=mD(T=>{const R=p().filter(L=>!L.disabled),D=R.find(L=>L.value===c.value),M=pD(R,T,D);M!==void 0&&c.onValueChange(M.value)}),C=T=>{d||(c.onOpenChange(!0),S()),T&&(c.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return _.jsx(HI,{asChild:!0,...a,children:_.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":hD(c.value)?"":void 0,...o,ref:h,onClick:Ne(o.onClick,T=>{T.currentTarget.focus(),y.current!=="mouse"&&C(T)}),onPointerDown:Ne(o.onPointerDown,T=>{y.current=T.pointerType;const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(C(T),T.preventDefault())}),onKeyDown:Ne(o.onKeyDown,T=>{const R=v.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&w(T.key),!(R&&T.key===" ")&&T7.includes(T.key)&&(C(),T.preventDefault())})})})});GN.displayName=$N;var KN="SelectValue",YN=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:c="",...d}=t,h=Vo(KN,n),{onValueNodeHasChildrenChange:p}=h,y=a!==void 0,v=gt(e,h.onValueNodeChange);return hn(()=>{p(y)},[p,y]),_.jsx(Ge.span,{...d,ref:v,style:{pointerEvents:"none"},children:hD(h.value)?_.jsx(_.Fragment,{children:c}):a})});YN.displayName=KN;var I7="SelectIcon",QN=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...o}=t;return _.jsx(Ge.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});QN.displayName=I7;var N7="SelectPortal",XN=t=>_.jsx(Hm,{asChild:!0,...t});XN.displayName=N7;var Da="SelectContent",WN=E.forwardRef((t,e)=>{const n=Vo(Da,t.__scopeSelect),[r,o]=E.useState();if(hn(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?od.createPortal(_.jsx(ZN,{scope:t.__scopeSelect,children:_.jsx(ip.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),a):null}return _.jsx(JN,{...t,ref:e})});WN.displayName=Da;var Hr=10,[ZN,jo]=_c(Da),D7="SelectContentImpl",O7=Ra("SelectContent.RemoveScroll"),JN=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:d,sideOffset:h,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:S,sticky:C,hideWhenDetached:T,avoidCollisions:R,...D}=t,M=Vo(Da,n),[L,H]=E.useState(null),[$,Y]=E.useState(null),O=gt(e,he=>H(he)),[I,P]=E.useState(null),[j,B]=E.useState(null),F=sp(n),[V,Se]=E.useState(!1),_e=E.useRef(!1);E.useEffect(()=>{if(L)return a0(L)},[L]),o0();const q=E.useCallback(he=>{const[Ee,...ke]=F().map(ze=>ze.ref.current),[Oe]=ke.slice(-1),Ve=document.activeElement;for(const ze of he)if(ze===Ve||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Ee&&$&&($.scrollTop=0),ze===Oe&&$&&($.scrollTop=$.scrollHeight),ze==null||ze.focus(),document.activeElement!==Ve))return},[F,$]),se=E.useCallback(()=>q([I,L]),[q,I,L]);E.useEffect(()=>{V&&se()},[V,se]);const{onOpenChange:Q,triggerPointerDownPosRef:le}=M;E.useEffect(()=>{if(L){let he={x:0,y:0};const Ee=Oe=>{var Ve,ze;he={x:Math.abs(Math.round(Oe.pageX)-(((Ve=le.current)==null?void 0:Ve.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((ze=le.current)==null?void 0:ze.y)??0))}},ke=Oe=>{he.x<=10&&he.y<=10?Oe.preventDefault():L.contains(Oe.target)||Q(!1),document.removeEventListener("pointermove",Ee),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",ke,{capture:!0})}}},[L,Q,le]),E.useEffect(()=>{const he=()=>Q(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[Q]);const[U,J]=mD(he=>{const Ee=F().filter(Ve=>!Ve.disabled),ke=Ee.find(Ve=>Ve.ref.current===document.activeElement),Oe=pD(Ee,he,ke);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ae=E.useCallback((he,Ee,ke)=>{const Oe=!_e.current&&!ke;(M.value!==void 0&&M.value===Ee||Oe)&&(P(he),Oe&&(_e.current=!0))},[M.value]),re=E.useCallback(()=>L==null?void 0:L.focus(),[L]),me=E.useCallback((he,Ee,ke)=>{const Oe=!_e.current&&!ke;(M.value!==void 0&&M.value===Ee||Oe)&&B(he)},[M.value]),Ae=r==="popper"?kv:eD,pe=Ae===kv?{side:d,sideOffset:h,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:S,sticky:C,hideWhenDetached:T,avoidCollisions:R}:{};return _.jsx(ZN,{scope:n,content:L,viewport:$,onViewportChange:Y,itemRefCallback:ae,selectedItem:I,onItemLeave:re,itemTextRefCallback:me,focusSelectedItem:se,selectedItemText:j,position:r,isPositioned:V,searchRef:U,children:_.jsx($m,{as:O7,allowPinchZoom:!0,children:_.jsx(Fm,{asChild:!0,trapped:M.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Ne(o,he=>{var Ee;(Ee=M.trigger)==null||Ee.focus({preventScroll:!0}),he.preventDefault()}),children:_.jsx(zm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:_.jsx(Ae,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:he=>he.preventDefault(),...D,...pe,onPlaced:()=>Se(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:Ne(D.onKeyDown,he=>{const Ee=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Ee&&he.key.length===1&&J(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Oe=F().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Ve=he.target,ze=Oe.indexOf(Ve);Oe=Oe.slice(ze+1)}setTimeout(()=>q(Oe)),he.preventDefault()}})})})})})})});JN.displayName=D7;var M7="SelectItemAlignedPosition",eD=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...o}=t,a=Vo(Da,n),c=jo(Da,n),[d,h]=E.useState(null),[p,y]=E.useState(null),v=gt(e,O=>y(O)),w=sp(n),S=E.useRef(!1),C=E.useRef(!0),{viewport:T,selectedItem:R,selectedItemText:D,focusSelectedItem:M}=c,L=E.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&p&&T&&R&&D){const O=a.trigger.getBoundingClientRect(),I=p.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),j=D.getBoundingClientRect();if(a.dir!=="rtl"){const Ve=j.left-I.left,ze=P.left-Ve,Rt=O.left-ze,ne=O.width+Rt,ve=Math.max(ne,I.width),Te=window.innerWidth-Hr,xe=IS(ze,[Hr,Math.max(Hr,Te-ve)]);d.style.minWidth=ne+"px",d.style.left=xe+"px"}else{const Ve=I.right-j.right,ze=window.innerWidth-P.right-Ve,Rt=window.innerWidth-O.right-ze,ne=O.width+Rt,ve=Math.max(ne,I.width),Te=window.innerWidth-Hr,xe=IS(ze,[Hr,Math.max(Hr,Te-ve)]);d.style.minWidth=ne+"px",d.style.right=xe+"px"}const B=w(),F=window.innerHeight-Hr*2,V=T.scrollHeight,Se=window.getComputedStyle(p),_e=parseInt(Se.borderTopWidth,10),q=parseInt(Se.paddingTop,10),se=parseInt(Se.borderBottomWidth,10),Q=parseInt(Se.paddingBottom,10),le=_e+q+V+Q+se,U=Math.min(R.offsetHeight*5,le),J=window.getComputedStyle(T),ae=parseInt(J.paddingTop,10),re=parseInt(J.paddingBottom,10),me=O.top+O.height/2-Hr,Ae=F-me,pe=R.offsetHeight/2,he=R.offsetTop+pe,Ee=_e+q+he,ke=le-Ee;if(Ee<=me){const Ve=B.length>0&&R===B[B.length-1].ref.current;d.style.bottom="0px";const ze=p.clientHeight-T.offsetTop-T.offsetHeight,Rt=Math.max(Ae,pe+(Ve?re:0)+ze+se),ne=Ee+Rt;d.style.height=ne+"px"}else{const Ve=B.length>0&&R===B[0].ref.current;d.style.top="0px";const Rt=Math.max(me,_e+T.offsetTop+(Ve?ae:0)+pe)+ke;d.style.height=Rt+"px",T.scrollTop=Ee-me+T.offsetTop}d.style.margin=`${Hr}px 0`,d.style.minHeight=U+"px",d.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[w,a.trigger,a.valueNode,d,p,T,R,D,a.dir,r]);hn(()=>L(),[L]);const[H,$]=E.useState();hn(()=>{p&&$(window.getComputedStyle(p).zIndex)},[p]);const Y=E.useCallback(O=>{O&&C.current===!0&&(L(),M==null||M(),C.current=!1)},[L,M]);return _.jsx(P7,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:Y,children:_.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:_.jsx(Ge.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});eD.displayName=M7;var k7="SelectPopperPosition",kv=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Hr,...a}=t,c=op(n);return _.jsx(qI,{...c,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kv.displayName=k7;var[P7,N0]=_c(Da,{}),Pv="SelectViewport",tD=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...o}=t,a=jo(Pv,n),c=N0(Pv,n),d=gt(e,a.onViewportChange),h=E.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(ip.Slot,{scope:n,children:_.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ne(o.onScroll,p=>{const y=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=c;if(w!=null&&w.current&&v){const S=Math.abs(h.current-y.scrollTop);if(S>0){const C=window.innerHeight-Hr*2,T=parseFloat(v.style.minHeight),R=parseFloat(v.style.height),D=Math.max(T,R);if(D<C){const M=D+S,L=Math.min(C,M),H=M-L;v.style.height=L+"px",v.style.bottom==="0px"&&(y.scrollTop=H>0?H:0,v.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});tD.displayName=Pv;var nD="SelectGroup",[L7,V7]=_c(nD),j7=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=gs();return _.jsx(L7,{scope:n,id:o,children:_.jsx(Ge.div,{role:"group","aria-labelledby":o,...r,ref:e})})});j7.displayName=nD;var rD="SelectLabel",U7=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=V7(rD,n);return _.jsx(Ge.div,{id:o.id,...r,ref:e})});U7.displayName=rD;var cm="SelectItem",[B7,iD]=_c(cm),sD=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...c}=t,d=Vo(cm,n),h=jo(cm,n),p=d.value===r,[y,v]=E.useState(a??""),[w,S]=E.useState(!1),C=gt(e,M=>{var L;return(L=h.itemRefCallback)==null?void 0:L.call(h,M,r,o)}),T=gs(),R=E.useRef("touch"),D=()=>{o||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(B7,{scope:n,value:r,disabled:o,textId:T,isSelected:p,onItemTextChange:E.useCallback(M=>{v(L=>L||((M==null?void 0:M.textContent)??"").trim())},[]),children:_.jsx(ip.ItemSlot,{scope:n,value:r,disabled:o,textValue:y,children:_.jsx(Ge.div,{role:"option","aria-labelledby":T,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:C,onFocus:Ne(c.onFocus,()=>S(!0)),onBlur:Ne(c.onBlur,()=>S(!1)),onClick:Ne(c.onClick,()=>{R.current!=="mouse"&&D()}),onPointerUp:Ne(c.onPointerUp,()=>{R.current==="mouse"&&D()}),onPointerDown:Ne(c.onPointerDown,M=>{R.current=M.pointerType}),onPointerMove:Ne(c.onPointerMove,M=>{var L;R.current=M.pointerType,o?(L=h.onItemLeave)==null||L.call(h):R.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(c.onPointerLeave,M=>{var L;M.currentTarget===document.activeElement&&((L=h.onItemLeave)==null||L.call(h))}),onKeyDown:Ne(c.onKeyDown,M=>{var H;((H=h.searchRef)==null?void 0:H.current)!==""&&M.key===" "||(x7.includes(M.key)&&D(),M.key===" "&&M.preventDefault())})})})})});sD.displayName=cm;var Ou="SelectItemText",oD=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:o,...a}=t,c=Vo(Ou,n),d=jo(Ou,n),h=iD(Ou,n),p=C7(Ou,n),[y,v]=E.useState(null),w=gt(e,D=>v(D),h.onItemTextChange,D=>{var M;return(M=d.itemTextRefCallback)==null?void 0:M.call(d,D,h.value,h.disabled)}),S=y==null?void 0:y.textContent,C=E.useMemo(()=>_.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:T,onNativeOptionRemove:R}=p;return hn(()=>(T(C),()=>R(C)),[T,R,C]),_.jsxs(_.Fragment,{children:[_.jsx(Ge.span,{id:h.textId,...a,ref:w}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?od.createPortal(a.children,c.valueNode):null]})});oD.displayName=Ou;var aD="SelectItemIndicator",lD=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return iD(aD,n).isSelected?_.jsx(Ge.span,{"aria-hidden":!0,...r,ref:e}):null});lD.displayName=aD;var Lv="SelectScrollUpButton",cD=E.forwardRef((t,e)=>{const n=jo(Lv,t.__scopeSelect),r=N0(Lv,t.__scopeSelect),[o,a]=E.useState(!1),c=gt(e,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollTop>0;a(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?_.jsx(dD,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});cD.displayName=Lv;var Vv="SelectScrollDownButton",uD=E.forwardRef((t,e)=>{const n=jo(Vv,t.__scopeSelect),r=N0(Vv,t.__scopeSelect),[o,a]=E.useState(!1),c=gt(e,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<p;a(y)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?_.jsx(dD,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});uD.displayName=Vv;var dD=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=t,a=jo("SelectScrollButton",n),c=E.useRef(null),d=sp(n),h=E.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return E.useEffect(()=>()=>h(),[h]),hn(()=>{var y;const p=d().find(v=>v.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[d]),_.jsx(Ge.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ne(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Ne(o.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Ne(o.onPointerLeave,()=>{h()})})}),z7="SelectSeparator",F7=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _.jsx(Ge.div,{"aria-hidden":!0,...r,ref:e})});F7.displayName=z7;var jv="SelectArrow",H7=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,o=op(n),a=Vo(jv,n),c=jo(jv,n);return a.open&&c.position==="popper"?_.jsx($I,{...o,...r,ref:e}):null});H7.displayName=jv;var q7="SelectBubbleInput",fD=E.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const o=E.useRef(null),a=gt(r,o),c=dI(e);return E.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&y){const v=new Event("change",{bubbles:!0});y.call(d,e),d.dispatchEvent(v)}},[c,e]),_.jsx(Ge.select,{...n,style:{...HN,...n.style},ref:a,defaultValue:e})});fD.displayName=q7;function hD(t){return t===""||t===void 0}function mD(t){const e=Kr(t),n=E.useRef(""),r=E.useRef(0),o=E.useCallback(c=>{const d=n.current+c;e(d),function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(d)},[e]),a=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function pD(t,e,n){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let c=$7(t,Math.max(a,0));o.length===1&&(c=c.filter(p=>p!==n));const h=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function $7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G7=qN,K7=GN,Y7=YN,Q7=QN,X7=XN,W7=WN,Z7=tD,J7=sD,eH=oD,tH=lD,nH=cD,rH=uD;function iH({...t}){return _.jsx(G7,{"data-slot":"select",...t})}function sH({...t}){return _.jsx(Y7,{"data-slot":"select-value",...t})}function oH({className:t,size:e="default",children:n,...r}){return _.jsxs(K7,{"data-slot":"select-trigger","data-size":e,className:tt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,_.jsx(Q7,{asChild:!0,children:_.jsx(uI,{className:"size-4 opacity-50"})})]})}function aH({className:t,children:e,position:n="popper",...r}){return _.jsx(X7,{children:_.jsxs(W7,{"data-slot":"select-content",className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[_.jsx(cH,{}),_.jsx(Z7,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),_.jsx(uH,{})]})})}function lH({className:t,children:e,...n}){return _.jsxs(J7,{"data-slot":"select-item",className:tt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[_.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:_.jsx(tH,{children:_.jsx(cI,{className:"size-4"})})}),_.jsx(eH,{children:e})]})}function cH({className:t,...e}){return _.jsx(nH,{"data-slot":"select-scroll-up-button",className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(FB,{className:"size-4"})})}function uH({className:t,...e}){return _.jsx(rH,{"data-slot":"select-scroll-down-button",className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(uI,{className:"size-4"})})}function dH({chatId:t,currentUserId:e,onLeaveSuccess:n}){const[r,o]=E.useState(!1),[a,c]=E.useState(!1),[d,h]=E.useState(!1),[p,y]=E.useState(!1),[v,w]=E.useState([]),[S,C]=E.useState("");E.useEffect(()=>{r&&(async()=>{const M=jt(st,"chats",t),L=await mr(M);if(!L.exists())return;const{userRoles:H={},users:$=[]}=L.data(),Y=H[e]==="admin",O=Object.values(H).filter(P=>P==="admin").length,I=Y&&O===1;if(h(I),I){const P=$.filter(B=>B!==e),j=await Promise.all(P.map(async B=>{var V;const F=await mr(jt(st,"users",B));return{id:B,name:((V=F.data())==null?void 0:V.displayName)||"Unknown"}}));w(j),y(!0)}else y(!1)})()},[r,t,e]);const T=async()=>{var I;const M=jt(st,"chats",t),L=jt(st,"users",e),$=((I=(await mr(L)).data())==null?void 0:I.displayName)||"Someone",Y=x1(st);Y.update(M,{users:T1(e),[`userRoles.${e}`]:null,lastMessage:`${$} left`,lastMessageTime:pi()});const O=dr(st,"chats",t,"messages");Y.set(jt(O),{senderId:e,message:`${$} left the chat`,timestamp:pi(),type:"system"}),await Y.commit(),vt.success("You have left the group"),o(!1),n==null||n()},R=async M=>{if(M.preventDefault(),d){vt.error("You must transfer admin rights before leaving");return}c(!0);try{await T()}catch{vt.error("Could not leave. Try again.")}finally{c(!1)}},D=async()=>{var M;if(S){c(!0);try{const L=jt(st,"chats",t);await hc(L,{[`userRoles.${S}`]:"admin"});const $=((M=(await mr(jt(st,"users",S))).data())==null?void 0:M.displayName)||"Someone";await zl(dr(st,"chats",t,"messages"),{senderId:e,message:`${$} is now admin`,timestamp:pi(),type:"system"}),await T()}catch{vt.error("Transfer failed")}finally{c(!1)}}};return _.jsxs(Rs,{open:r,onOpenChange:M=>{M||(y(!1),C(""),w([]),h(!1)),o(M)},children:[_.jsx(Cs,{asChild:!0,children:_.jsx(pt,{variant:"ghost",className:"w-full border",children:"Leave Group"})}),_.jsx(Ns,{children:_.jsxs("form",{onSubmit:R,children:[_.jsxs(Ds,{children:[_.jsx(Ms,{children:p?"Transfer Admin":"Leave Group"}),_.jsx(Qm,{children:p?"You are the only admin. Select a new admin before you leave.":"Are you sure you want to leave?"})]}),p&&_.jsxs("div",{className:"py-4",children:[_.jsx("label",{className:"block mb-2",children:"New Admin:"}),_.jsxs(iH,{value:S,onValueChange:C,children:[_.jsx(oH,{children:_.jsx(sH,{placeholder:"Choose member"})}),_.jsx(aH,{children:v.map(M=>_.jsx(lH,{value:M.id,children:M.name},M.id))})]})]}),_.jsxs(Os,{children:[_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",disabled:a,children:"Cancel"})}),p?_.jsx(pt,{onClick:D,disabled:a,children:a?"Transferring…":"Transfer & Leave"}):_.jsx(pt,{type:"submit",disabled:a,children:a?"Leaving…":"Leave"})]})]})})]})}function fH({chatId:t,currentUserId:e,clearCurrentChat:n}){return _.jsx(_.Fragment,{children:_.jsxs(j8,{children:[_.jsx(U8,{className:"bg-gray-500/20  rounded-full p-1",children:_.jsx(un,{icon:"solar:settings-broken",width:"24",height:"24"})}),_.jsxs(B8,{children:[_.jsx(z8,{children:"Group Settings"}),_.jsx(F8,{}),_.jsx(b7,{chatId:t,currentUserId:e}),_.jsx(dH,{chatId:t,currentUserId:e,onLeaveSuccess:n})]})]})})}const NS=()=>_.jsx("div",{className:"space-y-2 mb-4 flex-1",children:[...Array(6)].map((t,e)=>_.jsx("div",{className:"bg-gray-700/30 p-2 rounded animate-pulse",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"p-2 rounded-full bg-gray-600/50",children:_.jsx("div",{className:"w-4 h-4 bg-gray-500/50 rounded"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"h-3 bg-gray-600/50 rounded w-3/4 mb-2"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"h-2 bg-gray-600/50 rounded w-12"}),_.jsx("div",{className:"h-2 bg-gray-600/50 rounded w-16"}),_.jsx("div",{className:"h-2 bg-gray-600/50 rounded w-10"})]})]})]})},e))}),hH=()=>_.jsx("div",{className:"flex-1 overflow-y-auto h-96 p-4",children:[...Array(8)].map((t,e)=>{const n=Math.random()>.5;return _.jsx("div",{className:`flex mb-4 ${n?"justify-end":"justify-start"}`,children:_.jsxs("div",{className:"animate-pulse",children:[_.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${n?"bg-blue-200/50":"bg-gray-300/50"}`,children:[_.jsx("div",{className:"h-3 bg-gray-400/50 rounded w-16 mb-2"}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("div",{className:"h-3 bg-gray-400/50 rounded w-full"}),Math.random()>.5&&_.jsx("div",{className:"h-3 bg-gray-400/50 rounded w-3/4"})]})]}),_.jsx("div",{className:`h-2 bg-gray-400/50 rounded w-12 mt-1 ${n?"ml-auto":"mr-auto"}`})]})},e)})});function mH({users:t,currentUserId:e,currentChat:n,submitText:r,onSubmit:o,isLoading:a}){const[c,d]=E.useState([]),[h,p]=E.useState(!1),y=t.filter(T=>{var R;return T.id!==e&&!((R=n==null?void 0:n.users)!=null&&R.includes(T.id))}),v=(T,R)=>{d(D=>R?[...D,T]:D.filter(M=>M!==T))},w=async()=>{if(c.length>0)try{await o(c),d([]),p(!1)}catch(T){console.error("Error adding users:",T)}},S=T=>{p(T),T||d([])},C=c.length===0||a;return _.jsxs(Rs,{open:h,onOpenChange:S,children:[_.jsx(Cs,{asChild:!0,children:_.jsx(pt,{variant:"ghost",className:"border rounded-full",children:"Add User"})}),_.jsxs(Ns,{className:"sm:max-w-[425px] max-h-[600px] overflow-y-auto",children:[_.jsx(Ds,{children:_.jsx(Ms,{children:"Add Members to Group"})}),c.length>0&&_.jsx("div",{className:" p-2 bg-blue-50 rounded-md",children:_.jsxs("p",{className:"text-sm text-blue-700",children:[c.length," user(s) selected"]})}),_.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:y.length>0?y.map(T=>{var D,M;const R=c.includes(T.id);return _.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border transition-colors ${R?"bg-blue-50 border-blue-200":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>v(T.id,!R),children:[_.jsx(wI,{checked:R,onChange:L=>v(T.id,L),disabled:a}),_.jsx(Nr,{className:"w-10 h-10",children:T!=null&&T.photoURL?_.jsx(Dr,{src:T==null?void 0:T.photoURL,alt:T==null?void 0:T.displayName}):_.jsx(Or,{children:((M=(D=T==null?void 0:T.displayName)==null?void 0:D[0])==null?void 0:M.toUpperCase())||"U"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"font-medium capitalize text-sm",children:(T==null?void 0:T.displayName)||"Unknown User"}),_.jsx("p",{className:"text-xs text-gray-500",children:T==null?void 0:T.email}),(T==null?void 0:T.department)&&_.jsx("p",{className:"text-xs text-blue-600",children:T==null?void 0:T.department})]}),R&&_.jsx(un,{icon:"material-symbols:check-circle",className:"text-blue-500",width:"20",height:"20"})]},T.id)}):_.jsxs("div",{className:"text-center py-8 text-gray-500",children:[_.jsx(un,{icon:"solar:users-group-two-rounded-linear",width:"48",height:"48",className:"mx-auto mb-2 text-gray-300"}),_.jsx("p",{children:"All users are already in this group"})]})}),_.jsxs(Os,{className:"mt-6",children:[_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",type:"button",disabled:a,children:"Cancel"})}),_.jsxs(pt,{onClick:w,type:"submit",disabled:C,children:[a&&_.jsx(un,{icon:"line-md:loading-alt-loop",width:"16",height:"16",className:"mr-2"}),r||"Add Members"]})]})]})]})}function pH(){const t=fm(),e=_m(),[n,r]=E.useState(!1),[o,a]=E.useState(!1),c=async d=>{d.preventDefault(),r(!0);try{e.signOut().then(()=>{t("/")})}catch(h){console.error("Error logging out: ",h),vt.error("Something went wrong. Please try again.")}finally{r(!1)}};return _.jsxs(Rs,{open:o,onOpenChange:a,children:[_.jsx(Cs,{asChild:!0,children:_.jsxs(pt,{variant:"ghost",className:"border bg-red-500 w-full",children:[_.jsx(un,{icon:"solar:logout-broken",width:"24",height:"24"})," Logout"]})}),_.jsx(Ns,{className:"sm:max-w-[425px]",children:_.jsxs("form",{onSubmit:c,children:[_.jsxs(Ds,{children:[_.jsx(Ms,{children:"Log out"}),_.jsx(Qm,{children:"Are you sure you want to logout?"})]}),_.jsxs(Os,{children:[_.jsx(Is,{asChild:!0,children:_.jsx(pt,{variant:"outline",type:"button",disabled:n,children:"Cancel"})}),_.jsx(pt,{type:"submit",disabled:n,children:n?"Logging out...":"Confirm"})]})]})})]})}const gH="/assets/message-MD5odBSf.svg",yH="/assets/NoConversation-BZ9J2033.png",fh="/assets/error-j_L9FDkF.png",vH=async(t,e,n)=>{try{const r=dr(st,"chats",t,"messages"),o=jt(st,"chats",t);await zl(r,{senderId:e,message:n,timestamp:pi(),seen:!1}),await hc(o,{lastMessage:n,lastMessageTime:pi()})}catch(r){vt.error("Error sending message:",r)}};function _H(){const t=fm(),e=_m(),[n,r]=E.useState(null),[o,a]=E.useState(null),[c,d]=E.useState([]),[h,p]=E.useState(""),[y,v]=E.useState(""),[w,S]=E.useState([]),[C,T]=E.useState([]),[R,D]=E.useState(null),[M,L]=E.useState(null),[H,$]=E.useState(!1),[Y,O]=E.useState(""),[I,P]=E.useState(!0),[j,B]=E.useState(!1),[F,V]=E.useState(!1),[Se,_e]=E.useState(!1),q=o||n,se=()=>{$(!0)},Q=()=>{$(!1)},le=()=>{v(""),L("")},U=async ne=>{if(!M||!M.id||ne.length===0){vt.error("Please select users to add.");return}V(!0);try{const ve=jt(st,"chats",M.id),Te=await mr(ve);if(Te.exists()){const xe=Te.data(),Xe=xe.users||[],nt=xe.userRoles||{},rn=ne.filter(mn=>!Xe.includes(mn));if(rn.length>0){const mn=[...Xe,...rn],It={...nt};rn.forEach(rt=>{It[rt]="member"}),await hc(ve,{users:mn,userRoles:It,updatedAt:pi()}),L(rt=>({...rt,users:mn,userRoles:It}));const Vn=dr(st,"users"),kr=await Promise.all(rn.map(async rt=>{const it=await mr(jt(Vn,rt));return{id:rt,name:it.exists()?it.data().displayName:"Unknown User"}})),Oi=dr(st,"chats",M.id,"messages");if(kr.length===1)await zl(Oi,{senderId:"system",message:`${kr[0].name} was added to the group by ${(o==null?void 0:o.displayName)||"Admin"}`,timestamp:pi(),type:"system"});else{const rt=kr.map(it=>it.name).join(", ");await zl(Oi,{senderId:"system",message:`${rt} were added to the group by ${(o==null?void 0:o.displayName)||"Admin"}`,timestamp:pi(),type:"system"})}vt.success(`${rn.length} user(s) added to the group successfully!`)}else vt.info("Selected users are already in the group!")}else vt.error("Group not found!")}catch(ve){console.error("Error adding users to group:",ve),vt.error("Failed to add users to the group. Please try again.")}finally{V(!1)}};E.useEffect(()=>{const ne=n==null?void 0:n.uid;if(!ne){a(null);return}let ve;return(async()=>{ve=await J(ne)})(),()=>{ve&&ve()}},[n==null?void 0:n.uid]);const J=async ne=>{try{const ve=jt(st,"users",ne);return eh(ve,xe=>{if(xe.exists()){const Xe={id:xe.id,...xe.data()};a(Xe)}else a(null)})}catch(ve){return console.error("Error fetching user profile:",ve),null}};E.useEffect(()=>{const ne=async()=>{try{const xe=(await Wh(dr(st,"users"))).docs.map(Xe=>({id:Xe.id,...Xe.data()}));T(xe)}catch(Te){console.error("Error fetching users:",Te)}},ve=NA(e,async Te=>{Te?(r(Te),await J(Te.uid),ne()):t("/")});return()=>ve()},[e,t]),E.useEffect(()=>{if(n){const ne=dr(st,"chats"),ve=Uu(ne,Xh("users","array-contains",n.uid)),Te=eh(ve,xe=>{const Xe=[];xe.forEach(nt=>{Xe.push({id:nt.id,...nt.data()})}),S(Xe),P(!1)});return()=>Te()}},[n]),E.useEffect(()=>{if(y){B(!0);const ne=dr(st,"chats",y,"messages"),ve=Uu(ne,sU("timestamp")),Te=eh(ve,xe=>{const Xe=[];xe.forEach(nt=>{Xe.push({id:nt.id,...nt.data()})}),d(Xe),B(!1)});return()=>Te()}else d([]),B(!1)},[y]),E.useEffect(()=>{if(!y||!c.length)return;const ne=x1(st);c.filter(ve=>ve.senderId!==n.uid&&!ve.seen).forEach(ve=>{const Te=jt(st,"chats",y,"messages",ve.id);ne.update(Te,{seen:!0})}),ne.commit()},[y,c]);const ae=async ne=>{D(ne);const ve=await re(ne.id);if(ve)v(ve.id),L(ve);else{const Te=await he("direct",[n.uid,ne.id],ne.displayName);if(Te){v(Te);const xe=w.find(Xe=>Xe.id===Te);L(xe)}}$(!1)},re=async ne=>{try{const ve=dr(st,"chats"),Te=Uu(ve,Xh("type","==","direct")),xe=await Wh(Te);for(const Xe of xe.docs){const nt=Xe.data();if(nt.users.includes(n.uid)&&nt.users.includes(ne))return{id:Xe.id,...nt}}return null}catch(ve){return console.error("Error checking existing chat:",ve),null}},me=ne=>{if(v(ne.id),L(ne),ne.type==="direct"){const ve=ne.users.find(xe=>xe!==n.uid),Te=C.find(xe=>xe.id===ve);D(Te)}else D(null)},Ae=async()=>{if(!y){console.error("Chat ID is not set.");return}const ne=jt(st,"chats",y),ve=await mr(ne);if(ve.exists()&&!(ve.data().users||[]).includes(n.uid)){vt.error("You can't message in this group.");return}h.trim()!==""&&(await vH(y,n.uid,h),p(""))},pe=ne=>{ne.key==="Enter"&&!ne.shiftKey&&(ne.preventDefault(),Ae())},he=async(ne,ve,Te="")=>{try{const xe=dr(st,"chats"),Xe={type:ne,name:Te||(ne==="direct"?"Direct Chat":"Group Chat"),users:ve,createdAt:pi(),lastMessage:null,lastMessageTime:null};if(ne==="direct"){const rn=ve.find(It=>It!==n.uid),mn=C.find(It=>It.id===rn);Xe.photoURL=(mn==null?void 0:mn.photoURL)||fh}else ne==="group"&&(Xe.photoURL="",Xe.admin=n.uid,Xe.userRoles={},ve.forEach(rn=>{Xe.userRoles[rn]=rn===n.uid?"admin":"member"}));return(await zl(xe,Xe)).id}catch(xe){return vt.error("Failed to create chat. Please try again.",xe),null}},Ee=async(ne,ve)=>{_e(!0);try{if(!ne.trim()){vt.error("Please provide a group name.");return}if(ve.length===0){vt.error("Please select at least one user.");return}const Te=[...ve,n.uid],xe=await he("group",Te,ne.trim());if(xe)console.log("Group chat created with ID:",xe),v(xe),vt.success(`Group "${ne}" created successfully!`),$(!1);else throw new Error("Failed to create chat")}catch(Te){console.error("Error creating group chat:",Te),vt.error("Failed to create group chat. Please try again.")}finally{_e(!1)}},ke=ne=>{if(ne===(n==null?void 0:n.uid))return"";const ve=C.find(Te=>Te.id===ne);return(ve==null?void 0:ve.displayName)||"Unknown User"},Oe=ne=>ne&&C.find(Te=>Te.id===ne)||null,Ve=ne=>{if(ne.type==="direct"){const ve=ne.users.find(xe=>xe!==n.uid),Te=C.find(xe=>xe.id===ve);return(Te==null?void 0:Te.displayName)||"Unknown User"}return ne.name},ze=ne=>{if(ne.type==="direct"){const ve=ne.users.find(xe=>xe!==n.uid),Te=C.find(xe=>xe.id===ve);return(Te==null?void 0:Te.photoURL)||fh}return ne.photoURL||fh},Rt=w.filter(ne=>Ve(ne).toLowerCase().includes(Y.toLowerCase()));return E.useEffect(()=>{if(!y||!(n!=null&&n.uid))return;const ne=jt(st,"chats",y),ve=eh(ne,Te=>{Te.exists()?(Te.data().users||[]).includes(n.uid)||(vt.error("You have been removed from this group."),le()):(vt.error("This chat no longer exists."),le())},Te=>{console.error("Error listening to chat:",Te),vt.error("Connection error. Please refresh.")});return()=>ve()},[y,n==null?void 0:n.uid]),_.jsxs("div",{className:"h-screen flex flex-col lg:flex-row",children:[_.jsx(lC,{}),H&&_.jsxs("div",{children:[" ",_.jsxs("div",{className:"w-64 bg-gray-800 text-white fixed top-0 left-0 z-50 overflow-y-auto p-4 flex flex-col h-full",children:[_.jsxs("div",{className:" rounded mb-4 flex items-center gap-2 justify-start",children:[_.jsxs(Nr,{className:"w-12 h-12",children:[_.jsx(Dr,{src:q==null?void 0:q.photoURL}),_.jsx(Or,{children:"P"})]}),_.jsx("h1",{className:"text-lg font-semibold capitalize",children:q==null?void 0:q.displayName})]}),_.jsx("hr",{className:"border border-gray-700 m-1"}),_.jsx(KB,{currentUserId:q.uid}),_.jsx(JB,{users:C,currentUserId:n.uid,submitText:"Create Group",isLoading:Se,onSubmit:Ee}),_.jsx(YB,{users:C,currentUserId:n==null?void 0:n.uid,handleSelectUser:ae}),_.jsx("div",{className:"absolute w-full bottom-0 left-0 p-2",children:_.jsx(pH,{})})]}),_.jsx("div",{onClick:()=>Q(),className:" bg-gray-500/30 fixed top-0 left-0 z-40 w-screen h-screen backdrop-blur-sm"})]}),_.jsxs("div",{className:"w-64 bg-gray-800 text-white fixed lg:sticky top-0 left-0 z-10 overflow-y-auto p-2 flex flex-col h-full",children:[_.jsxs("div",{className:"flex items-center justify-start gap-2 mb-4",children:[_.jsx("div",{onClick:()=>se(),className:"rounded-full bg-gray-700/50 p-2",children:_.jsx(un,{icon:"duo-icons:menu",width:"24",height:"24"})}),_.jsx("div",{className:"w-full",children:_.jsx(yi,{type:"search",placeholder:"Search...",className:"w-full rounded-full border border-gray-600",value:Y,onChange:ne=>O(ne.target.value)})})]}),I?_.jsx(NS,{}):_.jsx("div",{className:"space-y-2 mb-4 flex-1",children:Rt.map(ne=>_.jsx("div",{onClick:()=>me(ne),className:`cursor-pointer px-2 py-1 rounded transition-colors ${y===ne.id?"bg-blue-500/30 hover:bg-blue-500/40":" hover:bg-gray-700"}`,children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(Nr,{className:"w-12 h-12",children:[_.jsx(Dr,{src:ze(ne)}),_.jsx(Or,{children:"P"})]}),_.jsxs("div",{children:[_.jsx("div",{className:`text-sm capitalize truncate max-w-40 ${y===ne.id?"font-semibold ":""}`,children:Ve(ne)}),_.jsxs("div",{className:"text-xs capitalize text-gray-400 flex items-center gap-1",children:[ne.type,ne.lastMessage&&_.jsx("div",{className:`text-xs  truncate w-20 ${ga(ne.lastMessageTime)==="Just now"?"font-bold text-white":"text-gray-300"}`,children:ne.lastMessage}),ne.lastMessageTime&&_.jsx("div",{className:`text-xs  max-w-20 truncate ${ga(ne.lastMessageTime)==="Just now"?"font-bold text-gray-200":"text-gray-400"}`,children:ga(ne.lastMessageTime)})]})]})]})},ne.id))})]}),!y&&_.jsxs("div",{className:"w-screen bg-gray-800 sm:hidden text-white fixed lg:sticky top-0 left-0 z-30 overflow-y-auto p-2 flex flex-col h-full",children:[_.jsxs("div",{className:"flex items-center justify-start gap-2 mb-4",children:[_.jsx("div",{onClick:()=>se(),className:"rounded-full bg-gray-700/50 p-2",children:_.jsx(un,{icon:"duo-icons:menu",width:"24",height:"24"})}),_.jsx("div",{className:"w-full",children:_.jsx(yi,{type:"search",placeholder:"Search...",className:"w-full rounded-full border border-gray-600",value:Y,onChange:ne=>O(ne.target.value)})})]}),I?_.jsx(NS,{}):_.jsx("div",{className:"space-y-2 mb-4 flex-1",children:Rt.map(ne=>_.jsx("div",{onClick:()=>me(ne),className:`cursor-pointer p-2 rounded transition-colors ${y===ne.id?"bg-blue-500/30 hover:bg-blue-500/40":" hover:bg-gray-700"}`,children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(Nr,{className:"h-10 w-10",alt:Ve(ne),children:[_.jsx(Dr,{src:ze(ne)}),_.jsx(Or,{children:"CI"})]}),_.jsxs("div",{children:[_.jsx("div",{className:`text-sm capitalize truncate max-w-40 ${y===ne.id?"font-semibold ":""}`,children:Ve(ne)}),_.jsxs("div",{className:"text-xs capitalize text-gray-400 flex items-center gap-1",children:[ne.type,ne.lastMessage&&_.jsx("div",{className:`text-xs  truncate w-20 ${ga(ne.lastMessageTime)==="Just now"?"font-bold text-white":"text-gray-300"}`,children:ne.lastMessage}),ne.lastMessageTime&&_.jsx("div",{className:`text-xs  max-w-20 truncate ${ga(ne.lastMessageTime)==="Just now"?"font-bold text-gray-200":"text-gray-400"}`,children:ga(ne.lastMessageTime)})]})]})]})},ne.id))})]}),_.jsxs("div",{className:"flex-1 bg-gray-100  sm:ml-64 lg:ml-0 sticky top-0 left-0 z-20 overflow-y-auto flex flex-col h-full",children:[M&&_.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white shadow sm:ml-64 z-30",children:_.jsx("div",{className:"bg-white px-4 py-2 rounded shadow w-full flex items-center",children:_.jsxs("div",{className:"w-full flex justify-start items-center  gap-2",children:[_.jsx("div",{onClick:le,className:"rounded-full sm:hidden bg-gray-200/50 p-2 text-gray-800 shadow",children:_.jsx(un,{icon:"solar:rewind-back-bold-duotone",width:"24",height:"24"})}),M.type==="group"&&_.jsxs("div",{className:"flex justify-between items-center w-full",children:[_.jsxs("div",{className:"flex justify-start gap-3 items-center w-full",children:[_.jsxs(Nr,{className:"h-10 w-10",children:[_.jsx(Dr,{src:M.photoURL}),_.jsx(Or,{children:"GP"})]}),_.jsx("div",{className:"text-gray-800 font-semibold text-sm sm:text-lg capitalize",children:Ve(M)})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(mH,{users:C,currentUserId:n.uid,currentChat:M,submitText:"Add Members",onSubmit:U,isLoading:F}),_.jsx("div",{children:_.jsx(fH,{chatId:M.id,currentUserId:n.uid,clearCurrentChat:le})})]})]}),M.type==="direct"&&R&&_.jsxs("div",{className:"flex items-center",children:[_.jsx("img",{src:R.photoURL,alt:R.displayName,className:"w-10 h-10 rounded-full mr-2",onError:ne=>{ne.target.src=fh}}),_.jsx("span",{className:"text-lg text-gray-800 font-semibold capitalize",children:R.displayName})]})]})})}),_.jsx("div",{className:"bg-white rounded shadow flex-1 pt-12 pb-12 flex flex-col",children:y?_.jsxs(_.Fragment,{children:[j?_.jsx(hH,{}):_.jsx("div",{className:"flex-1 overflow-y-auto h-96 p-4 bg-gray-50",children:c.length>0?c.map(ne=>{var ve,Te,xe,Xe,nt;return _.jsx("div",{className:`flex mb-2 ${ne.type==="system"?"justify-center":ne.senderId===n.uid?"justify-end":"justify-start"}`,children:_.jsxs("div",{children:[" ",_.jsxs("div",{className:"flex items-end gap-1.5",children:[ne.senderId!==n.uid&&ne.type!=="system"&&_.jsxs(Nr,{className:"h-8 w-8",children:[_.jsx(Dr,{src:(ve=Oe(ne.senderId))==null?void 0:ve.photoURL}),_.jsx(Or,{children:"P"})]}),_.jsx("div",{className:`relative max-w-md lg:max-w-lg ${ne.type==="system"?"bg-white/80 text-gray-600 text-center px-3 py-1.5 rounded-full shadow-sm text-xs":ne.senderId===n.uid?"bg-blue-500 text-white px-3 py-2 shadow-sm rounded-tl-2xl rounded-tr-2xl rounded-bl-2xl rounded-br-md":"bg-white text-gray-800 px-3 py-2 shadow-sm border border-gray-100 rounded-tl-md rounded-tr-2xl rounded-bl-2xl rounded-br-2xl"}`,children:ne.type==="system"?_.jsx("p",{className:"text-xs font-medium",children:ne.message}):_.jsxs(_.Fragment,{children:[ne.senderId!==n.uid&&_.jsxs("div",{className:"flex gap-1.5 text-xs items-center mb-1",children:[ke(ne.senderId)&&_.jsx("p",{className:"capitalize font-semibold text-blue-600",children:ke(ne.senderId)}),_.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 rounded-full px-2 py-0.5 font-medium",children:(Te=Oe(ne.senderId))==null?void 0:Te.department}),_.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-600 rounded-full px-2 py-0.5 font-medium",children:(xe=Oe(ne.senderId))==null?void 0:xe.position})]}),ne.senderId===n.uid&&_.jsxs("div",{className:"flex gap-1.5 text-xs items-center mb-1 justify-end",children:[_.jsx("span",{className:"text-[10px] bg-white/20 text-white rounded-full px-2 py-0.5 font-medium",children:(Xe=Oe(ne.senderId))==null?void 0:Xe.department}),_.jsx("span",{className:"text-[10px] bg-white/20 text-white rounded-full px-2 py-0.5 font-medium",children:(nt=Oe(ne.senderId))==null?void 0:nt.position})]}),_.jsx("p",{className:"text-sm leading-relaxed mb-1",children:ne.message}),_.jsxs("div",{className:`flex items-center gap-1 ${ne.senderId===n.uid?"justify-end":"justify-start"}`,children:[_.jsx("p",{className:`text-[10px] ${ne.senderId===n.uid?"text-white/70":"text-gray-400"}`,children:ga(ne.timestamp)}),ne.senderId===n.uid&&_.jsx("div",{className:"flex",children:ne.senderId===n.uid&&_.jsx("div",{className:"flex",children:ne.seen?_.jsx(un,{icon:"solar:check-read-linear",width:"20",height:"20"}):_.jsx(un,{icon:"ic:round-check",width:"16",height:"16"})})})]})]})})]})]})},ne.id)}):_.jsx("div",{className:"flex items-center justify-center h-full text-gray-800",children:_.jsxs("div",{children:[_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("img",{src:yH,alt:"3d chat icon",className:"sm:size-30 size-20"})}),_.jsx("h1",{className:"sm:text-2xl text-lg font-semibold",children:"No messages yet. Start the conversation!"})]})})}),_.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-50 shadow-lg sm:ml-64 z-30",children:_.jsx("div",{className:"px-4 py-2  border-t border-gray-300 ",children:_.jsxs("div",{className:"flex",children:[_.jsx("input",{type:"text",className:"flex-1 p-2 outline-none rounded-l-lg ",value:h,required:!0,onChange:ne=>p(ne.target.value),onKeyPress:pe,placeholder:"Write a message...",disabled:j}),_.jsx("button",{onClick:Ae,className:` p-2 rounded-full ${h.trim()?"bg-blue-500 text-white ":"bg-gray-400 text-white cursor-not-allowed"}`,disabled:!h.trim(),children:_.jsx(un,{icon:"material-symbols:send-rounded",width:"30",height:"30"})})]})})})]}):_.jsx("div",{className:"hidden sm:flex items-center justify-center h-full text-gray-800 ",children:_.jsxs("div",{children:[_.jsx("div",{className:"flex items-center justify-center",children:_.jsx("img",{src:gH,alt:"3d chat icon",className:"sm:size-30 size-20"})}),_.jsx("h1",{className:"sm:text-2xl text-lg font-semibold",children:"Select a chat to start messaging..."})]})})})]})]})}function bH(){const[t,e]=E.useState(null),[n,r]=E.useState(!0);return E.useEffect(()=>{const o=_m(),a=NA(o,c=>{e(c),r(!1)});return()=>a()},[]),n?_.jsx("div",{className:"flex items-center justify-center h-screen"}):_.jsx(uM,{children:_.jsxs(BO,{children:[_.jsx(Hy,{path:"/",element:_.jsx(rS,{})}),_.jsx(Hy,{path:"/dashboard",element:t?_.jsx(_H,{}):_.jsx(rS,{})})]})})}Q2.createRoot(document.getElementById("root")).render(_.jsx(E.StrictMode,{children:_.jsx(bH,{})}));
